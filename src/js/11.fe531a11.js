(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"34b8":function(t,e,s){},"3f76":function(t,e,s){"use strict";var a=s("34b8"),r=s.n(a);r.a},5370:function(t,e,s){},"55da":function(t,e,s){},7586:function(t,e,s){"use strict";var a=s("f182"),r=s.n(a);r.a},8513:function(t,e,s){},"8e64":function(t,e,s){"use strict";var a=s("55da"),r=s.n(a);r.a},d31e:function(t,e,s){"use strict";var a=s("5370"),r=s.n(a);r.a},f0d1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getGlobalSubject?s("div",[s("year-bar",{staticClass:"yb-border"}),s("exam-bar"),s("div",{staticClass:"full-width bg-secondary",staticStyle:{height:"1px"}}),s("toolbar-page",{staticClass:"t-bar",attrs:{elements:t.elements,default:"classes"}})],1):t._e()},r=[],n=(s("e125"),s("4823"),s("2e73"),s("dde3"),s("76d0"),s("0c1f"),s("8e9e")),i=s.n(n),c=s("9ce4"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.yearOptions.length>1?s("div",{attrs:{year:"row fitx full-width"}},[s("q-btn-toggle",{attrs:{spread:"","no-caps":"",dense:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.yearOptions,year:"full-width"},on:{input:t.change},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1):t._e()},l=[],d=(s("c880"),s("288e"),s("4778")),u=s("452d"),h={getYears:function(t,e,s){s&&d["a"].get("/hod/years/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExams:function(t,e,s,a){a&&d["a"].get("/hod/years/"+s+"/exams/"+a).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExamClasses:function(t,e){var s=u["a"].getters["user/getGlobalSubject"],a=u["a"].getters["hod/activeYear"],r=u["a"].getters["hod/activeExam"];s&&a&&r&&d["a"].get("/hod/years/"+s.id+"/examclasses/"+a+"/"+r).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}};function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"Component.Home.Years.YearBar",props:{},data:function(){return{years:[],selectedYear:null,subjectId:null}},methods:m({},Object(c["d"])("hod",["setActiveYear"]),{process:function(t){this.years=t,this.selectedYear=this.years[0].id,this.$emit("loaded"),this.change()},change:function(){var t=this,e=this.years.find((function(e){return e.id===t.selectedYear}));this.setActiveYear(e.id),this.$emit("change",e)},setYears:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.subject&&h.getYears(this.process,this.$errorHandler,this.subject.id)}}),computed:{yearOptions:function(){return this.years.map((function(t){return{value:t.id,label:t.name}}))}},components:{},created:function(){var t=this;this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setYears),this.setYears()}},b=g,p=(s("8e64"),s("2be6")),x=s("e279"),y=s.n(x),v=s("6dd6"),C=Object(p["a"])(b,o,l,!1,null,"3a426b30",null),O=C.exports;y()(C,"components",{QBtnToggle:v["a"]});var j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.exams.length>1?s("div",{staticClass:"q-ma-xs q-ml-md",attrs:{exam:"row fitx full-widthx"}},[s("q-btn-toggle",{attrs:{spreadx:"","no-caps":"",dense:"",flat:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.examOptions},on:{input:t.change},model:{value:t.selectedExam,callback:function(e){t.selectedExam=e},expression:"selectedExam"}})],1):t._e()},w=[];function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function E(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var $={name:"Component.Home.Exams.ExamBar",props:{},data:function(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:E({},Object(c["d"])("hod",["setActiveExam"]),{process:function(t){this.exams=t,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change:function(){var t=this,e=this.exams.find((function(e){return e.id===t.selectedExam}));this.setActiveExam(e.id),this.$emit("change",e)},setExams:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&h.getExams(this.process,this.$errorHandler,this.subject.id,this.year)}}),computed:{examOptions:function(){return this.exams.map((function(t){return{value:t.id,label:t.examName}}))}},components:{},created:function(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setExams),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.setExams),this.setExams()},beforeDestroy:function(){this.subjectWatch(),this.examWatch()}},P=$,S=(s("7586"),Object(p["a"])(P,j,w,!1,null,"383b33d7",null)),Y=S.exports;y()(S,"components",{QBtnToggle:v["a"]});var q=s("08e9"),M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{loading:t.loadingClasses}}),!t.loadingClasses&&t.show&&t.classes.length>0?s("div",{staticClass:"row no-wrap q-px-xs q-pt-xs text-left",staticStyle:{"padding-bottom":"200px"}},[s("div",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"}},[s("q-scroll-area",{staticStyle:{height:"80vh"}},[s("q-list",{staticClass:"no-padding"},t._l(t.classes,(function(e){return s("q-item",{key:e.id,staticClass:"q-pa-xs text-white bg-tertiary q-my-xs",class:e.id===t.selectedClassId?"active-class":"",staticStyle:{border:"1px solid grey"},attrs:{clickable:"",group:"classes",dense:""},on:{click:function(s){return t.setClass(e.id)}}},[s("q-item-section",{attrs:{top:""}},[s("q-item-label",{staticClass:"row"},[s("div",{staticClass:"col text-h7 text-boldx text-font q-mt-xs text-center"},[s("span",{staticClass:"q-mr-md"},[t._v(t._s(e.code))])])])],1)],1)})),1)],1)],1),s("div",{staticClass:"col"},[s("loading",{attrs:{loading:t.loading}}),t.loading?t._e():s("q-markup-table",{attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiaryx"},[s("th",{attrs:{colspan:"3"}}),t._l(t.teachers,(function(e){return s("th",{key:e.id,staticClass:"bg-tertiary text-center",attrs:{colspan:t.exams.length}},[t._v("\n              MLO - "+t._s(e.login)+"\n            ")])}))],2),s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left"},[t._v("Name")]),s("th",{staticClass:"text-left"},[t._v("Class")]),s("th",{staticClass:"text-left"},[t._v("Boarding")]),t._l(t.teachers,(function(e){return s("th",{key:e.id,attrs:{colspan:t.exams.length}},[s("table",{staticClass:"full-width no-border"},t._l(t.exams,(function(e){return s("th",{key:e.id,staticClass:"text-center no-border"},[t._v(t._s(e.examCode)+"\n                ")])})),0)])}))],2)]),s("tbody",t._l(t.students,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-left"},[t._v(t._s(e.fullName))]),s("td",{staticClass:"text-left"},[t._v(t._s(t.classCode))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.boardingHouse))]),t._l(t.teachers,(function(a){return s("td",{key:a.id,attrs:{colspan:t.exams.length}},[s("table",{staticClass:"full-width no-border"},t._l(t.exams,(function(r){return s("td",{key:r.id,staticClass:"text-center no-border"},[t._v(t._s(t.parseMLO(e,r,a)))])})),0)])}))],2)})),0)])],1)]):t._e()],1)},k=[],D=s("7ba1"),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",[s("div",{staticClass:"flex flex-center col"},[s("div",{staticClass:"row text-center full-width"},[s("div",{staticClass:"col text-center cssload-wrap"},[t.minor?s("q-spinner-gears",{attrs:{color:"font-secondary",size:"6em"}}):t._e()],1),t.minor?t._e():s("div",{staticClass:"cssload-wrap"},[s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),t._m(0),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"})])])])]):t._e()},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-width full-height flex flex-centre"},[s("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})])}],G={name:"ComponentLoading",props:{loading:{default:!1,type:Boolean},minor:{default:!0,type:Boolean}},data:function(){return{}},methods:{},computed:{},components:{},created:function(){}},B=G,H=(s("3f76"),s("d1dc")),Q=s("b693"),W=Object(p["a"])(B,L,I,!1,null,null,null),A=W.exports;y()(W,"components",{QSpinnerGears:H["a"],QField:Q["a"]});var N={name:"HOD.Data.MLO",props:{},data:function(){return{year:null,exam:null,subject:null,students:[],maxMLOCount:4,classes:[],selectedClassId:null,show:!1,exams:[],teachers:[],classCode:[],loading:!1,loadingClasses:!0}},methods:{processMetrics:function(t){this.exams=t.exams,this.teachers=t.teachers,this.students=t.students,this.maxMLOCount=t.maxMLOCount,this.classCode=t.code,this.loading=!1},processClasses:function(t){this.classes=t,this.loadingClasses=!1,this.classes.length>0&&(this.show=!0,this.selectedClassId=this.classes[0].id,this.getClassMetrics())},getExamClasses:function(){this.loadingClasses=!0,h.getExamClasses(this.processClasses,this.$errorFunction)},getMLO:function(){this.year=this.$store.getters["hod/activeYear"],this.exam=this.$store.getters["hod/activeExam"],D["a"].getYearMLO(this.process,this.$errorHandler,this.year,this.exam)},setClass:function(t){this.selectedClassId=t,this.getClassMetrics()},getClassMetrics:function(){this.loading=!0,this.selectedClassId&&D["a"].getClassMetrics(this.processMetrics,this.$errorHandler,this.selectedClassId)},parseMLO:function(t,e,s){var a=t.examData.mlo.find((function(t){return t.teacher.id===s.id&&t.examId===e.id}));return a.mlo?a.mlo:"."}},computed:{columns:function(){for(var t=[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"Name",label:"Name",field:"displayName",type:"string",align:"left",sortable:!0},{name:"set",label:"Class",field:"classCode",type:"string",align:"left",sortable:!0},{name:"boarding",label:"Boarding",field:"boardingHouse",type:"string",align:"left",sortable:!0},{name:"mlo0",label:"MLO",field:"mlo0",type:"number",align:"left",sortable:!0}],e=1;e<this.maxMLOCount;e++){var s=e+1;t.push({name:"mlo"+e,label:"MLO "+s,field:"mlo"+e,type:"number",align:"left",sortable:!0,hidden:!1})}return t}},components:{Loading:A},created:function(){var t=this;this.subject=this.$store.getters["user/getGlobalSubject"],this.getExamClasses(),this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.getExamClasses),this.yearWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.getExamClasses),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeExam"]}),this.getExamClasses)},beforeDestroy:function(){this.subjectWatch(),this.yearWatch(),this.examWatch()}},T=N,F=(s("f590"),s("26a8")),J=s("6c93"),z=s("ac9b"),K=s("66dc"),R=s("7d9a"),U=s("2e0b"),V=Object(p["a"])(T,M,k,!1,null,"4191605b",null),X=V.exports;function Z(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function tt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}y()(V,"components",{QScrollArea:F["a"],QList:J["a"],QItem:z["a"],QItemSection:K["a"],QItemLabel:R["a"],QMarkupTable:U["a"]});var et={name:"Page.HOD.Metrics",data:function(){return{elements:[{name:"classes",label:"classes",component:X}]}},computed:tt({},Object(c["c"])("user",["getGlobalSubject"])),methods:tt({},Object(c["d"])("hod",["setActiveYear"])),components:{toolbarPage:q["a"],YearBar:O,ExamBar:Y},created:function(){var t=this;this.setActiveYear(13),this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setClass),this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.setClass)}},st=et,at=(s("d31e"),Object(p["a"])(st,a,r,!1,null,null,null));e["default"]=at.exports},f182:function(t,e,s){},f590:function(t,e,s){"use strict";var a=s("8513"),r=s.n(a);r.a}}]);