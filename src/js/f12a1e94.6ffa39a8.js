(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["f12a1e94"],{"009d":function(e,t,a){var s=a("ef37"),n=a("a97a")(!1);s(s.S,"Object",{values:function(e){return n(e)}})},"08e9":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"no-scroll toolbar-page"},[a("q-toolbar",{class:{"text-white bg-toolbar":e.isDark,"text-black bg-white-3":e.isLight},attrs:{dense:"",shrink:"",classx:"text-white shadow-2 rounded-borders narrowx justify"}},[a("q-tabs",{staticClass:"tbp-tabs",attrs:{dense:"",shrink:"","active-color":e.isLight?"#011b48":"primary"},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.elements,function(t){return a("div",{key:t.name},[t.menu?e._e():a("q-tab",{attrs:{label:t.label,name:t.name,icon:t.icon}}),t.menu?a("q-btn",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{"shift+a":function(){e.selectedTab="bookings"}},expression:"{'shift+a': () => { selectedTab = 'bookings' }}"}],attrs:{flat:"",size:"sm",label:t.label,icon:t.icon?t.icon:"fal fa-caret-down","text-color":e.isDark?"white":"primary"}},[a("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[a("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},e._l(t.menu,function(t){return a("q-item",{key:t.name,attrs:{clickable:""},nativeOn:{click:function(a){return e.clickMenu(t)}}},[a("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[a("q-icon",{attrs:{size:"20px",name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label))])],1)],1)}),1)],1)],1):e._e()],1)}),0),a("q-space"),e._t("side")],2),a("q-tab-panels",{model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.tabPanels,function(t){return a("q-tab-panel",{key:t.name,attrs:{name:t.name}},[a(t.component,{tag:"component",on:{close:e.close}})],1)}),1)],1)},n=[],l=(a("c880"),a("c03b")),i=a.n(l),o=a("9ce4"),r={name:"ComponentPageToolbar",props:{default:null,elements:null},watch:{selectedTab:function(){console.log(":",this.selectedTab)}},data:function(){return{selectedTab:null}},computed:i()({},Object(o["e"])("user",["isDark","isLight"]),{tabPanels:function(){var e=[];return this.elements.forEach(function(t){t.menu?t.menu.forEach(function(t){e.push({name:t.name,component:t.component})}):e.push({name:t.name,component:t.component})}),e}}),methods:{close:function(){this.selectedTab=this.default},clickMenu:function(e){e.name&&(this.selectedTab=e.name),e.event&&this.$emit(e.event)}},created:function(){this.selectedTab=this.default}},c=r,u=(a("b0d4"),a("2be6")),d=Object(u["a"])(c,s,n,!1,null,null,null);t["a"]=d.exports},"0dc0":function(e,t,a){"use strict";var s=a("66e2"),n=a.n(s);n.a},"1cde":function(e,t,a){},2457:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isWorking||e.isError||e.showConsole?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-md float-right no-shadow",attrs:{"text-color":"white",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})],1)]),a("console-component",{staticStyle:{"min-height":"400px"}})],1):e._e(),e.isWorking||e.isError||e.showConsole?e._e():a("toolbar-page",{attrs:{elements:e.elements,default:"results"},on:{spreadsheet:e.clickSpreadsheet},scopedSlots:e._u([{key:"side",fn:function(){return[a("q-btn",{staticClass:"no-shadow",attrs:{size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})]},proxy:!0}],null,!1,216217126)})],1)},n=[],l=a("c03b"),i=a.n(l),o=a("9ce4"),r=a("08e9"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("crud",{ref:"crud",attrs:{dataOverride:e.data,columns:e.columns,search:"",filterchips:""}})},u=[],d=(a("288e"),a("d612")),f={name:"ResultsDataTable",data:function(){return{columns:[{name:"id",label:"id",field:"id"},{name:"schoolId",label:"School Id",field:"txtSchoolID"},{name:"surname",required:!0,label:"Surname",align:"left",field:"txtSurname",sortable:!0},{name:"forename",label:"Forename",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"boarding",label:"House",field:"txtHouseCode",sortable:!0,type:"options",filter:!0,options:[]},{name:"exam",label:"Quali",field:"txtQualification"},{name:"Subject Code",label:"Code",field:"subjectCode",type:"options",sortable:!0,filter:!0,options:[]},{name:"grade",label:"Grade",field:"grade",sortable:!0,type:"options",filter:!0,options:[]},{name:"examTitle",label:"Exam",field:"txtOptionTitle"}],data:[]}},methods:{setData:function(e){this.data=this.resultsGCSE,this.columns.find(function(e){return"subjectCode"===e.field}).options=this.$parseOptions(this.data,"subjectCode"),this.columns.find(function(e){return"txtHouseCode"===e.field}).options=this.$parseOptions(this.data,"txtHouseCode"),this.columns.find(function(e){return"grade"===e.field}).options=this.$parseOptions(this.data,"grade")}},computed:i()({},Object(o["c"])("exams",["resultsGCSE"]),{tableClass:function(){if(this.dark)return"bg-black"}}),components:{Crud:d["a"]},created:function(){var e=this;this.setData(),this.$store.watch(function(){return e.$store.getters["exams/resultsGCSE"]},this.setData)}},m=f,b=(a("0dc0"),a("2be6")),h=Object(b["a"])(m,c,u,!1,null,"08eb2a44",null),p=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md text-white"},[a("q-btn-toggle",{attrs:{dark:"","toggle-color":"secondary",options:[{label:"Hundred",value:11},{label:"Remove",value:10},{label:"Shell",value:9}]},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),a("crud",{ref:"crud",attrs:{dataOverride:e.currentData,columns:e.columns,search:"",filterchips:"",fullscreen:""}})],1)},C=[],v=(a("009d"),a("2e73"),a("dde3"),a("76d0"),a("0c1f"),{name:"StudentResultsDataTable",data:function(){return{year:null,data:[]}},computed:i()({},Object(o["c"])("exams",["resultsGCSE","statisticsGCSE"]),{columns:function(){for(var e=[{name:"txtInitialedName",required:!0,label:"Name",align:"left",field:"txtInitialedName",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"house",label:"Hs",field:"txtHouseCode",sortable:!0}],t=this.currentStats.subjectResults,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];e.push({name:n,label:n,field:n,sortable:!0})}return e.push({name:"total",label:"Total",field:"resultCount",sortable:!0}),e.push({name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0}),e},currentStats:function(){switch(this.year){case 11:return this.statisticsGCSE.hundredStats;case 10:return this.statisticsGCSE.removeStats;case 9:return this.statisticsGCSE.shellStats}},currentData:function(){return Object.values(this.currentStats.allStudents)}}),methods:{setData:function(){this.year=this.statisticsGCSE.years[0].value,this.data=Object.values(this.currentStats.allStudents)}},components:{Crud:d["a"]},created:function(){var e=this;this.setData(),this.$store.watch(function(){return e.$store.getters["exams/resultsGCSE"]},this.setData)}}),S=v,x=(a("7e8c"),Object(b["a"])(S,g,C,!1,null,"5def2168",null)),y=x.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:""}})],1)},k=[],D={name:"SubjectResultsDataTable",data:function(){return{year:11,data:[]}},computed:i()({},Object(o["c"])("exams",["resultsGCSE","statisticsGCSE"]),{columns:function(){var e=[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"candidates",label:"Candidates",field:"candidates",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAvg",sortable:!0},{name:"ABs",label:"% AB",field:"ABpct",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0,align:"right"},{name:"%pass",label:"% Pass ",field:"passRate",sortable:!0,align:"left"},{name:"fails",label:"Fails",field:"fails",sortable:!0},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0}];return e},yearList:function(){return this.statistics.years},mappedData:function(){return this.data.map(function(e){return{subjectName:e.subjectName,boardName:e.boardName,position:e.position,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ABpct:e.summaryData["%ABs"],passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"]}})},currentStats:function(){switch(this.year){case 11:return this.statisticsGCSE.hundredStats;case 10:return this.statisticsGCSE.removeStats;case 9:return this.statisticsGCSE.shellStats}}}),methods:{setData:function(){this.year=this.statisticsGCSE.years[0].value,this.data=Object.values(this.currentStats.subjectResults)}},components:{Crud:d["a"]},created:function(){var e=this;this.setData(),this.$store.watch(function(){return e.$store.getters["exams/resultsGCSE"]},this.setData)}},G=D,w=(a("6633"),Object(b["a"])(G,E,k,!1,null,"e2953e2c",null)),_=w.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:""}})],1)},A=[],O={name:"SubjectResultsDataTable",data:function(){return{year:11,data:[]}},computed:i()({},Object(o["c"])("exams",["resultsGCSE","statisticsGCSE"]),{columns:function(){var e=[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0},{name:"sixOrMore",label:"> 6 As",field:"sixOrMore",sortable:!0},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}];return e},yearList:function(){return this.statistics.years},mappedData:function(){return this.data.map(function(e){return{txtHouseCode:e.txtHouseCode,position:e.position,gradeAverage:e.summaryData["gradeAverage"],sixOrMore:e.summaryData["sixOrMoreAs"],passes:e.passes,fails:e.fails,Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"]}})},currentStats:function(){switch(this.year){case 11:return this.statisticsGCSE.hundredStats;case 10:return this.statisticsGCSE.removeStats;case 9:return this.statisticsGCSE.shellStats}}}),methods:{setData:function(){this.year=this.statisticsGCSE.years[0].value,this.data=Object.values(this.currentStats.houseResults)}},components:{Crud:d["a"]},created:function(){var e=this;this.setData(),this.$store.watch(function(){return e.$store.getters["exams/resultsGCSE"]},this.setData)}},q=O,T=(a("66f4"),Object(b["a"])(q,j,A,!1,null,"bcba2fee",null)),$=T.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"text-secondary"},[e._v("Summary for Hundred Candidates")]),a("q-table",{attrs:{data:e.summaryData,columns:e.columns,filter:e.filter,"visible-columns":e.visibleColumns,separator:e.separator,pagination:e.paginationControl,"row-key":"id",color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(e){return[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}})]}}])})],1)},R=[],H={name:"HouseResultsDataTable",data:function(){return{columns:[{name:"desc",label:"Description",field:"desc",align:"left"},{name:"Boys",label:"Boys",field:"M_val",align:"right"},{name:"Boys%",label:"%",field:"M_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}},{name:"Girls",label:"Girls",field:"F_val",align:"right"},{name:"Girls%",label:"%",field:"F_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}},{name:"Total",label:"Total",field:"total_val",align:"right"},{name:"Total%",label:"%",field:"total_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}}],filter:"",visibleColumns:["desc","Boys","Boys%","Girls","Girls%","Total","Total%"],separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:50,page:1},loading:!1,dark:!0}},props:["statistics"],computed:{summaryData:function(){return this.statistics.hundredStats.summaryData}}},N=H,P=(a("baa0"),Object(b["a"])(N,B,R,!1,null,"5af84903",null)),F=P.exports,I=a("dd14"),L=a("de53"),M={name:"PageExamsGCSE",data:function(){return{elements:[{name:"results",label:"Results",component:p,shortcut:"r"},{name:"students",label:"Students",component:y,shortcut:"s"},{name:"subjects",label:"Subjects",component:_,shortcut:"u"},{name:"houses",label:"Houses",component:$,shortcut:"h"},{name:"statistics",label:"Statistics",component:F,shortcut:"t"},{name:"downloads",label:"",icon:"fal fa-xs fa-download",menu:[{event:"spreadsheet",label:"Spreadsheet",icon:"fal fa-file-excel"}]}],currentSessionId:"",isWorking:!1,isLoaded:!1,isError:!1,showConsole:!1}},methods:i()({},Object(o["b"])("sockets",["clearConsoleLog"]),Object(o["d"])("exams",["setResultsGCSE","setStatisticsGCSE"]),{setSession:function(e){!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.currentSessionId=e,L["a"].getSession(this.loadSession,null,{level:"gcse",sessionID:e}))},loadSession:function(e){this.isWorking=!1,this.setResultsGCSE(e.results),this.setStatisticsGCSE(e.statistics)},clickSpreadsheet:function(){this.$downloadBlob(this.statisticsGCSE.spreadsheet.path,this.statisticsGCSE.cemSpreadsheet.filename)},clickCemSpreadsheet:function(){this.$downloadBlob(this.statisticsGCSE.spreadsheet.path,this.statisticsGCSE.cemSpreadsheet.filename)}}),computed:i()({},Object(o["e"])("exams",["activeSession","resultsGCSE","statisticsGCSE"])),components:{toolbarPage:r["a"],ConsoleComponent:I["a"]},watch:{activeSession:function(e,t){this.setSession(e)}},created:function(){console.log(this.activeSession),this.activeSession&&this.setSession(this.activeSession)}},U=M,W=Object(b["a"])(U,s,n,!1,null,null,null);t["default"]=W.exports},"390e":function(e,t,a){},6633:function(e,t,a){"use strict";var s=a("390e"),n=a.n(s);n.a},"66e2":function(e,t,a){},"66f4":function(e,t,a){"use strict";var s=a("776c"),n=a.n(s);n.a},"776c":function(e,t,a){},"7e8c":function(e,t,a){"use strict";var s=a("dc95"),n=a.n(s);n.a},b0d4:function(e,t,a){"use strict";var s=a("b3f7"),n=a.n(s);n.a},b3f7:function(e,t,a){},b6fc:function(e,t,a){},b709:function(e,t,a){"use strict";var s=a("b6fc"),n=a.n(s);n.a},baa0:function(e,t,a){"use strict";var s=a("1cde"),n=a.n(s);n.a},dc95:function(e,t,a){},dd14:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"console q-ma-md full-height"},[a("p",{staticClass:"q-ma-sm"},[e._v("Console")]),a("ul",e._l(e.consoleLog,function(t){return a("li",{key:t.lineIndex,class:{error:t.isError,indent1:1==t.indent,indent2:2==t.indent,indent3:3==t.indent}},[e._v("\n      "+e._s(t.message)+"\n    ")])}),0)])},n=[],l=a("c03b"),i=a.n(l),o=a("9ce4"),r={name:"AppConsole",data:function(){return{}},computed:i()({},Object(o["c"])("sockets",["consoleLog"]))},c=r,u=(a("b709"),a("2be6")),d=Object(u["a"])(c,s,n,!1,null,"227ecc31",null);t["a"]=d.exports},de53:function(e,t,a){"use strict";var s=a("4778");t["a"]={getSessions:function(e,t){s["a"].get("/exams/sessions").then(function(t){e(t.data)}).catch(function(e){e()})},getSession:function(e,t,a){console.log(a),s["a"].get("/exams/"+a.level+"/results/"+a.sessionID).then(function(t){console.log("here",t),e(t.data)}).catch(function(e){console.log("error",e),t(e)})}}}}]);