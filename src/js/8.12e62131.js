(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"009dd":function(e,t,s){"use strict";var a=s("8e39"),r=s.n(a);r.a},"097e":function(e,t,s){},1866:function(e,t,s){},2225:function(e,t,s){},2793:function(e,t,s){},"2fc7":function(e,t,s){},5612:function(e,t,s){},"5ce3":function(e,t,s){"use strict";var a=s("1866"),r=s.n(a);r.a},"5ff5":function(e,t,s){"use strict";var a=s("6b17"),r=s.n(a);r.a},"6b17":function(e,t,s){},"72f1":function(e,t,s){"use strict";var a=s("2fc7"),r=s.n(a);r.a},"796c":function(e,t,s){},"7dd0":function(e,t,s){"use strict";var a=s("89a8"),r=s.n(a);r.a},"89a8":function(e,t,s){},"8b79":function(e,t,s){"use strict";var a=s("796c"),r=s.n(a);r.a},"8e39":function(e,t,s){},a4c7:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.error?s("h1",[e._v("Oh dear :(")]):e._e(),e.nullResult?s("h1",{staticClass:"q-ma-lg"},[e._v("No Results")]):e._e(),e.isWorking||e.isError||e.showConsole?s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-btn",{staticClass:"q-mt-md float-right no-shadow",attrs:{"text-color":"white",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})],1)]),s("console-component",{staticStyle:{"min-height":"400px"}})],1):e._e(),e.isWorking||e.isError||e.showConsole||e.nullResult?e._e():s("toolbar-page",{attrs:{elements:e.elements,default:"overview"},on:{spreadsheetDetailed:e.clickSpreadsheetDetailed,spreadsheetSSS:e.clickSpreadsheetSSS,spreadsheetResults:e.clickSpreadsheetResults,spreadsheetHouseCandidates:e.clickSpreadsheetHouseCandidates,spreadsheetSubjectCandidates:e.clickSpreadsheetSubjectCandidates},scopedSlots:e._u([{key:"side",fn:function(){return[s("h1",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.timestamp))]),s("q-btn",{staticClass:"no-shadow",attrs:{size:"sm",icon:"fal fa-retweet-alt"},on:{click:e.refreshSession}}),s("q-btn",{staticClass:"no-shadow",attrs:{size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})]},proxy:!0}],null,!1,3292533018)})],1)},r=[],l=(s("e125"),s("4823"),s("2e73"),s("dde3"),s("76d0"),s("0c1f"),s("8e9e")),i=s.n(l),o=s("9ce4"),n=s("08e9"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-px-md text-white"},[s("q-btn-toggle",{attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"AS Level",value:"ASB"},{label:"Pre U",value:"FC"},{label:"EPQ",value:"B"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"U6",value:13},{label:"L6",value:12},{label:"Other",value:"other"}]},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.filteredData,columns:e.columns,search:"",filterchips:""}})],1)},c=[],u=(s("288e"),s("d612"));function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"ResultsDataTable",data:function(){return{level:"all",year:"all",columns:[{name:"id",label:"id",field:"id"},{name:"schoolId",label:"School Id",field:"txtSchoolID"},{name:"surname",required:!0,label:"Surname",field:"txtSurname",sortable:!0},{name:"forename",label:"Forename",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"boarding",label:"House",field:"txtHouseCode",sortable:!0,type:"string",filter:!0,options:[]},{name:"exam",label:"Quali",field:"txtQualification",sortable:!0},{name:"Subject Code",label:"Code",field:"subjectCode",type:"string",sortable:!0,editable:!0,filter:!0,options:[]},{name:"grade",label:"Grade",field:"grade",sortable:!0,type:"string",filter:!0,options:[]},{name:"examTitle",label:"Exam",field:"txtOptionTitle"}],data:[]}},methods:{setData:function(e){this.data=this.resultsALevel,this.columns.find((function(e){return"subjectCode"===e.field})).options=this.$parseOptions(this.data,"subjectCode"),this.columns.find((function(e){return"txtHouseCode"===e.field})).options=this.$parseOptions(this.data,"txtHouseCode"),this.columns.find((function(e){return"grade"===e.field})).options=this.$parseOptions(this.data,"grade")}},computed:p({},Object(o["c"])("exams",["resultsALevel"]),{tableClass:function(){if(this.dark)return"bg-black"},filteredData:function(){var e=this,t="all"===this.level?this.data:this.data.filter((function(t){return t.txtLevel===e.level}));return"other"===this.year?t.filter((function(e){return e.NCYear<12})):"all"===this.year?t:t.filter((function(t){return t.NCYear===e.year}))}}),components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsGCSE"]}),this.setData)}},b=f,m=(s("5ce3"),s("2be6")),v=Object(m["a"])(b,d,c,!1,null,"69d44e11",null),g=v.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-pa-md text-white"},[s("q-btn-toggle",{attrs:{dark:"","toggle-color":"secondary",options:[{label:"Grade",value:"grade"},{label:"Surplus",value:"surplus"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.currentData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtInitialedName",sortBy:"txtInitialedName",sidebarComponents:e.sidebarComponents}})],1)},y=[],w=(s("009d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row"},[s("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtInitialedName))]),s("h5",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtSchoolID))]),s("div",{staticClass:"full-width"},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Subject")]),s("th",{staticClass:"text-left"},[e._v("Grade")]),s("th",{staticClass:"text-left"},[e._v("Surplus")])])]),s("tbody",e._l(e.selectedRow.results,(function(t){return s("tr",{key:t.subjectCode},[s("td",{staticClass:"text-left"},[e._v(e._s(t.txtSubjectName))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.surplus))])])})),0)])],1)]):e._e()}),P=[],A={name:"ExamsALevelSubjectsModules",data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){},props:{selectedRow:{required:!0}}},S=A,D=(s("009dd"),Object(m["a"])(S,w,P,!1,null,"6353a61c",null)),O=D.exports;function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var k={name:"StudentResultsDataTable",data:function(){return{data:[],type:"grade",sidebarComponents:[{title:"Overview",name:"sidebar",component:O}]}},computed:x({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{columns:function(){for(var e=[{name:"txtInitialedName",required:!0,label:"Name",align:"left",field:"txtInitialedName",sortable:!0,sticky:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"house",label:"Hs",field:"txtHouseCode",sortable:!0},{name:"uca",label:"UCA",field:"ucasAverage",sortable:!0}],t=this.currentStats.subjectKeys,s=0,a=Object.keys(t);s<a.length;s++){var r=a[s];this.currentData.filter((function(e){return e[r]}))&&e.push({name:r,label:r,field:r,sortable:!0})}return e},currentStats:function(){return this.statisticsALevel.data},currentData:function(){var e=this;return"grade"===this.type?Object.values(this.currentStats.allStudents).filter((function(e){return e.NCYear>12})):Object.values(this.currentStats.allStudents).map((function(t){var s={};s.txtInitialedName=t.txtInitialedName,s.txtGender=t.txtGender,s.NCYear=t.NCYear,s.ucasAverage=t.ucasAverage,s.txtHouseCode=t.$txtHouseCode;for(var a=e.currentStats.subjectKeys,r=0,l=Object.keys(a);r<l.length;r++){var i=l[r];t.subjects[i]&&(s[i]=t.subjects[i].surplus)}return s}))}}),methods:{setData:function(){this.data=Object.values(this.currentStats.allStudents)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},R=k,_=(s("b960"),Object(m["a"])(R,C,y,!1,null,"5fe29b53",null)),M=_.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-pa-md text-white"},[s("q-btn-toggle",{attrs:{dark:"","toggle-color":"secondary",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"},{label:"AS",value:"AS"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",sidebarComponents:e.sidebarComponents,rowKey:"subjectName",sortBy:"subjectName"}}),"P"===e.type?s("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?s("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?s("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?s("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},L=[],U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.subjectName:""))]),s("div",{staticClass:"row"},[s("div",{ref:"chartdiv",staticClass:"col"})]),s("div",{staticClass:"row"},[s("div",{ref:"sssdiv",staticClass:"col"})]),"PreU"!==e.type?s("div",{staticClass:"row q-mb-lg"},[s("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?s("div",{staticClass:"row"},[s("div",{ref:"preuPie",staticClass:"col"})]):e._e(),s("div",{staticClass:"row"},[s("div",{ref:"stacked",staticClass:"col full-width",staticStyle:{"min-height":"300px"}})]),e.selectedRow?s("q-markup-table",{attrs:{flat:"",bordered:"",dark:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Board")]),s("th",{staticClass:"text-left"},[e._v("Candidates")]),s("th",{staticClass:"text-left"},[e._v("Grade Average")])])]),s("tbody",e._l(e.history.slice().reverse(),(function(t){return s("tr",{key:t.year},[s("td",{staticClass:"text-left"},[e._v(e._s(t.year))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.board))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.candidateCount))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.gradeAverage))])])})),0)]):e._e()],1)},N=[],q=(s("c880"),s("915b")),B=s("3099"),$=s("3903"),F=s("d610");function G(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function H(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?G(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}q["f"](F["a"]),q["f"]($["a"]);var Y={name:"ComponentCrudDetails",data:function(){return{dark:!0,hasMounted:!1}},methods:{createPreUPie:function(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.createPie(e,this.$refs.preuPie)}},createALevelPie:function(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.createPie(e,this.$refs.alevelPie)}},createChart1:function(){var e=q["c"](this.$refs.chartdiv,B["j"]);e.data=this.history;var t=e.xAxes.push(new B["i"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new B["i"]);s.title.text="Grade Avg.",s.title.fontWeight="bold";var a=e.series.push(new B["e"]);a.dataFields.valueX="year",a.dataFields.valueY="gradeAverage",a.strokeWidth=3,a.fillOpacity=.2},createPie:function(e,t){var s=q["c"](t,B["f"]),a=s.series.push(new B["g"]);a.dataFields.value="count",a.dataFields.category="grade",s.innerRadius=q["e"](30),a.slices.template.stroke=q["b"]("#fff"),a.slices.template.strokeWidth=2,a.slices.template.strokeOpacity=1,a.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],a.alignLabels=!0,a.labels.template.bent=!0,a.labels.template.radius=3,a.labels.template.padding(0,0,0,0),a.ticks.template.disabled=!0;var r=a.slices.template.filters.push(new q["a"]);r.opacity=0;var l=a.slices.template.states.getKey("hover"),i=l.filters.push(new q["a"]);i.opacity=.7,i.blur=5,s.data=e},createSSSChart:function(){var e=q["c"](this.$refs.sssdiv,B["j"]);e.data=this.history,console.log(this.history);var t=e.xAxes.push(new B["i"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new B["i"]);s.title.text="Subject Surplus",s.title.fontWeight="bold";var a=e.series.push(new B["e"]);a.dataFields.valueX="year",a.dataFields.valueY="surplus",a.strokeWidth=3,a.fillOpacity=.2},createStacked:function(){var e=q["c"](this.$refs.stacked,B["j"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,console.log(e.data),e.colors.step=4,e.padding(10,10,10,10),e.legend=new B["d"];var t=e.xAxes.push(new B["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new B["i"]);s.min=0,s.max=100,s.strictMinMax=!0,s.calculateTotals=!0,s.renderer.minWidth=50,"A"===this.type?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1"))},addStackSeries:function(e,t){var s=e.series.push(new B["b"]);s.columns.template.width=q["e"](80),s.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",s.name=t,s.dataFields.categoryX="year",s.dataFields.valueY=t,s.dataFields.valueYShow="totalPercent",s.dataItems.template.locations.categoryX=.5,s.stacked=!0,s.tooltip.pointerOrientation="vertical"}},watch:{selectedRow:function(){console.warn("changed");var e=this;setTimeout((function(){e.createStacked(),e.createChart1(),e.createSSSChart(),e.createALevelPie(),e.createPreUPie()}),100)}},computed:H({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{gradeHistory:function(){var e=this.selectedRow.subjectCode,t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,s=t.reverse().map((function(e){return{year:e.year,"A*":e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}}));return s},history:function(){var e=this.selectedRow.subjectCode;console.warn(this.selectedRow.level);var t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,s=t.map((function(e){return{year:e.year,gradeAverage:e.gradeAverage,board:e.board,candidateCount:e.candidateCount,surplus:e.surplus}}));return s},type:function(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created:function(){},mounted:function(){},props:{selectedRow:{required:!0}}},W=Y,T=(s("8b79"),Object(m["a"])(W,U,N,!1,null,"66c773eb",null)),I=T.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row"},[s("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.subjectName))]),s("div",{staticClass:"full-width"},[s("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:"FINAL RESULTS"}},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Name")]),s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Grade")])])]),s("tbody",e._l(e.selectedRow.results,(function(t){return s("tr",{key:t.txtInitialedName},[s("td",{staticClass:"text-left"},[e._v(e._s(t.txtInitialedName))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.NCYear))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))])])})),0)])],1)],1),e.selectedRow.modules.length>0?s("h1",{staticClass:"row full-width"},[e._v("Modules")]):e._e(),e._l(e.selectedRow.modules,(function(t){return s("div",{key:t.moduleCode,staticClass:"full-width"},[s("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:t.title,caption:t.moduleCode}},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Name")]),s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Mark")]),s("th",{staticClass:"text-left"},[e._v("Grade")])])]),s("tbody",e._l(t.results,(function(a){return s("tr",{key:a.txtInitialedName},[s("td",{staticClass:"text-left"},[e._v(e._s(a.txtInitialedName))]),s("td",{staticClass:"text-left"},[e._v(e._s(a.NCYear))]),s("td",{staticClass:"text-left"},[e._v(e._s(parseInt(a.mark))+" / "+e._s(t.total))]),s("td",{staticClass:"text-left"},[e._v(e._s(a.grade))])])})),0)])],1)],1)}))],2):e._e()},K=[],z={name:"ExamsALevelSubjectsModules",data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){},props:{selectedRow:{required:!0}}},J=z,Q=(s("7dd0"),Object(m["a"])(J,X,K,!1,null,"f3c39df6",null)),V=Q.exports;function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function ee(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var te={name:"SubjectResultsDataTable",data:function(){return{type:"A",data:[],sidebarComponents:[{title:"Overview",name:"sidebar",component:I},{title:"Results",name:"modules",component:V}]}},computed:ee({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{columns:function(){var e=[];return e="A"===this.type||"AS"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"Astar",label:"%A*",field:"%Astar",sortable:!0},{name:"As",label:"%A*A",field:"%As",sortable:!0},{name:"ABs",label:"%AB",field:"%ABs",sortable:!0},{name:"%pass",label:"% Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:"PreU"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%D",label:"%D",field:"%D",sortable:!0,align:"left"},{name:"%M",label:"%M",field:"%M",sortable:!0,align:"left"},{name:"%P",label:"%P",field:"%P",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"level",label:"Level",field:"level",sortable:!0},{name:"u",label:"Fails",field:"fails",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%pass",label:"%Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}],e},mappedData:function(){var e=this;if("A"===this.type||"AS"===this.type){var t=Object.values(this.data[this.type]).filter((function(e){return e.results.length>0}));return t.map((function(t){return{subjectName:t.subjectName,subjectCode:t.subjectCode,boardName:t.boardName,position:t.position,surplus:t.surplus,candidates:t.summaryData["candidateCount"],gradeAvg:t.summaryData["gradeAverage"],ucasAvg:t.summaryData.ucasAverage,"%Astar":t.summaryData["%Astar"],"%As":t.summaryData["%As"],"%ABs":t.summaryData["%ABs"],passes:t.passes,fails:t.fails,passRate:t.summaryData["%passRate"],Astar:t.gradeCounts["A*"],A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],U:t.gradeCounts["U"],type:e.type,modules:t.modules,results:t.results,level:t.level}}))}if("PreU"===this.type){var s=Object.values(this.data[this.type]).filter((function(e){return e.results.length>0}));return s.map((function(t){return{subjectName:t.subjectName,subjectCode:t.subjectCode,boardName:t.boardName,position:t.position,surplus:t.surplus,candidates:t.summaryData["candidateCount"],gradeAvg:t.summaryData["gradeAverage"],ucasAvg:t.summaryData.ucasAverage,passes:t.passes,fails:t.fails,passRate:t.summaryData["%passRate"],"%D":t.summaryData["%D"],"%M":t.summaryData["%M"],"%P":t.summaryData["%P"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],U:t.gradeCounts["U"],type:e.type,modules:t.modules,results:t.results,level:t.level}}))}var a=Object.values(this.data).filter((function(e){return("PreU"===e.level||"A"===e.level)&&e.results.length>0}));return a.map((function(e){return{subjectName:e.subjectName,subjectCode:e.subjectCode,boardName:e.boardName,position:e.position,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ucasAvg:e.summaryData.ucasAverage,passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],type:e.level,modules:e.modules,results:e.results,level:e.level,Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}}))},currentStats:function(){return this.statisticsALevel.data}}),methods:{setData:function(){this.data=this.currentStats.subjectResults,console.warn(this.data)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},se=te,ae=(s("5ff5"),Object(m["a"])(se,E,L,!1,null,"3001174a",null)),re=ae.exports,le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-px-md text-white"},[s("q-btn-toggle",{attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"New L6",value:"NL6"},{label:"Shell Joiners",value:"LS"}]},model:{value:e.joined,callback:function(t){e.joined=t},expression:"joined"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"}]},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtHouseCode",sidebarComponents:e.sidebarComponents}}),"P"===e.type?s("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?s("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?s("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?s("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},ie=[],oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.txtHouseCode:""))]),s("div",{staticClass:"row"},[s("div",{ref:"chartdiv",staticClass:"col"})]),"PreU"!==e.type?s("div",{staticClass:"row q-mb-lg"},[s("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?s("div",{staticClass:"row"},[s("div",{ref:"preuPie",staticClass:"col"})]):e._e()])},ne=[];function de(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function ce(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?de(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):de(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}q["f"](F["a"]),q["f"]($["a"]);var ue={name:"ComponentCrudDetails",data:function(){return{dark:!0,hasMounted:!1,lineChart:null,alevelPie:null,preuPie:null}},methods:{createPreUPie:function(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.preuPie&&this.preuPie.dispose(),this.preuPie=q["c"](this.$refs.preuPie,B["f"]),this.createPie(e,this.$refs.preuPie,this.preuPie)}},createALevelPie:function(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.alevelPie&&this.alevelPie.dispose(),this.alevelPie=q["c"](this.$refs.alevelPie,B["f"]),this.createPie(e,this.$refs.alevelPie,this.alevelPie)}},createChart1:function(){this.lineChart&&this.lineChart.dispose(),this.lineChart=q["c"](this.$refs.chartdiv,B["j"]),this.lineChart.data=this.history;var e=this.lineChart.xAxes.push(new B["i"]);e.title.text="Year",e.title.fontWeight="bold",e.strictMinMax=!0,e.renderer.minGridDistance=50;var t=this.lineChart.yAxes.push(new B["i"]);t.title.text="Grade Avg.",t.title.fontWeight="bold";var s=this.lineChart.series.push(new B["e"]);s.dataFields.valueX="year",s.dataFields.valueY="gradeAverage",s.strokeWidth=3,s.fillOpacity=.2},createPie:function(e,t,s){var a=s.series.push(new B["g"]);a.dataFields.value="count",a.dataFields.category="grade",s.innerRadius=q["e"](30),a.slices.template.stroke=q["b"]("#fff"),a.slices.template.strokeWidth=2,a.slices.template.strokeOpacity=1,a.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],a.alignLabels=!0,a.labels.template.bent=!0,a.labels.template.radius=3,a.labels.template.padding(0,0,0,0),a.ticks.template.disabled=!0;var r=a.slices.template.filters.push(new q["a"]);r.opacity=0;var l=a.slices.template.states.getKey("hover"),i=l.filters.push(new q["a"]);i.opacity=.7,i.blur=5,s.data=e}},watch:{selectedRow:function(){this.createChart1(),this.createALevelPie(),this.createPreUPie()}},computed:ce({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{history:function(){var e=this.selectedRow.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,s=this.selectedRow,a=t.map((function(e){return{year:e.year,gradeAverage:e.data[s.type][s.joined][s.gender].pointsAvg}}));return console.log(a),a},type:function(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created:function(){},mounted:function(){},props:{selectedRow:{required:!0}}},he=ue,pe=(s("efcf"),Object(m["a"])(he,oe,ne,!1,null,"7a77d362",null)),fe=pe.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col"})},me=[];function ve(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function ge(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ve(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}q["f"](F["a"]),q["f"]($["a"]);var Ce={name:"ComponentExamsGASpark",props:{row:{required:!0}},data:function(){return{}},methods:{createChart:function(){var e=q["c"](this.$refs.chartdiv,B["j"]);e.data=this.history,e.autoMargins=!1,e.marginLeft=0,e.marginRight=0,e.marginTop=0,e.marginBottom=0,e.cursor=new B["k"],e.cursor.lineY.disabled=!0,e.cursor.behavior="none",e.width=q["e"](45),e.height=20;var t=e.xAxes.push(new B["i"]);t.gridAlpha=0,t.axisAlpha=0,t.renderer.grid.template.disabled=!0,t.renderer.baseGrid.disabled=!0,t.renderer.labels.template.disabled=!0,t.cursorTooltipEnabled=!1;var s=e.yAxes.push(new B["i"]);s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1;var a=e.series.push(new B["e"]);a.dataFields.valueX="year",a.dataFields.valueY="gradeAverage",a.strokeWidth=3,a.fillOpacity=.2}},computed:ge({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{history:function(){var e=this.row.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,s=this.row,a=t.map((function(e){return{year:e.year,gradeAverage:e.data[s.type][s.joined][s.gender].pointsAvg}}));return a}}),components:{},created:function(){},mounted:function(){}},ye=Ce,we=(s("fdd8"),Object(m["a"])(ye,be,me,!1,null,"6444bd78",null)),Pe=we.exports;function Ae(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function Se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ae(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var De={name:"SubjectResultsDataTable",data:function(){return{data:[],type:"all",joined:"all",gender:"all",sidebarComponents:[{title:"Overview",name:"sidebar",component:fe}]}},computed:Se({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{columns:function(){var e=[];return e="A"===this.type?[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:Pe},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}]:[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:Pe},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}],e},mappedData:function(){var e=this,t=[];if("A"===this.type){var s=this.data.filter((function(t){return t.data[e.type][e.joined][e.gender].pointsAvg>0}));return s.map((function(s){return t=s.data[e.type][e.joined][e.gender],t.pointsAvg,{txtHouseCode:s.txtHouseCode,position:t.position,gradeAverage:t.pointsAvg,passes:t.passes,fails:t.fails,Astar:t.gradeCounts["A*"],A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],U:t.gradeCounts["U"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],type:e.type,joined:e.joined,gender:e.gender}}))}var a=this.data.filter((function(t){return t.data[e.type][e.joined][e.gender].pointsAvg>0}));return a.map((function(s){return t=s.data[e.type][e.joined][e.gender],{txtHouseCode:s.txtHouseCode,position:t.position,gradeAverage:t.pointsAvg,passes:t.passes,fails:t.fails,A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],U:t.gradeCounts["PU"],type:e.type,joined:e.joined,gender:e.gender}}))},currentStats:function(){return this.statisticsALevel.data}}),methods:{setData:function(){this.data=Object.values(this.currentStats.houseResults),console.log(this.data)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},Oe=De,je=(s("a675"),Object(m["a"])(Oe,le,ie,!1,null,"306b6354",null)),xe=je.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"row text-white"},[s("h1",[e._v("Historical Grade Average")]),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"},{label:"New L6",value:"new"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"Grade Total",value:""},{label:"UCAS Total",value:"Ucas"},{label:"Per Exam",value:"PerExam"}]},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("div",{ref:"chartdiv",staticClass:"row",staticStyle:{"min-height":"300px"}}),s("br"),s("div",{staticClass:"row text-white"},[s("h1",[e._v("Historical Grade Proportions")]),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),s("div",{ref:"stacked",staticClass:"row",staticStyle:{"min-height":"300px"}}),s("h1",[e._v("Total Grade Points")]),s("div",{ref:"treemap",staticClass:"row full-width",staticStyle:{"min-height":"300px"},attrs:{id:"treemap"}}),s("div",{ref:"chord",staticClass:"row full-width",staticStyle:{"min-height":"1000px"}})]),s("div",{staticClass:"col"},[s("div",{ref:"alevelPie",staticClass:"row q-ma-lg",attrs:{id:"apie"}}),s("br"),s("div",{ref:"preuPie",staticClass:"row q-ma-lg",attrs:{id:"upie"}}),e.loaded?s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Grade")]),s("th",{staticClass:"text-left"},[e._v("Boys")]),s("th",{staticClass:"text-left"},[e._v("Girls")])])]),s("tbody",e._l(e.gradeCounts,(function(t){return s("tr",{key:t.grade},[s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.boys))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.girls))])])})),0)]):e._e()],1)])])},Re=[],_e=(s("e285"),s("cd05"),s("7f3a")),Me=s.n(_e);s("d2b6");function Ee(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function Le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ee(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}q["f"](F["a"]);var Ue={name:"ExamsAlevelSummary",data:function(){return{dark:!0,hasMounted:!1,type:"all",level:"A",map:"points",stacked:null,alevelPie:null,preuPie:null,linechart:null,treemap:null,chord:null,scope:"PerExam",loaded:!1}},methods:{createPreUPie:function(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type];console.log(e);var t=[];e["D1"]>0&&t.push({grade:"D1",count:e["D1"]}),e["D2"]>0&&t.push({grade:"D2",count:e["D2"]}),e["D3"]>0&&t.push({grade:"D3",count:e["D3"]}),e["M1"]>0&&t.push({grade:"M1",count:e["M1"]}),e["M2"]>0&&t.push({grade:"M2",count:e["M2"]}),e["M3"]>0&&t.push({grade:"M3",count:e["M3"]}),e["P1"]>0&&t.push({grade:"P1",count:e["P1"]}),e["P2"]>0&&t.push({grade:"P2",count:e["P2"]}),e["P3"]>0&&t.push({grade:"P3",count:e["P3"]}),e["PU"]>0&&t.push({grade:"U",count:e["PU"]}),this.preuPie=q["c"](this.$refs.preuPie,B["f"]),this.createPie(t,this.preuPie)},createALevelPie:function(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type],t=[];console.log(e),e["A*"]>0&&t.push({grade:"A*",count:e["A*"]}),e["A"]>0&&t.push({grade:"A",count:e["A"]}),e["B"]>0&&t.push({grade:"B",count:e["B"]}),e["C"]>0&&t.push({grade:"C",count:e["C"]}),e["D"]>0&&t.push({grade:"D",count:e["D"]}),e["E"]>0&&t.push({grade:"E",count:e["E"]}),e["U"]>0&&t.push({grade:"U",count:e["U"]}),this.alevelPie=q["c"](this.$refs.alevelPie,B["f"]),this.createPie(t,this.alevelPie)},createChart1:function(){this.linechart&&this.linechart.dispose();var e=q["c"](this.$refs.chartdiv,B["j"]);e.data=this.statisticsALevel.data.history;var t=e.xAxes.push(new B["i"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0;var s=e.yAxes.push(new B["i"]);s.title.text="Grade Avg.",s.title.fontWeight="bold";var a=e.series.push(new B["e"]);a.dataFields.valueX="year",a.dataFields.valueY=this.type+"Avg"+this.scope,a.strokeWidth=3,a.fillOpacity=.2,a.tooltipText="{value}",a.tooltip.pointerOrientation="vertical",this.linechart=e},createPie:function(e,t){var s=t.series.push(new B["g"]);s.dataFields.value="count",s.dataFields.category="grade",t.innerRadius=q["e"](30),s.slices.template.stroke=q["b"]("#fff"),s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1,s.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],s.alignLabels=!0,s.labels.template.bent=!0,s.labels.template.radius=3,s.labels.template.padding(0,0,0,0),s.ticks.template.disabled=!0;var a=s.slices.template.filters.push(new q["a"]);a.opacity=0;var r=s.slices.template.states.getKey("hover"),l=r.filters.push(new q["a"]);l.opacity=.7,l.blur=5,t.data=e},createStacked:function(){this.stacked&&this.stacked.dispose();var e=q["c"](this.$refs.stacked,B["j"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,e.colors.step=4,e.padding(10,10,10,10),e.legend=new B["d"];var t=e.xAxes.push(new B["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new B["i"]);s.min=0,s.max=100,s.strictMinMax=!0,s.calculateTotals=!0,s.renderer.minWidth=50,"A"===this.level?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1")),this.stacked=e},addStackSeries:function(e,t){var s=e.series.push(new B["b"]);s.columns.template.width=q["e"](80),s.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",s.name=t,s.dataFields.categoryX="year",s.dataFields.valueY=t,s.dataFields.valueYShow="totalPercent",s.dataItems.template.locations.categoryX=.5,s.stacked=!0,s.tooltip.pointerOrientation="vertical"},createTreemap:function(e){this.treemap&&this.treemap.dispose();var t=q["c"](this.$refs.treemap,B["h"]),s=this.treemapData;t.data=s,t.colors.step=2,t.dataFields.value="value",t.dataFields.name="name",t.dataFields.children="children",t.layoutAlgorithm=t.binaryTree,t.zoomable=!0;var a=t.seriesTemplates.create("0"),r=a.columns.template;r.column.fillOpacity=0,r.column.strokeWidth=4,r.column.strokeOpacity=0;var l=t.seriesTemplates.create("1"),i=l.columns.template;l.tooltip.animationDuration=0,l.tooltip.dy=-15,l.tooltip.pointerOrientation="vertical",l.strokeOpacity=1,i.column.fillOpacity=1,i.column.stroke=q["b"]("#ffffff");var o=l.bullets.push(new B["c"]);o.locationY=.5,o.locationX=.5,o.label.text="{name}",o.label.fill=q["b"]("#ffffff"),t.maxLevels=2,t.legend=new B["d"],this.treemap=t,e&&(this.createChart1(),this.createALevelPie(),this.createPreUPie(),this.createStacked(),this.createChord(),this.createTreemap())},createChord:function(){}},computed:Le({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"]),{gradeCounts:function(){return this.statisticsALevel.data.summaryData.gradeCounts},treemapData:function(){var e=Object.values(this.statisticsALevel.data.subjectResults.A),t=Object.values(this.statisticsALevel.data.subjectResults.PreU),s=Object.values(this.statisticsALevel.data.subjectResults.EPQ),a=[].concat(Me()(e),Me()(t),Me()(s)),r=Me()(new Set(a.map((function(e){return e["boardName"]})))),l=r.map((function(e){return{name:e,children:[]}}));return a.forEach((function(e){var t=l.find((function(t){return t.name===e.boardName}));t.children.push({name:e.subjectCode,fullName:e.subjectName,value:e.points})})),l},gradeHistory:function(){var e=this,t=this.statisticsALevel.data.history,s=t.reverse().map((function(t){return{year:t.year,"A*":t.gradeCounts[e.type]["A*"],A:t.gradeCounts[e.type]["A"],B:t.gradeCounts[e.type]["B"],C:t.gradeCounts[e.type]["C"],D:t.gradeCounts[e.type]["D"],E:t.gradeCounts[e.type]["E"],U:t.gradeCounts[e.type]["U"],D1:t.gradeCounts[e.type]["D1"],D2:t.gradeCounts[e.type]["D2"],D3:t.gradeCounts[e.type]["D3"],M1:t.gradeCounts[e.type]["M1"],M2:t.gradeCounts[e.type]["M2"],M3:t.gradeCounts[e.type]["M3"],P1:t.gradeCounts[e.type]["P1"],P2:t.gradeCounts[e.type]["P2"],P3:t.gradeCounts[e.type]["P3"]}}));return s}}),watch:{scope:function(){this.createChart1()},type:function(){this.createALevelPie(),this.createPreUPie(),this.createChart1(),this.createStacked()},level:function(){this.createStacked()}},components:{},created:function(){},mounted:function(){this.hasMounted=!0,this.$q.loading.show();var e=this;setTimeout((function(){e.createTreemap(!0),e.$q.loading.hide(),e.loaded=!0}),500)},beforeDestroy:function(){this.stacked&&this.stacked.dispose(),this.alevelPie&&this.alevelPie.dispose(),this.preuPie&&this.preuPie.dispose(),this.linechart&&this.linechart.dispose(),this.treemap&&this.treemap.dispose()},props:{}},Ne=Ue,qe=(s("72f1"),Object(m["a"])(Ne,ke,Re,!1,null,"0658c75c",null)),Be=qe.exports,$e=s("dd14"),Fe=s("de53");function Ge(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function He(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ge(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ye={name:"PageExamsGCSE",data:function(){return{error:!1,nullResult:!1,timestamp:"",elements:[{name:"overview",label:"Overview",component:Be,shortcut:"t"},{name:"results",label:"Results",component:g,shortcut:"r"},{name:"students",label:"Students",component:M,shortcut:"s"},{name:"subjects",label:"Subjects",component:re,shortcut:"u"},{name:"houses",label:"Houses",component:xe,shortcut:"h"},{name:"downloads",label:"",icon:"fal fa-xs fa-download",menu:[{event:"spreadsheetDetailed",label:"Detailed Spreadsheet",icon:"fal fa-info-square"},{event:"spreadsheetResults",label:"Just Results",icon:"fal fa-sort-shapes-up-alt"},{event:"spreadsheetSSS",label:"SSS Spreadsheet",icon:"fal fa-star-half-alt"},{event:"spreadsheetHouseCandidates",label:"House Candidates",icon:"fal fa-home-lg"},{event:"spreadsheetSubjectCandidates",label:"Subject Candidates",icon:"fal fa-graduation-cap"}]}],currentSessionId:"",isWorking:!1,isLoaded:!1,isError:!1,showConsole:!1}},methods:He({},Object(o["b"])("sockets",["clearConsoleLog"]),{},Object(o["d"])("exams",["setResultsALevel","setStatisticsALevel"]),{refreshSession:function(){this.error=!1,this.showConsole=!0,!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.$q.loading.show(),Fe["a"].getSession(this.loadSession,this.loadingError,{level:"alevel",sessionID:this.activeSession}))},loadingError:function(){this.error=!0,this.$q.loading.hide(),this.isWorking=!1,this.showConsole=!1},setSession:function(e){!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.currentSessionId=e,this.$q.loading.show(),Fe["a"].getSessionCache(this.loadSession,null,{level:"alevel",sessionID:e}))},loadSession:function(e){this.nullResult=0===e.results.length,this.isWorking=!1,this.setResultsALevel(e.results),this.setStatisticsALevel(e.statistics),this.timestamp=e.timestamp,this.showConsole=!1,this.$q.loading.hide()},clickSpreadsheetDetailed:function(){this.$downloadBlob(this.statisticsALevel.spreadsheet.path,this.statisticsALevel.spreadsheet.filename)},clickSpreadsheetSSS:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetSSS.path,this.statisticsALevel.spreadsheetSSS.filename)},clickSpreadsheetResults:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetResults.path,this.statisticsALevel.spreadsheetResults.filename)},clickSpreadsheetHouseCandidates:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetHouseCandidates.path,this.statisticsALevel.spreadsheetHouseCandidates.filename)},clickSpreadsheetSubjectCandidates:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetSubjectCandidates.path,this.statisticsALevel.spreadsheetSubjectCandidates.filename)},clickCemSpreadsheet:function(){this.$downloadBlob(this.statisticsGCSE.spreadsheet.path,this.statisticsGCSE.cemSpreadsheet.filename)}}),computed:He({},Object(o["e"])("exams",["activeSession","resultsALevel","statisticsALevel"])),components:{toolbarPage:n["a"],ConsoleComponent:$e["a"]},watch:{activeSession:function(e,t){this.setSession(e)}},created:function(){console.log(this.activeSession),this.activeSession&&this.setSession(this.activeSession)}},We=Ye,Te=Object(m["a"])(We,a,r,!1,null,null,null);t["default"]=Te.exports},a675:function(e,t,s){"use strict";var a=s("2225"),r=s.n(a);r.a},b960:function(e,t,s){"use strict";var a=s("5612"),r=s.n(a);r.a},efcf:function(e,t,s){"use strict";var a=s("2793"),r=s.n(a);r.a},fdd8:function(e,t,s){"use strict";var a=s("097e"),r=s.n(a);r.a}}]);