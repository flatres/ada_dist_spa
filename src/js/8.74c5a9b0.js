(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"009dd":function(e,t,a){"use strict";var s=a("7218"),r=a.n(s);r.a},"33c9":function(e,t,a){"use strict";var s=a("8ef1"),r=a.n(s);r.a},"5ce3":function(e,t,a){"use strict";var s=a("f8bf"),r=a.n(s);r.a},"5ff5":function(e,t,a){"use strict";var s=a("fcba"),r=a.n(s);r.a},7218:function(e,t,a){},"728a":function(e,t,a){},7824:function(e,t,a){},"7dd0":function(e,t,a){"use strict";var s=a("7824"),r=a.n(s);r.a},"8ad4":function(e,t,a){},"8b79":function(e,t,a){"use strict";var s=a("dd1e"),r=a.n(s);r.a},"8ef1":function(e,t,a){},"9d00":function(e,t,a){},a4c7:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.error?a("h1",[e._v("Oh dear :(")]):e._e(),e.nullResult?a("h1",{staticClass:"q-ma-lg"},[e._v("No Results")]):e._e(),a("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-retweet-alt"},on:{click:e.refreshSession}}),e.isWorking||e.isError||e.showConsole?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-mt-md float-right no-shadow",attrs:{"text-color":"font",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})],1)]),a("console-component",{staticStyle:{"min-height":"400px"}})],1):e._e(),e.isWorking||e.isError||e.showConsole||e.nullResult?e._e():a("toolbar-page",{attrs:{elements:e.elements,default:"overview"},on:{spreadsheetDetailed:e.clickSpreadsheetDetailed,spreadsheetSSS:e.clickSpreadsheetSSS,spreadsheetResults:e.clickSpreadsheetResults,spreadsheetHouseCandidates:e.clickSpreadsheetHouseCandidates,spreadsheetSubjectCandidates:e.clickSpreadsheetSubjectCandidates},scopedSlots:e._u([{key:"side",fn:function(){return[a("h1",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.timestamp))]),a("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-retweet-alt"},on:{click:e.refreshSession}}),a("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})]},proxy:!0}],null,!1,1849852890)})],1)},r=[],l=(a("e125"),a("4823"),a("2e73"),a("dde3"),a("76d0"),a("0c1f"),a("8e9e")),i=a.n(l),o=a("9ce4"),n=a("08e9"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-px-md text-white"},[a("q-btn-toggle",{attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"AS Level",value:"ASB"},{label:"Pre U",value:"FC"},{label:"EPQ",value:"B"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"U6",value:13},{label:"L6",value:12},{label:"Other",value:"other"}]},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),a("crud",{ref:"crud",attrs:{dataOverride:e.filteredData,columns:e.columns,search:"",filterchips:""}})],1)},d=[],u=(a("288e"),a("d612"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"ResultsDataTable",data:function(){return{level:"all",year:"all",columns:[{name:"id",label:"id",field:"id"},{name:"schoolId",label:"School Id",field:"txtSchoolID"},{name:"surname",required:!0,label:"Surname",field:"txtSurname",sortable:!0},{name:"forename",label:"Forename",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"boarding",label:"House",field:"txtHouseCode",sortable:!0,type:"string",filter:!0,options:[]},{name:"exam",label:"Quali",field:"txtQualification",sortable:!0},{name:"Subject Code",label:"Code",field:"subjectCode",type:"string",sortable:!0,editable:!0,filter:!0,options:[]},{name:"grade",label:"Grade",field:"grade",sortable:!0,type:"string",filter:!0,options:[]},{name:"examTitle",label:"Exam",field:"txtOptionTitle"}],data:[]}},methods:{setData:function(e){this.data=this.resultsALevel,this.columns.find((function(e){return"subjectCode"===e.field})).options=this.$parseOptions(this.data,"subjectCode"),this.columns.find((function(e){return"txtHouseCode"===e.field})).options=this.$parseOptions(this.data,"txtHouseCode"),this.columns.find((function(e){return"grade"===e.field})).options=this.$parseOptions(this.data,"grade")}},computed:h(h({},Object(o["c"])("exams",["resultsALevel"])),{},{tableClass:function(){if(this.dark)return"bg-black"},filteredData:function(){var e=this,t="all"===this.level?this.data:this.data.filter((function(t){return t.txtLevel===e.level}));return"other"===this.year?t.filter((function(e){return e.NCYear<12})):"all"===this.year?t:t.filter((function(t){return t.NCYear===e.year}))}}),components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsGCSE"]}),this.setData)}},b=f,m=(a("5ce3"),a("2be6")),v=a("6dd6"),g=a("18f0"),C=a("bc74"),y=a("e279"),w=a.n(y),P=Object(m["a"])(b,c,d,!1,null,"69d44e11",null),A=P.exports;w()(P,"components",{QBtnToggle:v["a"],QTable:g["a"],QInput:C["a"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md text-white"},[a("q-btn-toggle",{attrs:{dark:"","toggle-color":"secondary",options:[{label:"Grade",value:"grade"},{label:"Surplus",value:"surplus"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("crud",{ref:"crud",attrs:{dataOverride:e.currentData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtInitialedName",sortBy:"txtInitialedName",sidebarComponents:e.sidebarComponents}})],1)},D=[],O=(a("009d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedRow?a("div",{staticClass:"row"},[a("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtInitialedName))]),a("h5",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtSchoolID))]),a("div",{staticClass:"full-width"},[a("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Subject")]),a("th",{staticClass:"text-left"},[e._v("Grade")]),a("th",{staticClass:"text-left"},[e._v("Surplus")])])]),a("tbody",e._l(e.selectedRow.results,(function(t){return a("tr",{key:t.subjectCode},[a("td",{staticClass:"text-left"},[e._v(e._s(t.txtSubjectName))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.surplus))])])})),0)])],1)]):e._e()}),j=[],x={name:"ExamsALevelSubjectsModules",data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){},props:{selectedRow:{required:!0}}},k=x,R=(a("009dd"),a("2e0b")),_=Object(m["a"])(k,O,j,!1,null,"6353a61c",null),M=_.exports;function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}w()(_,"components",{QMarkupTable:R["a"]});var U={name:"StudentResultsDataTable",data:function(){return{data:[],type:"grade",sidebarComponents:[{title:"Overview",name:"sidebar",component:M}]}},computed:L(L({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns:function(){for(var e=[{name:"txtInitialedName",required:!0,label:"Name",align:"left",field:"txtInitialedName",sortable:!0,sticky:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"house",label:"Hs",field:"txtHouseCode",sortable:!0},{name:"uca",label:"UCA",field:"ucasAverage",sortable:!0}],t=this.currentStats.subjectKeys,a=0,s=Object.keys(t);a<s.length;a++){var r=s[a];this.currentData.filter((function(e){return e[r]}))&&e.push({name:r,label:r,field:r,sortable:!0})}return e},currentStats:function(){return this.statisticsALevel.data},currentData:function(){var e=this;return"grade"===this.type?Object.values(this.currentStats.allStudents).filter((function(e){return e.NCYear>12})):Object.values(this.currentStats.allStudents).map((function(t){var a={};a.txtInitialedName=t.txtInitialedName,a.txtGender=t.txtGender,a.NCYear=t.NCYear,a.ucasAverage=t.ucasAverage,a.txtHouseCode=t.$txtHouseCode;for(var s=e.currentStats.subjectKeys,r=0,l=Object.keys(s);r<l.length;r++){var i=l[r];t.subjects[i]&&(a[i]=t.subjects[i].surplus)}return a}))}}),methods:{setData:function(){this.data=Object.values(this.currentStats.allStudents)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},N=U,B=(a("b960"),Object(m["a"])(N,S,D,!1,null,"5fe29b53",null)),q=B.exports;w()(B,"components",{QBtnToggle:v["a"],QTable:g["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md text-white"},[a("q-btn-toggle",{attrs:{dark:"","toggle-color":"secondary",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"},{label:"AS",value:"AS"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",sidebarComponents:e.sidebarComponents,rowKey:"subjectName",sortBy:"subjectName"}}),"P"===e.type?a("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?a("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?a("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?a("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},F=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.subjectName:""))]),a("div",{staticClass:"row"},[a("div",{ref:"chartdiv",staticClass:"col"})]),a("div",{staticClass:"row"},[a("div",{ref:"sssdiv",staticClass:"col"})]),"PreU"!==e.type?a("div",{staticClass:"row q-mb-lg"},[a("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?a("div",{staticClass:"row"},[a("div",{ref:"preuPie",staticClass:"col"})]):e._e(),a("div",{staticClass:"row"},[a("div",{ref:"stacked",staticClass:"col full-width",staticStyle:{"min-height":"300px"}})]),e.selectedRow?a("q-markup-table",{attrs:{flat:"",bordered:"",dark:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Year")]),a("th",{staticClass:"text-left"},[e._v("Board")]),a("th",{staticClass:"text-left"},[e._v("Candidates")]),a("th",{staticClass:"text-left"},[e._v("Grade Average")])])]),a("tbody",e._l(e.history.slice().reverse(),(function(t){return a("tr",{key:t.year},[a("td",{staticClass:"text-left"},[e._v(e._s(t.year))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.board))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.candidateCount))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.gradeAverage))])])})),0)]):e._e()],1)},T=[],H=(a("c880"),a("915b")),Y=a("3099"),W=a("3903"),I=a("d610");function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var K={name:"ComponentCrudDetails",data:function(){return{dark:!0,hasMounted:!1}},methods:{createPreUPie:function(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.createPie(e,this.$refs.preuPie)}},createALevelPie:function(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.createPie(e,this.$refs.alevelPie)}},createChart1:function(){var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.history;var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var a=e.yAxes.push(new Y["k"]);a.title.text="Grade Avg.",a.title.fontWeight="bold";var s=e.series.push(new Y["g"]);s.dataFields.valueX="year",s.dataFields.valueY="gradeAverage",s.strokeWidth=3,s.fillOpacity=.2},createPie:function(e,t){var a=H["c"](t,Y["h"]),s=a.series.push(new Y["i"]);s.dataFields.value="count",s.dataFields.category="grade",a.innerRadius=H["e"](30),s.slices.template.stroke=H["b"]("#fff"),s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1,s.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],s.alignLabels=!0,s.labels.template.bent=!0,s.labels.template.radius=3,s.labels.template.padding(0,0,0,0),s.ticks.template.disabled=!0;var r=s.slices.template.filters.push(new H["a"]);r.opacity=0;var l=s.slices.template.states.getKey("hover"),i=l.filters.push(new H["a"]);i.opacity=.7,i.blur=5,a.data=e},createSSSChart:function(){var e=H["c"](this.$refs.sssdiv,Y["l"]);e.data=this.history,console.log(this.history);var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var a=e.yAxes.push(new Y["k"]);a.title.text="Subject Surplus",a.title.fontWeight="bold";var s=e.series.push(new Y["g"]);s.dataFields.valueX="year",s.dataFields.valueY="surplus",s.strokeWidth=3,s.fillOpacity=.2},createStacked:function(){var e=H["c"](this.$refs.stacked,Y["l"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,console.log(e.data),e.colors.step=4,e.padding(10,10,10,10),e.legend=new Y["f"];var t=e.xAxes.push(new Y["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var a=e.yAxes.push(new Y["k"]);a.min=0,a.max=100,a.strictMinMax=!0,a.calculateTotals=!0,a.renderer.minWidth=50,"A"===this.type?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1"))},addStackSeries:function(e,t){var a=e.series.push(new Y["c"]);a.columns.template.width=H["e"](80),a.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",a.name=t,a.dataFields.categoryX="year",a.dataFields.valueY=t,a.dataFields.valueYShow="totalPercent",a.dataItems.template.locations.categoryX=.5,a.stacked=!0,a.tooltip.pointerOrientation="vertical"}},watch:{selectedRow:function(){console.warn("changed");var e=this;setTimeout((function(){e.createStacked(),e.createChart1(),e.createSSSChart(),e.createALevelPie(),e.createPreUPie()}),100)}},computed:X(X({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{gradeHistory:function(){var e=this.selectedRow.subjectCode,t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,a=t.reverse().map((function(e){return{year:e.year,"A*":e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}}));return a},history:function(){var e=this.selectedRow.subjectCode;console.warn(this.selectedRow.level);var t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,a=t.map((function(e){return{year:e.year,gradeAverage:e.gradeAverage,board:e.board,candidateCount:e.candidateCount,surplus:e.surplus}}));return a},type:function(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created:function(){},mounted:function(){},props:{selectedRow:{required:!0}}},z=K,J=(a("8b79"),Object(m["a"])(z,G,T,!1,null,"66c773eb",null)),V=J.exports;w()(J,"components",{QMarkupTable:R["a"]});var Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedRow?a("div",{staticClass:"row"},[a("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.subjectName))]),a("div",{staticClass:"full-width"},[a("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:"FINAL RESULTS"}},[a("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Name")]),a("th",{staticClass:"text-left"},[e._v("Year")]),a("th",{staticClass:"text-left"},[e._v("Grade")])])]),a("tbody",e._l(e.selectedRow.results,(function(t){return a("tr",{key:t.txtInitialedName},[a("td",{staticClass:"text-left"},[e._v(e._s(t.txtInitialedName))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.NCYear))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.grade))])])})),0)])],1)],1),e.selectedRow.modules.length>0?a("h1",{staticClass:"row full-width"},[e._v("Modules")]):e._e(),e._l(e.selectedRow.modules,(function(t){return a("div",{key:t.moduleCode,staticClass:"full-width"},[a("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:t.title,caption:t.moduleCode}},[a("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Name")]),a("th",{staticClass:"text-left"},[e._v("Year")]),a("th",{staticClass:"text-left"},[e._v("Mark")]),a("th",{staticClass:"text-left"},[e._v("Grade")])])]),a("tbody",e._l(t.results,(function(s){return a("tr",{key:s.txtInitialedName},[a("td",{staticClass:"text-left"},[e._v(e._s(s.txtInitialedName))]),a("td",{staticClass:"text-left"},[e._v(e._s(s.NCYear))]),a("td",{staticClass:"text-left"},[e._v(e._s(parseInt(s.mark))+" / "+e._s(t.total))]),a("td",{staticClass:"text-left"},[e._v(e._s(s.grade))])])})),0)])],1)],1)}))],2):e._e()},ee=[],te={name:"ExamsALevelSubjectsModules",data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){},props:{selectedRow:{required:!0}}},ae=te,se=(a("7dd0"),a("0f3b")),re=Object(m["a"])(ae,Z,ee,!1,null,"f3c39df6",null),le=re.exports;function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}w()(re,"components",{QExpansionItem:se["a"],QMarkupTable:R["a"]});var ne={name:"SubjectResultsDataTable",data:function(){return{type:"A",data:[],sidebarComponents:[{title:"Overview",name:"sidebar",component:V},{title:"Results",name:"modules",component:le}]}},computed:oe(oe({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns:function(){var e=[];return e="A"===this.type||"AS"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"Astar",label:"%A*",field:"%Astar",sortable:!0},{name:"As",label:"%A*A",field:"%As",sortable:!0},{name:"ABs",label:"%AB",field:"%ABs",sortable:!0},{name:"%pass",label:"% Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:"PreU"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%D",label:"%D",field:"%D",sortable:!0,align:"left"},{name:"%M",label:"%M",field:"%M",sortable:!0,align:"left"},{name:"%P",label:"%P",field:"%P",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"level",label:"Level",field:"level",sortable:!0},{name:"u",label:"Fails",field:"fails",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%pass",label:"%Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}],e},mappedData:function(){var e=this;if("A"===this.type||"AS"===this.type){var t=Object.values(this.data[this.type]).filter((function(e){return e.results.length>0}));return t.map((function(t){return{subjectName:t.subjectName,subjectCode:t.subjectCode,boardName:t.boardName,position:t.position,surplus:t.surplus,candidates:t.summaryData["candidateCount"],gradeAvg:t.summaryData["gradeAverage"],ucasAvg:t.summaryData.ucasAverage,"%Astar":t.summaryData["%Astar"],"%As":t.summaryData["%As"],"%ABs":t.summaryData["%ABs"],passes:t.passes,fails:t.fails,passRate:t.summaryData["%passRate"],Astar:t.gradeCounts["A*"],A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],U:t.gradeCounts["U"],type:e.type,modules:t.modules,results:t.results,level:t.level}}))}if("PreU"===this.type){var a=Object.values(this.data[this.type]).filter((function(e){return e.results.length>0}));return a.map((function(t){return{subjectName:t.subjectName,subjectCode:t.subjectCode,boardName:t.boardName,position:t.position,surplus:t.surplus,candidates:t.summaryData["candidateCount"],gradeAvg:t.summaryData["gradeAverage"],ucasAvg:t.summaryData.ucasAverage,passes:t.passes,fails:t.fails,passRate:t.summaryData["%passRate"],"%D":t.summaryData["%D"],"%M":t.summaryData["%M"],"%P":t.summaryData["%P"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],U:t.gradeCounts["U"],type:e.type,modules:t.modules,results:t.results,level:t.level}}))}var s=Object.values(this.data).filter((function(e){return("PreU"===e.level||"A"===e.level)&&e.results.length>0}));return s.map((function(e){return{subjectName:e.subjectName,subjectCode:e.subjectCode,boardName:e.boardName,position:e.position,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ucasAvg:e.summaryData.ucasAverage,passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],type:e.level,modules:e.modules,results:e.results,level:e.level,Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}}))},currentStats:function(){return this.statisticsALevel.data}}),methods:{setData:function(){this.data=this.currentStats.subjectResults,console.warn(this.data)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},ce=ne,de=(a("5ff5"),Object(m["a"])(ce,$,F,!1,null,"3001174a",null)),ue=de.exports;w()(de,"components",{QBtnToggle:v["a"],QTable:g["a"],QInput:C["a"]});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-px-md text-white"},[a("q-btn-toggle",{attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"New L6",value:"NL6"},{label:"Shell Joiners",value:"LS"}]},model:{value:e.joined,callback:function(t){e.joined=t},expression:"joined"}}),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{dark:"",densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"}]},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),a("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtHouseCode",sidebarComponents:e.sidebarComponents}}),"P"===e.type?a("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?a("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?a("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?a("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},he=[],fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.txtHouseCode:""))]),a("div",{staticClass:"row"},[a("div",{ref:"chartdiv",staticClass:"col"})]),"PreU"!==e.type?a("div",{staticClass:"row q-mb-lg"},[a("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?a("div",{staticClass:"row"},[a("div",{ref:"preuPie",staticClass:"col"})]):e._e()])},be=[];function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var ge={name:"ComponentCrudDetails",data:function(){return{dark:!0,hasMounted:!1,lineChart:null,alevelPie:null,preuPie:null}},methods:{createPreUPie:function(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.preuPie&&this.preuPie.dispose(),this.preuPie=H["c"](this.$refs.preuPie,Y["h"]),this.createPie(e,this.$refs.preuPie,this.preuPie)}},createALevelPie:function(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.alevelPie&&this.alevelPie.dispose(),this.alevelPie=H["c"](this.$refs.alevelPie,Y["h"]),this.createPie(e,this.$refs.alevelPie,this.alevelPie)}},createChart1:function(){this.lineChart&&this.lineChart.dispose(),this.lineChart=H["c"](this.$refs.chartdiv,Y["l"]),this.lineChart.data=this.history;var e=this.lineChart.xAxes.push(new Y["k"]);e.title.text="Year",e.title.fontWeight="bold",e.strictMinMax=!0,e.renderer.minGridDistance=50;var t=this.lineChart.yAxes.push(new Y["k"]);t.title.text="Grade Avg.",t.title.fontWeight="bold";var a=this.lineChart.series.push(new Y["g"]);a.dataFields.valueX="year",a.dataFields.valueY="gradeAverage",a.strokeWidth=3,a.fillOpacity=.2},createPie:function(e,t,a){var s=a.series.push(new Y["i"]);s.dataFields.value="count",s.dataFields.category="grade",a.innerRadius=H["e"](30),s.slices.template.stroke=H["b"]("#fff"),s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1,s.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],s.alignLabels=!0,s.labels.template.bent=!0,s.labels.template.radius=3,s.labels.template.padding(0,0,0,0),s.ticks.template.disabled=!0;var r=s.slices.template.filters.push(new H["a"]);r.opacity=0;var l=s.slices.template.states.getKey("hover"),i=l.filters.push(new H["a"]);i.opacity=.7,i.blur=5,a.data=e}},watch:{selectedRow:function(){this.createChart1(),this.createALevelPie(),this.createPreUPie()}},computed:ve(ve({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{history:function(){var e=this.selectedRow.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,a=this.selectedRow,s=t.map((function(e){return{year:e.year,gradeAverage:e.data[a.type][a.joined][a.gender].pointsAvg}}));return console.log(s),s},type:function(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created:function(){},mounted:function(){},props:{selectedRow:{required:!0}}},Ce=ge,ye=(a("efcf"),Object(m["a"])(Ce,fe,be,!1,null,"7a77d362",null)),we=ye.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col"})},Ae=[];function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var Oe={name:"ComponentExamsGASpark",props:{row:{required:!0}},data:function(){return{}},methods:{createChart:function(){var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.history,e.autoMargins=!1,e.marginLeft=0,e.marginRight=0,e.marginTop=0,e.marginBottom=0,e.cursor=new Y["m"],e.cursor.lineY.disabled=!0,e.cursor.behavior="none",e.width=H["e"](45),e.height=20;var t=e.xAxes.push(new Y["k"]);t.gridAlpha=0,t.axisAlpha=0,t.renderer.grid.template.disabled=!0,t.renderer.baseGrid.disabled=!0,t.renderer.labels.template.disabled=!0,t.cursorTooltipEnabled=!1;var a=e.yAxes.push(new Y["k"]);a.renderer.grid.template.disabled=!0,a.renderer.baseGrid.disabled=!0,a.renderer.labels.template.disabled=!0,a.cursorTooltipEnabled=!1;var s=e.series.push(new Y["g"]);s.dataFields.valueX="year",s.dataFields.valueY="gradeAverage",s.strokeWidth=3,s.fillOpacity=.2}},computed:De(De({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{history:function(){var e=this.row.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,a=this.row,s=t.map((function(e){return{year:e.year,gradeAverage:e.data[a.type][a.joined][a.gender].pointsAvg}}));return s}}),components:{},created:function(){},mounted:function(){}},je=Oe,xe=(a("fdd8"),Object(m["a"])(je,Pe,Ae,!1,null,"6444bd78",null)),ke=xe.exports;function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Me={name:"SubjectResultsDataTable",data:function(){return{data:[],type:"all",joined:"all",gender:"all",sidebarComponents:[{title:"Overview",name:"sidebar",component:we}]}},computed:_e(_e({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns:function(){var e=[];return e="A"===this.type?[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:ke},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}]:[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:ke},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}],e},mappedData:function(){var e=this,t=[];if("A"===this.type){var a=this.data.filter((function(t){return t.data[e.type][e.joined][e.gender].pointsAvg>0}));return a.map((function(a){return t=a.data[e.type][e.joined][e.gender],t.pointsAvg,{txtHouseCode:a.txtHouseCode,position:t.position,gradeAverage:t.pointsAvg,passes:t.passes,fails:t.fails,Astar:t.gradeCounts["A*"],A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],U:t.gradeCounts["U"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],type:e.type,joined:e.joined,gender:e.gender}}))}var s=this.data.filter((function(t){return t.data[e.type][e.joined][e.gender].pointsAvg>0}));return s.map((function(a){return t=a.data[e.type][e.joined][e.gender],{txtHouseCode:a.txtHouseCode,position:t.position,gradeAverage:t.pointsAvg,passes:t.passes,fails:t.fails,A:t.gradeCounts["A"],B:t.gradeCounts["B"],C:t.gradeCounts["C"],D:t.gradeCounts["D"],E:t.gradeCounts["E"],D1:t.gradeCounts["D1"],D2:t.gradeCounts["D2"],D3:t.gradeCounts["D3"],M1:t.gradeCounts["M1"],M2:t.gradeCounts["M2"],M3:t.gradeCounts["M3"],P1:t.gradeCounts["P1"],P2:t.gradeCounts["P2"],P3:t.gradeCounts["P3"],U:t.gradeCounts["PU"],type:e.type,joined:e.joined,gender:e.gender}}))},currentStats:function(){return this.statisticsALevel.data}}),methods:{setData:function(){this.data=Object.values(this.currentStats.houseResults),console.log(this.data)}},components:{Crud:u["a"]},created:function(){var e=this;this.setData(),this.$store.watch((function(){return e.$store.getters["exams/resultsALevel"]}),this.setData)}},Ee=Me,Le=(a("a675"),Object(m["a"])(Ee,pe,he,!1,null,"306b6354",null)),Ue=Le.exports;w()(Le,"components",{QBtnToggle:v["a"],QTable:g["a"],QInput:C["a"]});var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"row text-white"},[a("h1",[e._v("Historical Grade Average")]),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{densex:"","toggle-color":"grey-7",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"},{label:"New L6",value:"new"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"grey-7",options:[{label:"Grade Total",value:""},{label:"UCAS Total",value:"Ucas"},{label:"Per Exam",value:"PerExam"}]},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{ref:"chartdiv",staticClass:"row",staticStyle:{"min-height":"300px"}}),a("br"),a("div",{staticClass:"row text-white"},[a("h1",[e._v("Historical Grade Proportions")]),a("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"grey-7",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),a("div",{ref:"stacked",staticClass:"row",staticStyle:{"min-height":"300px"}}),a("h1",[e._v("Total Grade Points")]),a("div",{ref:"treemap",staticClass:"row full-width",staticStyle:{"min-height":"300px"},attrs:{id:"treemap"}}),a("div",{ref:"chord",staticClass:"row full-width",staticStyle:{"min-height":"1000px"}})]),a("div",{staticClass:"col"},[a("div",{ref:"alevelPie",staticClass:"row q-ma-lg",attrs:{id:"apie"}}),a("br"),a("div",{ref:"preuPie",staticClass:"row q-ma-lg",attrs:{id:"upie"}}),e.loaded?a("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dense:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Grade")]),a("th",{staticClass:"text-left"},[e._v("Boys")]),a("th",{staticClass:"text-left"},[e._v("Girls")])])]),a("tbody",e._l(e.gradeCounts,(function(t){return a("tr",{key:t.grade},[a("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.boys))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.girls))])])})),0)]):e._e()],1)])])},Be=[],qe=(a("e285"),a("cd05"),a("7f3a")),$e=a.n(qe),Fe=(a("d2b6"),a("587b"));function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}H["f"](W["a"]),H["f"](Fe["a"]);var He={name:"ExamsAlevelSummary",data:function(){return{dark:!0,hasMounted:!1,type:"all",level:"A",map:"points",stacked:null,alevelPie:null,preuPie:null,linechart:null,treemap:null,chord:null,scope:"PerExam",loaded:!1}},methods:{createPreUPie:function(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type];console.log(e);var t=[];e["D1"]>0&&t.push({grade:"D1",count:e["D1"]}),e["D2"]>0&&t.push({grade:"D2",count:e["D2"]}),e["D3"]>0&&t.push({grade:"D3",count:e["D3"]}),e["M1"]>0&&t.push({grade:"M1",count:e["M1"]}),e["M2"]>0&&t.push({grade:"M2",count:e["M2"]}),e["M3"]>0&&t.push({grade:"M3",count:e["M3"]}),e["P1"]>0&&t.push({grade:"P1",count:e["P1"]}),e["P2"]>0&&t.push({grade:"P2",count:e["P2"]}),e["P3"]>0&&t.push({grade:"P3",count:e["P3"]}),e["PU"]>0&&t.push({grade:"U",count:e["PU"]}),this.preuPie=H["c"](this.$refs.preuPie,Y["h"]),this.createPie(t,this.preuPie)},createALevelPie:function(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type],t=[];console.log(e),e["A*"]>0&&t.push({grade:"A*",count:e["A*"]}),e["A"]>0&&t.push({grade:"A",count:e["A"]}),e["B"]>0&&t.push({grade:"B",count:e["B"]}),e["C"]>0&&t.push({grade:"C",count:e["C"]}),e["D"]>0&&t.push({grade:"D",count:e["D"]}),e["E"]>0&&t.push({grade:"E",count:e["E"]}),e["U"]>0&&t.push({grade:"U",count:e["U"]}),this.alevelPie=H["c"](this.$refs.alevelPie,Y["h"]),this.createPie(t,this.alevelPie)},createChart1:function(){this.linechart&&this.linechart.dispose();var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.statisticsALevel.data.history;var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0;var a=e.yAxes.push(new Y["k"]);a.title.text="Grade Avg.",a.title.fontWeight="bold";var s=e.series.push(new Y["g"]);s.dataFields.valueX="year",s.dataFields.valueY=this.type+"Avg"+this.scope,s.strokeWidth=3,s.fillOpacity=.2,s.tooltipText="{value}",s.tooltip.pointerOrientation="vertical",this.linechart=e},createPie:function(e,t){var a=t.series.push(new Y["i"]);a.dataFields.value="count",a.dataFields.category="grade",t.innerRadius=H["e"](30),a.slices.template.stroke=H["b"]("#fff"),a.slices.template.strokeWidth=2,a.slices.template.strokeOpacity=1,a.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],a.alignLabels=!0,a.labels.template.bent=!0,a.labels.template.radius=3,a.labels.template.padding(0,0,0,0),a.ticks.template.disabled=!0;var s=a.slices.template.filters.push(new H["a"]);s.opacity=0;var r=a.slices.template.states.getKey("hover"),l=r.filters.push(new H["a"]);l.opacity=.7,l.blur=5,t.data=e},createStacked:function(){this.stacked&&this.stacked.dispose();var e=H["c"](this.$refs.stacked,Y["l"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,e.colors.step=4,e.padding(10,10,10,10),e.legend=new Y["f"];var t=e.xAxes.push(new Y["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var a=e.yAxes.push(new Y["k"]);a.min=0,a.max=100,a.strictMinMax=!0,a.calculateTotals=!0,a.renderer.minWidth=50,"A"===this.level?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1")),this.stacked=e},addStackSeries:function(e,t){var a=e.series.push(new Y["c"]);a.columns.template.width=H["e"](80),a.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",a.name=t,a.dataFields.categoryX="year",a.dataFields.valueY=t,a.dataFields.valueYShow="totalPercent",a.dataItems.template.locations.categoryX=.5,a.stacked=!0,a.tooltip.pointerOrientation="vertical"},createTreemap:function(e){this.treemap&&this.treemap.dispose();var t=H["c"](this.$refs.treemap,Y["j"]),a=this.treemapData;t.data=a,t.colors.step=2,t.dataFields.value="value",t.dataFields.name="name",t.dataFields.children="children",t.layoutAlgorithm=t.binaryTree,t.zoomable=!0;var s=t.seriesTemplates.create("0"),r=s.columns.template;r.column.fillOpacity=0,r.column.strokeWidth=4,r.column.strokeOpacity=0;var l=t.seriesTemplates.create("1"),i=l.columns.template;l.tooltip.animationDuration=0,l.tooltip.dy=-15,l.tooltip.pointerOrientation="vertical",l.strokeOpacity=1,i.column.fillOpacity=1,i.column.stroke=H["b"]("#ffffff");var o=l.bullets.push(new Y["e"]);o.locationY=.5,o.locationX=.5,o.label.text="{name}",o.label.fill=H["b"]("#ffffff"),t.maxLevels=2,t.legend=new Y["f"],this.treemap=t,e&&(this.createChart1(),this.createALevelPie(),this.createPreUPie(),this.createStacked(),this.createChord(),this.createTreemap())},createChord:function(){}},computed:Te(Te({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{gradeCounts:function(){return this.statisticsALevel.data.summaryData.gradeCounts},treemapData:function(){var e=Object.values(this.statisticsALevel.data.subjectResults.A),t=Object.values(this.statisticsALevel.data.subjectResults.PreU),a=Object.values(this.statisticsALevel.data.subjectResults.EPQ),s=[].concat($e()(e),$e()(t),$e()(a)),r=$e()(new Set(s.map((function(e){return e["boardName"]})))),l=r.map((function(e){return{name:e,children:[]}}));return s.forEach((function(e){var t=l.find((function(t){return t.name===e.boardName}));t.children.push({name:e.subjectCode,fullName:e.subjectName,value:e.points})})),l},gradeHistory:function(){var e=this,t=this.statisticsALevel.data.history,a=t.reverse().map((function(t){return{year:t.year,"A*":t.gradeCounts[e.type]["A*"],A:t.gradeCounts[e.type]["A"],B:t.gradeCounts[e.type]["B"],C:t.gradeCounts[e.type]["C"],D:t.gradeCounts[e.type]["D"],E:t.gradeCounts[e.type]["E"],U:t.gradeCounts[e.type]["U"],D1:t.gradeCounts[e.type]["D1"],D2:t.gradeCounts[e.type]["D2"],D3:t.gradeCounts[e.type]["D3"],M1:t.gradeCounts[e.type]["M1"],M2:t.gradeCounts[e.type]["M2"],M3:t.gradeCounts[e.type]["M3"],P1:t.gradeCounts[e.type]["P1"],P2:t.gradeCounts[e.type]["P2"],P3:t.gradeCounts[e.type]["P3"]}}));return a}}),watch:{scope:function(){this.createChart1()},type:function(){this.createALevelPie(),this.createPreUPie(),this.createChart1(),this.createStacked()},level:function(){this.createStacked()}},components:{},created:function(){console.log(this.statisticsALevel.data)},mounted:function(){this.hasMounted=!0,this.$q.loading.show();var e=this;setTimeout((function(){e.createTreemap(!0),e.$q.loading.hide(),e.loaded=!0}),500)},beforeDestroy:function(){this.stacked&&this.stacked.dispose(),this.alevelPie&&this.alevelPie.dispose(),this.preuPie&&this.preuPie.dispose(),this.linechart&&this.linechart.dispose(),this.treemap&&this.treemap.dispose()},props:{}},Ye=He,We=(a("33c9"),Object(m["a"])(Ye,Ne,Be,!1,null,"100e76a1",null)),Ie=We.exports;w()(We,"components",{QBtnToggle:v["a"],QMarkupTable:R["a"]});var Qe=a("dd14"),Xe=a("de53");function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je={name:"PageExamsGCSE",data:function(){return{error:!1,nullResult:!1,timestamp:"",elements:[{name:"overview",label:"Overview",component:Ie,shortcut:"t"},{name:"results",label:"Results",component:A,shortcut:"r"},{name:"students",label:"Students",component:q,shortcut:"s"},{name:"subjects",label:"Subjects",component:ue,shortcut:"u"},{name:"houses",label:"Houses",component:Ue,shortcut:"h"},{name:"downloads",label:"",icon:"fal fa-xs fa-download",menu:[{event:"spreadsheetDetailed",label:"Detailed Spreadsheet",icon:"fal fa-info-square"},{event:"spreadsheetResults",label:"Just Results",icon:"fal fa-sort-shapes-up-alt"},{event:"spreadsheetSSS",label:"SSS Spreadsheet",icon:"fal fa-star-half-alt"},{event:"spreadsheetHouseCandidates",label:"House Candidates",icon:"fal fa-home-lg"},{event:"spreadsheetSubjectCandidates",label:"Subject Candidates",icon:"fal fa-graduation-cap"}]}],currentSessionId:"",isWorking:!1,isLoaded:!1,isError:!1,showConsole:!1}},methods:ze(ze(ze({},Object(o["b"])("sockets",["clearConsoleLog"])),Object(o["d"])("exams",["setResultsALevel","setStatisticsALevel"])),{},{refreshSession:function(){this.error=!1,this.showConsole=!0,!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.$q.loading.show(),Xe["a"].getSession(this.loadSession,this.loadingError,{level:"alevel",sessionID:this.activeSession}))},loadingError:function(){this.error=!0,this.$q.loading.hide(),this.isWorking=!1,this.showConsole=!1},setSession:function(e){!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.currentSessionId=e,this.$q.loading.show(),Xe["a"].getSessionCache(this.loadSession,null,{level:"alevel",sessionID:e}))},loadSession:function(e){this.nullResult=0===e.results.length,this.isWorking=!1,this.setResultsALevel(e.results),this.setStatisticsALevel(e.statistics),this.timestamp=e.timestamp,this.showConsole=!1,this.$q.loading.hide()},clickSpreadsheetDetailed:function(){this.$downloadBlob(this.statisticsALevel.spreadsheet.path,this.statisticsALevel.spreadsheet.filename)},clickSpreadsheetSSS:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetSSS.path,this.statisticsALevel.spreadsheetSSS.filename)},clickSpreadsheetResults:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetResults.path,this.statisticsALevel.spreadsheetResults.filename)},clickSpreadsheetHouseCandidates:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetHouseCandidates.path,this.statisticsALevel.spreadsheetHouseCandidates.filename)},clickSpreadsheetSubjectCandidates:function(){this.$downloadBlob(this.statisticsALevel.spreadsheetSubjectCandidates.path,this.statisticsALevel.spreadsheetSubjectCandidates.filename)},clickCemSpreadsheet:function(){this.$downloadBlob(this.statisticsGCSE.spreadsheet.path,this.statisticsGCSE.cemSpreadsheet.filename)}}),computed:ze({},Object(o["e"])("exams",["activeSession","resultsALevel","statisticsALevel"])),components:{toolbarPage:n["a"],ConsoleComponent:Qe["a"]},watch:{activeSession:function(e,t){this.setSession(e)}},created:function(){console.log(this.activeSession),this.activeSession&&this.setSession(this.activeSession)}},Ve=Je,Ze=a("2ef0"),et=Object(m["a"])(Ve,s,r,!1,null,null,null);t["default"]=et.exports;w()(et,"components",{QBtn:Ze["a"]})},a675:function(e,t,a){"use strict";var s=a("8ad4"),r=a.n(s);r.a},b6e5:function(e,t,a){},b960:function(e,t,a){"use strict";var s=a("b6e5"),r=a.n(s);r.a},dd1e:function(e,t,a){},efcf:function(e,t,a){"use strict";var s=a("728a"),r=a.n(s);r.a},f8bf:function(e,t,a){},fcba:function(e,t,a){},fdd8:function(e,t,a){"use strict";var s=a("9d00"),r=a.n(s);r.a}}]);