(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"3ddd":function(t,e,a){"use strict";var n=a("e5af"),i=a.n(n);i.a},4280:function(t,e,a){"use strict";var n=a("c3a8"),i=a.n(n);i.a},c3a8:function(t,e,a){},c739:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("toolbar-page",{attrs:{elements:t.elements,default:"calendar"},scopedSlots:t._u([{key:"side",fn:function(){},proxy:!0}])})},i=[],r=a("08e9"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"cal-container",staticStyle:{"overflow-yx":"hidden!important",heightx:"90vh"}},[a("q-toolbar",[a("span",{staticClass:"q-mr-md text-h5"},[t._v(t._s(t.title))]),a("q-input",{ref:"search",staticClass:"col q-mb-none",staticStyle:{"min-width":"200px"},attrs:{placeholder:"Search",clearable:"",dense:"",filled:"","hide-underlines":"",autofocus:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fad fa-search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticClass:"q-ml-md"},[a("q-btn-dropdown",{staticClass:"q-mr-md",attrs:{unelevated:"",color:"tertiary",icon:"fad fa-filter"}},[a("q-list",{staticClass:"bd-font"},t._l(t.categories,(function(e){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.value,class:t.filter===e.label?"bg-tertiary":"",attrs:{clickable:""},on:{click:function(a){return t.clickFilter(e.value)}}},[a("q-item-section",[a("q-item-label",[a("q-btn",{staticClass:"q-mr-md",style:"background: "+e.color,attrs:{size:"xs",dense:"",unelevated:"",label:"",styel:"width:20px"}}),t._v("\n                  "+t._s(e.label)+"\n              ")],1)],1)],1)})),1)],1),a("q-btn",{staticClass:"q-mr-md",attrs:{unelevated:"",color:"tertiary",label:"today"},on:{click:t.today}}),a("q-btn",{attrs:{unelevated:"",color:"tertiary",icon:"fal fa-arrow-left"},on:{click:t.prev}}),a("q-btn",{staticClass:"q-ml-xs",attrs:{unelevated:"",color:"tertiary",icon:"fal fa-arrow-right"},on:{click:t.next}})],1)],1),a("div",{staticClass:"demo-container",staticStyle:{"overflow-y":"hidden!important"},style:{height:t.height}},[a("FullCalendar",{ref:"fullCalendar",staticClass:"q-ma-xs",staticStyle:{height:"200px","overflow-y":"scroll"},attrs:{id:"cal",defaultViewx:"timeGridWeek",defaultView:"dayGridMonth",plugins:t.calendarPlugins,slotDuration:"00:30:00",header:!1,weekends:!0,height:"parent",contentHeightx:"2000",minTime:"08:00",maxTime:"22:00",events:t.filteredEvents,eventLimit:10,eventTimeFormats:{hour:"2-digit",minute:"2-digit",secondx:"2-digit",meridiem:!1}}})],1)],1)},s=[],o=(a("06ef"),a("288e"),a("4778")),c={getAlmanac:function(t,e,a){o["a"].get("/home/almanac").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},d=a("b9bf"),u=a("dcc7"),f=a("df78"),h={name:"Home.Almanac.Calandar",props:{},data:function(){return{search:"",rawEvents:[],calendarPlugins:[u["d"],f["a"]],title:"",calendarApi:null,filter:""}},methods:{process:function(t){this.rawEvents=t,this.calendarApi=this.$refs.fullCalendar.getApi(),this.calendarApi.render(),this.setTitle()},fetch:function(){c.getAlmanac(this.process)},setTitle:function(){this.title=this.calendarApi.view.title},next:function(){this.calendarApi.next(),this.setTitle()},prev:function(){this.calendarApi.prev(),this.setTitle()},today:function(){this.calendarApi.today(),this.setTitle()},clickFilter:function(t){this.filter=t},getColor:function(t){var e=this.categories.find((function(e){return e.label===t}));return e.color}},computed:{events:function(){var t=this;return this.rawEvents.map((function(e){var a=t.getColor(e.category);return{start:e.startISO,end:e.endTime,title:e.description,category:e.category,backgroundColor:a,borderColor:a}}))},filteredEvents:function(){var t=this.search.toLowerCase(),e=this.events;""!==t&&(e=this.events.filter((function(e){return e.title.toLowerCase().indexOf(t)>-1})));var a=this.filter.toLowerCase();return""===a?e:e.filter((function(t){return t.category.toLowerCase().indexOf(a)>-1}))},height:function(){return"calc(100vh - 250px)"},categories:function(){var t=this.$parseOptions(this.rawEvents,"category");t.sort((function(t,e){return t.label>e.label?1:-1}));var e=this;return t.forEach((function(t,a){t.color=e.$hexPalette(a)})),t.unshift({label:"NONE",value:"",color:""}),console.log(t),t}},components:{FullCalendar:d["a"]},created:function(){this.fetch()}},m=h,p=(a("4280"),a("3ddd"),a("2be6")),v=Object(p["a"])(m,l,s,!1,null,null,null),g=v.exports,b={name:"PageHomeAlmanac",data:function(){return{elements:[{name:"calendar",label:"calendar",component:g,shortcut:"b"}]}},components:{toolbarPage:r["a"]},methods:{}},y=b,w=Object(p["a"])(y,n,i,!1,null,null,null);e["default"]=w.exports},e5af:function(t,e,a){}}]);