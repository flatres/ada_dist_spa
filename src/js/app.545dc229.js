(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(n,e,t){n.exports=t("71d8")},"452d":function(n,e,t){"use strict";var r={};t.r(r),t.d(r,"userId",function(){return w}),t.d(r,"name",function(){return I}),t.d(r,"permissions",function(){return x}),t.d(r,"isDark",function(){return y}),t.d(r,"isLight",function(){return P}),t.d(r,"isAuthenticated",function(){return T}),t.d(r,"getModuleAccess",function(){return E}),t.d(r,"getModuleColor",function(){return R}),t.d(r,"getPageAccess",function(){return D});var o={};t.r(o),t.d(o,"authUser",function(){return G}),t.d(o,"clearAuthData",function(){return j}),t.d(o,"isDark",function(){return B}),t.d(o,"role",function(){return V});var a={};t.r(a),t.d(a,"login",function(){return H}),t.d(a,"tryAutoLogin",function(){return W}),t.d(a,"logout",function(){return q}),t.d(a,"isDark",function(){return M}),t.d(a,"setAxiosHeader",function(){return N}),t.d(a,"setPrimaryColor",function(){return z});var s={};t.r(s),t.d(s,"isConnected",function(){return K}),t.d(s,"consoleLog",function(){return X}),t.d(s,"updaterData",function(){return Z}),t.d(s,"updater",function(){return nn}),t.d(s,"progress",function(){return en});var i={};t.r(i),t.d(i,"consoleLog",function(){return rn}),t.d(i,"updater",function(){return on}),t.d(i,"notify",function(){return an}),t.d(i,"progress",function(){return sn}),t.d(i,"clearConsoleLog",function(){return un}),t.d(i,"isConnected",function(){return cn});var u={};t.r(u),t.d(u,"connectSocket",function(){return fn}),t.d(u,"clearConsoleLog",function(){return dn});var c={};t.r(c),t.d(c,"activeSession",function(){return mn}),t.d(c,"coachOutFilter",function(){return bn}),t.d(c,"coachRetFilter",function(){return gn});var l={};t.r(l),t.d(l,"setActiveSession",function(){return vn}),t.d(l,"setCoachOutFilter",function(){return Qn}),t.d(l,"setCoachRetFilter",function(){return Cn});var f={};t.r(f),t.d(f,"activeSession",function(){return Ln}),t.d(f,"resultsGCSE",function(){return wn}),t.d(f,"statisticsGCSE",function(){return In}),t.d(f,"resultsALevel",function(){return xn}),t.d(f,"statisticsALevel",function(){return yn});var d={};t.r(d),t.d(d,"setActiveSession",function(){return Pn}),t.d(d,"setStatisticsGCSE",function(){return Tn}),t.d(d,"setResultsGCSE",function(){return En}),t.d(d,"setStatisticsALevel",function(){return Rn}),t.d(d,"setResultsAlevel",function(){return Dn});var p=t("9869"),h=t("9ce4"),m=t("c005"),b=t.n(m),g=t("fa94"),v=t.n(g),Q={},C=t("fe3b"),S=t("bf1d"),A=t("f1a8"),k={namespaced:!0,state:Q,getters:C,mutations:S,actions:A},L={userId:null,auth:null,firstname:null,lastname:null,permissions:{},roles:[],isDark:!0,isLight:!1},w=function(n){return n.userId},I=function(n){var e={firstname:n.firstname,lastname:n.lastname};return e},x=function(n){return n.permissions},y=function(n){return n.isDark},P=function(n){return n.isLight},T=function(n){return null!==n.auth},E=function(n){return function(e){return!!n.permissions[e]&&n.permissions[e].hasAccess}},R=function(n){return function(e){return n.permissions[e]?n.permissions[e].color:"#4fc08d"}},D=function(n){return function(e,t){if(!n.permissions[e])return!1;var r=n.permissions[e];return!!r.pages[t]&&r.pages[t].hasAccess}},F=(t("288e"),t("3cc3")),O=t.n(F),G=(t("2e73"),t("dde3"),t("76d0"),t("0e20"),function(n,e){n.auth=e.auth,n.userId=e.userId,n.permissions=e.permissions,n.roles=e.roles}),j=function(n){n.auth=null,n.userId=null,n.permissions={},n.roles=[]},B=function(n,e){n.isDark=e,n.isLight=!e},V=function(n,e){var t=e[0].data,r=e[0].roleId;Object.entries(t).forEach(function(e){var o=O()(e,2),a=o[0],s=o[1];if(n.permissions[a]){!0===t[a].hasAccess&&(n.permissions[a].hasAccess=!0,n.permissions[a].fromRoles.find(function(n){return n===r})||n.permissions[a].fromRoles.push(r)),!1===t[a].hasAccess&&1===n.permissions[a].fromRoles.length&&(n.permissions[a].fromRoles=[],n.permissions[a].hasAccess=!1);var i=s.pages;Object.entries(i).forEach(function(e){var t=O()(e,2),o=t[0],s=t[1];n.permissions[a].pages[o]?n.permissions[a].pages[o].fromRoles.find(function(n){return n===r})?1===n.permissions[a].pages[o].fromRoles.length&&p["a"].set(n.permissions[a].pages,o,s):!0===s.hasAccess&&(n.permissions[a].pages[o].hasAccess=!0,n.permissions[a].pages[o].fromRoles.push(r)):p["a"].set(n.permissions[a].pages,o,s)})}else p["a"].set(n.permissions,a,s)})},$=(t("c8a0"),t("4778")),_=t("bc9f"),U=t("134d"),H=function(n,e){var t=n.commit,r=n.dispatch;return console.log(e),new Promise(function(n,o){$["a"].post("/auth/login",{login:e.login,password:e.password}).then(function(e){var o=e.data;t("authUser",{auth:o.auth,userId:o.userId,permissions:o.permissions,roles:o.roles}),_["a"].set("auth",o.auth),_["a"].set("userId",o.userId),_["a"].set("permissions",o.permissions),_["a"].set("roles",o.roles),r("setAxiosHeader",e.data.auth),r("sockets/connectSocket",o.auth,{root:!0}),n(e)}).catch(function(n){o(n)})})},W=function(n){var e=n.commit,t=n.dispatch,r=_["a"].getItem("auth");return null!==r&&(e("authUser",{auth:r,userId:_["a"].getItem("userId"),permissions:_["a"].getItem("permissions"),roles:_["a"].getItem("roles")}),t("setAxiosHeader",r),t("sockets/connectSocket",r,{root:!0}),!0)},q=function(n){var e=n.commit,t=n.dispatch;_["a"].clear(),e("clearAuthData"),t("setAxiosHeader","")},M=function(n,e){var t=n.commit;t("isDark",e)},N=function(n,e){$["a"].defaults.headers.common["Authorization"]=e},z=function(n,e){n.commit;return e===U["a"]},J={namespaced:!0,state:L,getters:r,mutations:o,actions:a},Y={isConnected:!1,consoleLog:[],updaters:{},updaterData:{},progress:{},progressIsComplete:{}},K=(t("0e30"),function(n){return n.isConnected}),X=function(n){return n.consoleLog.slice().reverse()},Z=function(n){return function(e){return n.updaterData[e]}},nn=function(n){return function(e,t){if(!n.updaters[e])return t;var r=n.updaters[e],o=r.key,a=r.data[o],s=t.findIndex(function(n){return n[o]===a});return s>-1&&p["a"].set(t,s,r.data),t}},en=function(n){return function(e){return n.progress[e]?n.progress[e]:0}},tn=(t("ae66"),t("2405")),rn=function(n,e){if(!0===e.replace){for(var t=n.consoleLog.length,r=t-1;r>=0;r--)if(!1===n.consoleLog[r].isError){n.consoleLog[r].message=e.message;break}}else n.consoleLog.push(e)},on=function(n,e){var t=e[0].updaterId;p["a"].set(n.updaters,t,e[0])},an=function(n,e){console.log("NOTIFY",e),tn["a"].create({message:e[0].message,color:"primary",textColor:"black"})},sn=function(n,e){var t=e[0].progressId;p["a"].set(n.progress,t,e[0].progress),p["a"].set(n.progressIsComplete,t,e[0].isComplete)},un=function(n){n.consoleLog=[]},cn=function(n,e){n.isConnected=e},ln=t("0c9c"),fn=function(n,e){var t=n.commit,r=n.rootState;p["a"].use(ln["a"],{debug:!0,url:"wss://adazmq.marlboroughcollege.org/wss",realm:"realm1",onopen:function(n,e){t("isConnected",!0)},onclose:function(n,e){t("isConnected",!1)}}),p["a"].Wamp.subscribe("console_"+e,function(n,e,r){t("consoleLog",n[0])},{acknowledge:!0}).then(function(n){}),p["a"].Wamp.subscribe("updater_"+e,function(n,e,r){t("updater",n)},{acknowledge:!0}).then(function(n){}),p["a"].Wamp.subscribe("progress_"+e,function(n,e,r){t("progress",n)},{acknowledge:!0}).then(function(n){}),p["a"].Wamp.subscribe("notify_"+e,function(n,e,r){t("notify",n)},{acknowledge:!0}).then(function(n){}),r.user.roles.forEach(function(n,e){console.log(n),p["a"].Wamp.subscribe("role_"+n,function(n,e,r){t("user/role",n,{root:!0})},{acknowledge:!0}).then(function(n){})})},dn=function(n){var e=n.commit;e("clearConsoleLog")},pn={namespaced:!0,state:Y,getters:s,mutations:i,actions:u},hn={activeSession:null,activeSessionName:null,coachOutFilter:[],coachRetFilter:[]},mn=function(n){return n.activeSession},bn=function(n){return n.coachOutFilter},gn=function(n){return n.coachRetFilter},vn=function(n,e){n.activeSession=e},Qn=function(n,e){n.coachOutFilter=e},Cn=function(n,e){n.coachRetFilter=e},Sn=t("a8b2"),An={namespaced:!0,state:hn,getters:c,mutations:l,actions:Sn},kn={activeSession:null,resultsGCSE:null,statisticsGCSE:null,resultsALevel:null,statisticsALevel:null},Ln=function(n){return n.activeSession},wn=function(n){return n.resultsGCSE},In=function(n){return n.statisticsGCSE},xn=function(n){return n.resultsALevel},yn=function(n){return n.statisticsALevel},Pn=function(n,e){n.activeSession=e},Tn=function(n,e){n.statisticsGCSE=e},En=function(n,e){n.resultsGCSE=e},Rn=function(n,e){n.statisticsALevel=e},Dn=function(n,e){n.resultsALevel=e},Fn=t("cb00"),On={namespaced:!0,state:kn,getters:f,mutations:d,actions:Fn};p["a"].use(h["a"]),p["a"].use(b.a),p["a"].use(v.a);var Gn=new h["a"].Store({modules:{example:k,user:J,sockets:pn,transport:An,exams:On}});e["a"]=Gn},4778:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var r=t("8206"),o=t.n(r),a=o.a.create({baseURL:"/api/v1/public/"});o.a.defaults.port=80,e["b"]=function(n){var e=n.Vue;e.prototype.$axios=a}},"71d8":function(n,e,t){"use strict";t.r(e);var r=t("93db"),o=t.n(r),a=(t("df26"),t("5965")),s=t.n(a),i=(t("05e4"),t("dc4e"),t("2818"),t("9f83"),t("9869")),u=t("2965"),c=t("c3cf"),l=t("83d2"),f=t("bc4f"),d=t("b4af"),p=t("889e"),h=t("7e42"),m=t("80ff"),b=t("26a8"),g=t("490d"),v=t("eb05"),Q=t("f85a"),C=t("2ef0"),S=t("7caa"),A=t("34ff"),k=t("094b"),L=t("1530"),w=t("19be"),I=t("8edc"),x=t("b693"),y=t("bc74"),P=t("6081"),T=t("4776"),E=t("dd08"),R=t("1411"),D=t("1d98"),F=t("f962c"),O=t("d3a4"),G=t("851c"),j=t("18f0"),B=t("c462"),V=t("41c9"),$=t("b74b"),_=t("3946"),U=t("d200"),H=t("8c18"),W=t("6a2f"),q=t("6799"),M=t("cd4d"),N=t("dfd0"),z=t("9676"),J=t("9cbe"),Y=t("d1dc"),K=t("ec56"),X=t("5840"),Z=t("3aaf"),nn=t("e81c"),en=t("3d3c"),tn=t("6475"),rn=t("b8ed"),on=t("69a4"),an=t("3ec9"),sn=t("4840"),un=t("1139"),cn=t("ebe6"),ln=t("965d"),fn=t("5b32"),dn=t("96f0"),pn=t("f987"),hn=t("2be8"),mn=t("58c0"),bn=t("2405"),gn=t("1608"),vn=t("bc9f"),Qn=t("a182"),Cn=t("d835");i["a"].use(c["a"],{config:{notify:{}},iconSet:u["a"],components:{QMarkupTable:l["a"],QSplitter:f["a"],QLayout:d["a"],QHeader:p["a"],QDrawer:h["a"],QPageContainer:m["a"],QScrollArea:b["a"],QPage:g["a"],QToolbar:v["a"],QToolbarTitle:Q["a"],QBtn:C["a"],QBtnGroup:S["a"],QIcon:A["a"],QList:k["a"],QItem:L["a"],QItemSection:w["a"],QItemLabel:I["a"],QField:x["a"],QInput:y["a"],QBtnDropdown:P["a"],QTabs:T["a"],QTab:E["a"],QTabPanels:R["a"],QTabPanel:D["a"],QSpace:F["a"],QRouteTab:O["a"],QCheckbox:G["a"],QTable:j["a"],QTh:B["a"],QTr:V["a"],QTd:$["a"],QSelect:_["a"],QPopupEdit:U["a"],QPopupProxy:H["a"],QMenu:W["a"],QFab:q["a"],QFabAction:M["a"],QColor:N["a"],QAjaxBar:z["a"],QSpinner:J["a"],QSpinnerGears:Y["a"],QSpinnerAudio:K["a"],QTree:X["a"],QTooltip:Z["a"],QDialog:nn["a"],QToggle:en["a"],QRadio:tn["a"],QDate:rn["a"],QTime:on["a"],QExpansionItem:an["a"],QChip:sn["a"],QBtnToggle:un["a"],QCard:cn["a"],QCardSection:ln["a"],QCardActions:fn["a"],QSeparator:dn["a"],QBadge:pn["a"]},directives:{Ripple:hn["a"],ClosePopup:mn["a"]},plugins:{Notify:bn["a"],Dialog:gn["a"],LocalStorage:vn["a"],AppFullscreen:Qn["a"],Loading:Cn["a"]}});var Sn=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("q-ajax-bar",{attrs:{color:n.barColor}})],1)},An=[],kn=(t("ae66"),t("c03b")),Ln=t.n(kn),wn=t("9ce4"),In={name:"App",data:function(){return{dark:!1}},methods:{},computed:Ln()({},Object(wn["e"])("user",["isDark","isLight"]),Object(wn["c"])("sockets",["isConnected"]),{barColor:function(){var n=this.isDark?"primary":"primary-light";return this.isConnected?n:"negative"}}),created:function(){var n=this;this.$store.dispatch("user/tryAutoLogin").then(function(e){!0===e||n.$router.replace("/login")})}},xn=In,yn=t("2be6"),Pn=Object(yn["a"])(xn,Sn,An,!1,null,null,null),Tn=Pn.exports,En=t("452d"),Rn=t("5f2b"),Dn={path:"admin",component:function(){return t.e("1941723f").then(t.bind(null,"6f3e"))},children:[{path:"active",component:function(){return t.e("0ce46eb2").then(t.bind(null,"282e"))}},{path:"sync",component:function(){return Promise.all([t.e("15509fa0"),t.e("6b665774")]).then(t.bind(null,"8976"))}},{path:"access",component:function(){return Promise.all([t.e("15509fa0"),t.e("2e0ab903")]).then(t.bind(null,"e5bb"))}},{path:"tags",component:function(){return Promise.all([t.e("15509fa0"),t.e("e73dcd66")]).then(t.bind(null,"9de1"))}}]},Fn={path:"transport",component:function(){return t.e("a2467d98").then(t.bind(null,"4ece"))},children:[{path:"coaches",component:function(){return Promise.all([t.e("15509fa0"),t.e("574dbd70")]).then(t.bind(null,"e1b0"))}},{path:"taxis",component:function(){return Promise.all([t.e("15509fa0"),t.e("17b21ede")]).then(t.bind(null,"7697"))}},{path:"sessions",component:function(){return Promise.all([t.e("15509fa0"),t.e("f0f3be7c")]).then(t.bind(null,"865b"))}}]},On={path:"students",component:function(){return t.e("134a5e78").then(t.bind(null,"dce4"))},children:[{path:"profile",component:function(){return t.e("f72c65a4").then(t.bind(null,"bea3"))}},{path:"list",component:function(){return t.e("588e5c54").then(t.bind(null,"9fdc"))}}]},Gn={path:"lab",component:function(){return t.e("1800a3a0").then(t.bind(null,"2698"))},children:[{path:"crud",component:function(){return Promise.all([t.e("15509fa0"),t.e("3cf640f2")]).then(t.bind(null,"151f"))}},{path:"sockets",component:function(){return Promise.all([t.e("15509fa0"),t.e("4df2694e")]).then(t.bind(null,"0c4f"))}},{path:"reports",component:function(){return t.e("1cfb9cfd").then(t.bind(null,"388f"))}}]},jn={path:"data",component:function(){return t.e("06161aaa").then(t.bind(null,"75f6"))},children:[{path:"location",component:function(){return Promise.all([t.e("15509fa0"),t.e("1543a267")]).then(t.bind(null,"5a6a"))}}]},Bn={path:"location",component:function(){return t.e("3d54a98b").then(t.bind(null,"a296"))},children:[{path:"system",component:function(){return Promise.all([t.e("15509fa0"),t.e("5f1b8667")]).then(t.bind(null,"ea66"))}}]},Vn={path:"academic",component:function(){return t.e("e5d9eeae").then(t.bind(null,"7b56"))},children:[{path:"jane",component:function(){return Promise.all([t.e("15509fa0"),t.e("79f7b45b")]).then(t.bind(null,"0ae4"))}}]},$n={path:"exams",component:function(){return t.e("2c9219b0").then(t.bind(null,"4bb3"))},children:[{path:"",component:function(){return t.e("2d0d7a63").then(t.bind(null,"785a"))}},{path:"gcse",component:function(){return Promise.all([t.e("15509fa0"),t.e("f12a1e94")]).then(t.bind(null,"2457"))}}]},_n={path:"accounts",component:function(){return t.e("da30747c").then(t.bind(null,"0cb4"))},children:[]},Un={path:"hm",component:function(){return t.e("7399f01a").then(t.bind(null,"27c4"))},children:[{path:"where",component:function(){return t.e("33afee7e").then(t.bind(null,"e93b"))}}]},Hn=[{path:"/",component:function(){return t.e("ebf8d318").then(t.bind(null,"5b6e"))},children:[{path:"",component:function(){return t.e("49ff563e").then(t.bind(null,"d9b1"))}},{path:"user",component:function(){return t.e("2d221f88").then(t.bind(null,"cd2c"))}},Dn,Fn,On,Gn,Bn,Vn,jn,$n,_n,Un]},{path:"/login",name:"login",component:function(){return t.e("12427b1f").then(t.bind(null,"902c"))},children:[{path:"",component:function(){return t.e("48cc6314").then(t.bind(null,"cd02"))}}]},{path:"*",component:function(){return t.e("741b98a7").then(t.bind(null,"2d51"))}}],Wn=Hn;i["a"].use(Rn["a"]);var qn=new Rn["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Wn}),Mn=qn,Nn=function(){var n="function"===typeof En["a"]?Object(En["a"])({Vue:i["a"]}):En["a"],e="function"===typeof Mn?Mn({Vue:i["a"],store:n}):Mn;n.$router=e;var t={el:"#q-app",router:e,store:n,render:function(n){return n(Tn)}};return{app:t,store:n,router:e}},zn=t("4778"),Jn=function(n){var e=n.router;n.store,n.Vue;e.beforeEach(function(n,e,t){t()})},Yn=(t("014e"),t("e9b0"),function(n){n.app,n.router,n.Vue}),Kn=t("5871"),Xn=t.n(Kn),Zn=function(n){n.app,n.router;var e=n.Vue;e.use(Xn.a)},ne=t("fa94"),ee=t.n(ne),te=function(n){var e=n.Vue;e.use(ee.a)},re=(t("2e73"),t("dde3"),t("76d0"),t("e285"),t("cd05"),t("7f3a")),oe=t.n(re),ae={methods:{$parseOptions:function(n,e){var t=oe()(new Set(n.map(function(n){return n[e]})));return t.map(function(n){return{label:n,value:n}})},$downloadBlob:function(n,e){this.$axios({url:n,method:"GET",responseType:"blob"}).then(function(n){var t=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",e),document.body.appendChild(r),r.click()})}}};i["a"].mixin(ae);var se=Nn(),ie=se.app,ue=se.store,ce=se.router;function le(){return fe.apply(this,arguments)}function fe(){return fe=s()(o.a.mark(function n(){var e,t;return o.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e=[zn["b"],Jn,Yn,Zn,te,void 0],t=0;case 2:if(!(t<e.length)){n.next=20;break}if("function"===typeof e[t]){n.next=5;break}return n.abrupt("continue",17);case 5:return n.prev=5,n.next=8,e[t]({app:ie,router:ce,store:ue,Vue:i["a"],ssrContext:null});case 8:n.next=17;break;case 10:if(n.prev=10,n.t0=n["catch"](5),!n.t0||!n.t0.url){n.next=15;break}return window.location.href=n.t0.url,n.abrupt("return");case 15:return console.error("[Quasar] boot error:",n.t0),n.abrupt("return");case 17:t++,n.next=2;break;case 20:new i["a"](ie);case 21:case"end":return n.stop()}},n,null,[[5,10]])})),fe.apply(this,arguments)}le()},"9f83":function(n,e,t){},a8b2:function(n,e){},bf1d:function(n,e){},cb00:function(n,e){},f1a8:function(n,e){},fe3b:function(n,e){}},[[0,"runtime","vendor"]]]);