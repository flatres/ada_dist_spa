(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,n,t){e.exports=t("71d8")},"452d":function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"userId",(function(){return k})),t.d(r,"name",(function(){return y})),t.d(r,"permissions",(function(){return P})),t.d(r,"isDark",(function(){return x})),t.d(r,"isLight",(function(){return I})),t.d(r,"isAuthenticated",(function(){return O})),t.d(r,"getModuleAccess",(function(){return D})),t.d(r,"getModuleColor",(function(){return E})),t.d(r,"getPageAccess",(function(){return T}));var o={};t.r(o),t.d(o,"authUser",(function(){return G})),t.d(o,"clearAuthData",(function(){return B})),t.d(o,"isDark",(function(){return V})),t.d(o,"role",(function(){return $}));var a={};t.r(a),t.d(a,"login",(function(){return H})),t.d(a,"tryAutoLogin",(function(){return W})),t.d(a,"logout",(function(){return q})),t.d(a,"isDark",(function(){return M})),t.d(a,"setAxiosHeader",(function(){return N})),t.d(a,"setPrimaryColor",(function(){return z}));var i={};t.r(i),t.d(i,"isConnected",(function(){return K})),t.d(i,"consoleLog",(function(){return X})),t.d(i,"updaterData",(function(){return Z})),t.d(i,"updater",(function(){return ee})),t.d(i,"progress",(function(){return ne}));var s={};t.r(s),t.d(s,"consoleLog",(function(){return re})),t.d(s,"updater",(function(){return oe})),t.d(s,"notify",(function(){return ae})),t.d(s,"progress",(function(){return ie})),t.d(s,"clearConsoleLog",(function(){return se})),t.d(s,"isConnected",(function(){return ce}));var c={};t.r(c),t.d(c,"connectSocket",(function(){return le})),t.d(c,"clearConsoleLog",(function(){return fe}));var u={};t.r(u),t.d(u,"activeSession",(function(){return he})),t.d(u,"coachOutFilter",(function(){return me})),t.d(u,"coachRetFilter",(function(){return be}));var l={};t.r(l),t.d(l,"setActiveSession",(function(){return ge})),t.d(l,"setCoachOutFilter",(function(){return ve})),t.d(l,"setCoachRetFilter",(function(){return Qe}));var f={};t.r(f),t.d(f,"activeSession",(function(){return Ae})),t.d(f,"resultsGCSE",(function(){return Le})),t.d(f,"statisticsGCSE",(function(){return ke})),t.d(f,"resultsALevel",(function(){return ye})),t.d(f,"statisticsALevel",(function(){return Pe}));var d={};t.r(d),t.d(d,"setActiveSession",(function(){return xe})),t.d(d,"setStatisticsGCSE",(function(){return Ie})),t.d(d,"setResultsGCSE",(function(){return Oe})),t.d(d,"setStatisticsALevel",(function(){return De})),t.d(d,"setResultsALevel",(function(){return Ee}));var p=t("9869"),h=t("9ce4"),m=t("c005"),b=t.n(m),g=t("fa94"),v=t.n(g),Q={},w=t("fe3b"),S=t("bf1d"),C=t("f1a8"),A={namespaced:!0,state:Q,getters:w,mutations:S,actions:C},L={userId:null,auth:null,firstname:null,lastname:null,permissions:{},roles:[],isDark:!0,isLight:!1},k=function(e){return e.userId},y=function(e){var n={firstname:e.firstname,lastname:e.lastname};return n},P=function(e){return e.permissions},x=function(e){return e.isDark},I=function(e){return e.isLight},O=function(e){return null!==e.auth},D=function(e){return function(n){return!!e.permissions[n]&&e.permissions[n].hasAccess}},E=function(e){return function(n){return e.permissions[n]?e.permissions[n].color:"#4fc08d"}},T=function(e){return function(n,t){if(!e.permissions[n])return!1;var r=e.permissions[n];return!!r.pages[t]&&r.pages[t].hasAccess}},R=(t("288e"),t("3cc3")),j=t.n(R),F=(t("2e73"),t("dde3"),t("76d0"),t("0e20"),t("bc9f")),G=function(e,n){e.auth=n.auth,e.userId=n.userId,e.permissions=n.permissions,e.roles=n.roles},B=function(e){e.auth=null,e.userId=null,e.permissions={},e.roles=[]},V=function(e,n){e.isDark=n,e.isLight=!n},$=function(e,n){var t=n[0].data,r=n[0].roleId;Object.entries(t).forEach((function(n){var o=j()(n,2),a=o[0],i=o[1];if(e.permissions[a]){!0===t[a].hasAccess&&(e.permissions[a].hasAccess=!0,e.permissions[a].fromRoles.find((function(e){return e===r}))||e.permissions[a].fromRoles.push(r)),!1===t[a].hasAccess&&1===e.permissions[a].fromRoles.length&&(e.permissions[a].fromRoles=[],e.permissions[a].hasAccess=!1);var s=i.pages;Object.entries(s).forEach((function(n){var t=j()(n,2),o=t[0],i=t[1];e.permissions[a].pages[o]?e.permissions[a].pages[o].fromRoles.find((function(e){return e===r}))?1===e.permissions[a].pages[o].fromRoles.length&&p["a"].set(e.permissions[a].pages,o,i):!0===i.hasAccess&&(e.permissions[a].pages[o].hasAccess=!0,e.permissions[a].pages[o].fromRoles.push(r)):p["a"].set(e.permissions[a].pages,o,i)}))}else p["a"].set(e.permissions,a,i)})),F["a"].set("permissions",e.permissions)},_=(t("c8a0"),t("4778")),U=t("134d"),H=function(e,n){var t=e.commit,r=e.dispatch;return console.log(n),new Promise((function(e,o){_["a"].post("/auth/login",{login:n.login,password:n.password}).then((function(n){var o=n.data;t("authUser",{auth:o.auth,userId:o.userId,permissions:o.permissions,roles:o.roles}),F["a"].set("auth",o.auth),F["a"].set("userId",o.userId),F["a"].set("permissions",o.permissions),F["a"].set("roles",o.roles),r("setAxiosHeader",n.data.auth),r("sockets/connectSocket",o.auth,{root:!0}),e(n)})).catch((function(e){o(e)}))}))},W=function(e){var n=e.commit,t=e.dispatch,r=F["a"].getItem("auth");return null!==r&&(n("authUser",{auth:r,userId:F["a"].getItem("userId"),permissions:F["a"].getItem("permissions"),roles:F["a"].getItem("roles")}),t("setAxiosHeader",r),t("sockets/connectSocket",r,{root:!0}),!0)},q=function(e){var n=e.commit,t=e.dispatch;F["a"].clear(),n("clearAuthData"),t("setAxiosHeader","")},M=function(e,n){var t=e.commit;t("isDark",n)},N=function(e,n){_["a"].defaults.headers.common["Authorization"]=n},z=function(e,n){e.commit;return n===U["a"]},J={namespaced:!0,state:L,getters:r,mutations:o,actions:a},Y={isConnected:!1,consoleLog:[],updaters:{},updaterData:{},progress:{},progressIsComplete:{}},K=(t("0e30"),function(e){return e.isConnected}),X=function(e){return e.consoleLog.slice().reverse()},Z=function(e){return function(n){return e.updaterData[n]}},ee=function(e){return function(n,t){if(!e.updaters[n])return t;var r=e.updaters[n],o=r.key,a=r.data[o],i=t.findIndex((function(e){return e[o]===a}));return i>-1&&p["a"].set(t,i,r.data),t}},ne=function(e){return function(n){return e.progress[n]?e.progress[n]:0}},te=(t("ae66"),t("2405")),re=function(e,n){if(!0===n.replace){for(var t=e.consoleLog.length,r=t-1;r>=0;r--)if(!1===e.consoleLog[r].isError){e.consoleLog[r].message=n.message;break}}else e.consoleLog.push(n)},oe=function(e,n){var t=n[0].updaterId;p["a"].set(e.updaters,t,n[0])},ae=function(e,n){console.log("NOTIFY",n),te["a"].create({message:n[0].message,color:"primary",textColor:"black"})},ie=function(e,n){var t=n[0].progressId;p["a"].set(e.progress,t,n[0].progress),p["a"].set(e.progressIsComplete,t,n[0].isComplete)},se=function(e){e.consoleLog=[]},ce=function(e,n){e.isConnected=n},ue=t("0c9c"),le=function(e,n){var t=e.commit,r=e.rootState;p["a"].use(ue["a"],{debug:!0,url:"wss://adazmq.marlboroughcollege.org/wss",realm:"realm1",onopen:function(e,n){t("isConnected",!0)},onclose:function(e,n){t("isConnected",!1)}}),p["a"].Wamp.subscribe("console_"+n,(function(e,n,r){t("consoleLog",e[0])}),{acknowledge:!0}).then((function(e){})),p["a"].Wamp.subscribe("updater_"+n,(function(e,n,r){t("updater",e)}),{acknowledge:!0}).then((function(e){})),p["a"].Wamp.subscribe("progress_"+n,(function(e,n,r){t("progress",e)}),{acknowledge:!0}).then((function(e){})),p["a"].Wamp.subscribe("notify_"+n,(function(e,n,r){t("notify",e)}),{acknowledge:!0}).then((function(e){})),r.user.roles.forEach((function(e,n){console.log(e),p["a"].Wamp.subscribe("role_"+e,(function(e,n,r){t("user/role",e,{root:!0})}),{acknowledge:!0}).then((function(e){}))}))},fe=function(e){var n=e.commit;n("clearConsoleLog")},de={namespaced:!0,state:Y,getters:i,mutations:s,actions:c},pe={activeSession:null,activeSessionName:null,coachOutFilter:[],coachRetFilter:[]},he=function(e){return e.activeSession},me=function(e){return e.coachOutFilter},be=function(e){return e.coachRetFilter},ge=function(e,n){e.activeSession=n},ve=function(e,n){e.coachOutFilter=n},Qe=function(e,n){e.coachRetFilter=n},we=t("a8b2"),Se={namespaced:!0,state:pe,getters:u,mutations:l,actions:we},Ce={activeSession:null,resultsGCSE:null,statisticsGCSE:null,resultsALevel:null,statisticsALevel:null},Ae=function(e){return e.activeSession},Le=function(e){return e.resultsGCSE},ke=function(e){return e.statisticsGCSE},ye=function(e){return e.resultsALevel},Pe=function(e){return e.statisticsALevel},xe=function(e,n){e.activeSession=n},Ie=function(e,n){e.statisticsGCSE=n},Oe=function(e,n){e.resultsGCSE=n},De=function(e,n){e.statisticsALevel=n},Ee=function(e,n){e.resultsALevel=n},Te=t("cb00"),Re={namespaced:!0,state:Ce,getters:f,mutations:d,actions:Te};p["a"].use(h["a"]),p["a"].use(b.a),p["a"].use(v.a);var je=new h["a"].Store({modules:{example:A,user:J,sockets:de,transport:Se,exams:Re}});n["a"]=je},4778:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t("8206"),o=t.n(r),a=o.a.create({baseURL:"/api/v1/public/"});o.a.defaults.port=80,n["b"]=function(e){var n=e.Vue;n.prototype.$axios=a}},"71d8":function(e,n,t){"use strict";t.r(n);var r=t("93db"),o=t.n(r),a=(t("ae66"),t("df26"),t("5965")),i=t.n(a),s=(t("05e4"),t("dc4e"),t("2818"),t("9f83"),t("9869")),c=t("2965"),u=t("c3cf"),l=t("9f30"),f=t("83d2"),d=t("bc4f"),p=t("b4af"),h=t("889e"),m=t("7e42"),b=t("80ff"),g=t("26a8"),v=t("490d"),Q=t("eb05"),w=t("f85a"),S=t("2ef0"),C=t("7caa"),A=t("34ff"),L=t("094b"),k=t("1530"),y=t("19be"),P=t("8edc"),x=t("b693"),I=t("bc74"),O=t("6081"),D=t("4776"),E=t("dd08"),T=t("1411"),R=t("1d98"),j=t("f962c"),F=t("d3a4"),G=t("851c"),B=t("18f0"),V=t("c462"),$=t("41c9"),_=t("b74b"),U=t("3946"),H=t("d200"),W=t("8c18"),q=t("6a2f"),M=t("6799"),N=t("cd4d"),z=t("dfd0"),J=t("9676"),Y=t("9cbe"),K=t("d1dc"),X=t("ec56"),Z=t("5840"),ee=t("3aaf"),ne=t("e81c"),te=t("3d3c"),re=t("6475"),oe=t("b8ed"),ae=t("69a4"),ie=t("3ec9"),se=t("4840"),ce=t("1139"),ue=t("ebe6"),le=t("965d"),fe=t("5b32"),de=t("96f0"),pe=t("f987"),he=t("4f61"),me=t("ed34"),be=t("2be8"),ge=t("58c0"),ve=t("2405"),Qe=t("1608"),we=t("bc9f"),Se=t("a182"),Ce=t("d835");s["a"].use(u["a"],{config:{notify:{}},iconSet:c["a"],components:{QAvatar:l["a"],QMarkupTable:f["a"],QSplitter:d["a"],QLayout:p["a"],QHeader:h["a"],QDrawer:m["a"],QPageContainer:b["a"],QScrollArea:g["a"],QPage:v["a"],QToolbar:Q["a"],QToolbarTitle:w["a"],QBtn:S["a"],QBtnGroup:C["a"],QIcon:A["a"],QList:L["a"],QItem:k["a"],QItemSection:y["a"],QItemLabel:P["a"],QField:x["a"],QInput:I["a"],QBtnDropdown:O["a"],QTabs:D["a"],QTab:E["a"],QTabPanels:T["a"],QTabPanel:R["a"],QSpace:j["a"],QRouteTab:F["a"],QCheckbox:G["a"],QTable:B["a"],QTh:V["a"],QTr:$["a"],QTd:_["a"],QSelect:U["a"],QPopupEdit:H["a"],QPopupProxy:W["a"],QMenu:q["a"],QFab:M["a"],QFabAction:N["a"],QColor:z["a"],QAjaxBar:J["a"],QSpinner:Y["a"],QSpinnerGears:K["a"],QSpinnerAudio:X["a"],QTree:Z["a"],QTooltip:ee["a"],QDialog:ne["a"],QToggle:te["a"],QRadio:re["a"],QDate:oe["a"],QTime:ae["a"],QExpansionItem:ie["a"],QChip:se["a"],QBtnToggle:ce["a"],QCard:ue["a"],QCardSection:le["a"],QCardActions:fe["a"],QSeparator:de["a"],QBadge:pe["a"],QLinearProgress:he["a"],QEditor:me["a"]},directives:{Ripple:be["a"],ClosePopup:ge["a"]},plugins:{Notify:ve["a"],Dialog:Qe["a"],LocalStorage:we["a"],AppFullscreen:Se["a"],Loading:Ce["a"]}});var Ae=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("q-ajax-bar",{attrs:{color:e.barColor}})],1)},Le=[],ke=(t("e125"),t("4823"),t("2e73"),t("dde3"),t("76d0"),t("0c1f"),t("8e9e")),ye=t.n(ke),Pe=t("9ce4"),xe=t("915b");function Ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ie(t,!0).forEach((function(n){ye()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var De={name:"App",data:function(){return{dark:!1}},methods:{},computed:Oe({},Object(Pe["e"])("user",["isDark","isLight"]),{},Object(Pe["c"])("sockets",["isConnected"]),{barColor:function(){var e=this.isDark?"primary":"primary-light";return this.isConnected?e:"negative"}}),created:function(){var e=this;xe["d"].commercialLicense=!0,this.$store.dispatch("user/tryAutoLogin").then((function(n){!0===n||e.$router.replace("/login")}))}},Ee=De,Te=t("2be6"),Re=Object(Te["a"])(Ee,Ae,Le,!1,null,null,null),je=Re.exports,Fe=t("452d"),Ge=t("5f2b"),Be={path:"admin",component:function(){return t.e("ce3843f4").then(t.bind(null,"6f3e"))},children:[{path:"active",component:function(){return t.e("0ce46eb2").then(t.bind(null,"282e"))}},{path:"sync",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("0fa535ce")]).then(t.bind(null,"8976"))}},{path:"access",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("2b07cf5f")]).then(t.bind(null,"e5bb"))}},{path:"tags",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("08ea42b4")]).then(t.bind(null,"9de1"))}}]},Ve={path:"transport",component:function(){return t.e("2e7f2cfb").then(t.bind(null,"4ece"))},children:[{path:"coaches",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("4e8dc9ce")]).then(t.bind(null,"e1b0"))}},{path:"taxis",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("1d4c8cb7")]).then(t.bind(null,"7697"))}},{path:"sessions",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("f0f3be7c")]).then(t.bind(null,"865b"))}}]},$e={path:"students",component:function(){return t.e("20e7483e").then(t.bind(null,"dce4"))},children:[{path:"profile",component:function(){return t.e("f72c65a4").then(t.bind(null,"bea3"))}},{path:"list",component:function(){return t.e("588e5c54").then(t.bind(null,"9fdc"))}}]},_e={path:"lab",component:function(){return t.e("d0b9e132").then(t.bind(null,"2698"))},children:[{path:"crud",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("3cf640f2")]).then(t.bind(null,"151f"))}},{path:"sockets",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("00dfb122")]).then(t.bind(null,"0c4f"))}},{path:"reports",component:function(){return t.e("1e3240ac").then(t.bind(null,"388f"))}},{path:"email",component:function(){return t.e("2d0d7be8").then(t.bind(null,"77b4"))}},{path:"tags",component:function(){return t.e("2d0c4c12").then(t.bind(null,"3bd1"))}}]},Ue={path:"watch",component:function(){return t.e("3323f0d3").then(t.bind(null,"d047"))},children:[{path:"exgarde",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("653a7da2")]).then(t.bind(null,"6a9f"))}}]},He={path:"academic",component:function(){return t.e("0cb57470").then(t.bind(null,"7b56"))},children:[{path:"jane",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("22fc3765")]).then(t.bind(null,"0ae4"))}}]},We={path:"exams",component:function(){return t.e("a796f512").then(t.bind(null,"4bb3"))},children:[{path:"",component:function(){return t.e("2d0d7a63").then(t.bind(null,"785a"))}},{path:"gcse",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("7beafdea"),t.e("5d787fde")]).then(t.bind(null,"2457"))}},{path:"alevel",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("7beafdea"),t.e("7276ad97")]).then(t.bind(null,"a4c7"))}},{path:"admin",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("57da0a41")]).then(t.bind(null,"2a8f"))}}]},qe={path:"accounts",component:function(){return t.e("128a3189").then(t.bind(null,"0cb4"))},children:[]},Me={path:"hm",component:function(){return t.e("45d573ba").then(t.bind(null,"27c4"))},children:[{path:"where",component:function(){return t.e("33afee7e").then(t.bind(null,"e93b"))}}]},Ne={path:"smt",component:function(){return t.e("1120dfff").then(t.bind(null,"2382"))},children:[{path:"",component:function(){return Promise.all([t.e("7ef87a9d"),t.e("775b9ef5")]).then(t.bind(null,"854d"))}}]},ze=[{path:"/",component:function(){return t.e("ebf8d318").then(t.bind(null,"5b6e"))},children:[{path:"",component:function(){return t.e("5aa2c0a8").then(t.bind(null,"d9b1"))}},{path:"user",component:function(){return t.e("2d221f88").then(t.bind(null,"cd2c"))}},Be,Ve,$e,_e,He,Ue,We,qe,Me,Ne]},{path:"/login",name:"login",component:function(){return t.e("12427b1f").then(t.bind(null,"902c"))},children:[{path:"",component:function(){return t.e("48cc6314").then(t.bind(null,"cd02"))}}]},{path:"*",component:function(){return t.e("741b98a7").then(t.bind(null,"2d51"))}}],Je=ze;s["a"].use(Ge["a"]);var Ye=new Ge["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Je}),Ke=Ye,Xe=function(){var e="function"===typeof Fe["a"]?Object(Fe["a"])({Vue:s["a"]}):Fe["a"],n="function"===typeof Ke?Ke({Vue:s["a"],store:e}):Ke;e.$router=n;var t={el:"#q-app",router:n,store:e,render:function(e){return e(je)}};return{app:t,store:e,router:n}},Ze=t("4778"),en=function(e){var n=e.router;e.store,e.Vue;n.beforeEach((function(e,n,t){t()}))},nn=(t("014e"),t("e9b0"),function(e){e.app,e.router,e.Vue}),tn=t("5871"),rn=t.n(tn),on=function(e){e.app,e.router;var n=e.Vue;n.use(rn.a)},an=t("fa94"),sn=t.n(an),cn=function(e){var n=e.Vue;n.use(sn.a)},un=(t("e285"),t("cd05"),t("7f3a")),ln=t.n(un),fn={methods:{$parseOptions:function(e,n){var t=ln()(new Set(e.map((function(e){return e[n]}))));return t.map((function(e){return{label:e,value:e}}))},$downloadBlob:function(e,n){this.$axios({url:e,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",n),document.body.appendChild(r),r.click()}))}}};s["a"].mixin(fn);var dn=Xe(),pn=dn.app,hn=dn.store,mn=dn.router;function bn(){return gn.apply(this,arguments)}function gn(){return gn=i()(o.a.mark((function e(){var n,t,r,a,i;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!0,t=function(e){n=!1,window.location.href=e},r=window.location.href.replace(window.location.origin,""),a=[Ze["b"],en,nn,on,cn,void 0],i=0;case 5:if(!(!0===n&&i<a.length)){e.next=23;break}if("function"===typeof a[i]){e.next=8;break}return e.abrupt("continue",20);case 8:return e.prev=8,e.next=11,a[i]({app:pn,router:mn,store:hn,Vue:s["a"],ssrContext:null,redirect:t,urlPath:r});case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](8),!e.t0||!e.t0.url){e.next=18;break}return window.location.href=e.t0.url,e.abrupt("return");case 18:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 20:i++,e.next=5;break;case 23:if(!1!==n){e.next=25;break}return e.abrupt("return");case 25:new s["a"](pn);case 26:case"end":return e.stop()}}),e,null,[[8,13]])}))),gn.apply(this,arguments)}bn()},"9f83":function(e,n,t){},a8b2:function(e,n){},bf1d:function(e,n){},cb00:function(e,n){},f1a8:function(e,n){},fe3b:function(e,n){}},[[0,"runtime","vendor"]]]);