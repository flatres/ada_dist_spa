(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"5bb0":function(t,e,s){},"896e":function(t,e,s){},ad9e:function(t,e,s){"use strict";var a=s("e03c"),r=s.n(a);r.a},b302:function(t,e,s){"use strict";var a=s("5bb0"),r=s.n(a);r.a},c64b:function(t,e,s){"use strict";var a=s("896e"),r=s.n(a);r.a},e03c:function(t,e,s){},f520:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("class-bar",{on:{change:t.loadClass,loaded:function(e){t.loaded=!0}}}),t.loaded?s("toolbar-page",{attrs:{elements:t.elements,default:"WYAP"},scopedSlots:t._u([{key:"side",fn:function(){},proxy:!0}],null,!1,1193378514)}):t._e()],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shrink full-height q-pr-sm q-mr-xs q-pl-sm"},[s("q-btn-toggle",{staticClass:"col no-shadow q-mr-md bx-font-secondary",attrs:{"no-caps":"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.classOptions,size:"sm"},on:{input:t.change},model:{value:t.selectedClass,callback:function(e){t.selectedClass=e},expression:"selectedClass"}})],1)},o=[],l=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("632c"),s("8e9e")),c=s.n(l),i=s("5a94"),d=s("9ce4");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"Component.Home.Classes.ClassBar",props:{},data(){return{classes:[],selectedClass:null}},methods:h(h({},Object(d["d"])("home",["setActiveClass"])),{},{process(t){this.classes=t,console.error(t),this.selectedClass=this.classOptions[0].value,this.$emit("loaded"),this.change()},change(){var t=this,e=this.classes.find((function(e){return e.id===t.selectedClass}));this.setActiveClass(e),this.$emit("change",e)}}),computed:{classOptions(){var t=this.classes.map((function(t){return{value:t.id,label:t.code,year:t.year}}));return t.sort(this.$compare("code","asc")),t.sort(this.$compare("year","desc"))}},components:{},created(){i["a"].getClasses(this.process,this.$errorHandler)}},m=p,f=(s("ad9e"),s("2be6")),b=s("6dd6"),v=s("e279"),g=s.n(v),C=Object(f["a"])(m,n,o,!1,null,"73b8d532",null),y=C.exports;g()(C,"components",{QBtnToggle:b["a"]});var x=s("08e9"),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.classMlo?s("q-page",{staticClass:"fit scroll full-height",staticStyle:{"padding-bottom":"900px"}},[t.hasSession?t._e():s("div",{staticClass:"row fit flex items-center justify-center q-mt-xl"},[s("div",{staticClass:"row full-width text-center flex justify-center q-mb-lg"},[s("q-icon",{attrs:{size:"50px",name:"fad fa-sad-tear"}})],1),s("div",{staticClass:"text-font"},[t._v("There are no active MLO sessions for the year group")])]),t.hasSession?s("div",{staticClass:"row q-mb-md"},[t.activeClass.exams.length>1?s("q-tabs",{staticClass:"text-font q-mr-md",attrs:{dense:"","no-caps":"","active-color":"positive","indicator-color":"primary","content-class":"bd-font-secondary"},model:{value:t.currentExamId,callback:function(e){t.currentExamId=e},expression:"currentExamId"}},t._l(t.activeClass.exams,(function(t){return s("q-tab",{key:t.id,attrs:{label:t.examName,name:t.id}})})),1):t._e()],1):t._e(),t.hasSession?s("div",{staticClass:"row"},[s("q-markup-table",{staticStyle:{width:"500px"},attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left text-positive",attrs:{colspan:"4"}},[t._v(t._s(t.classMlo.session.name))])]),s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left"},[t._v("Name")]),s("th",{staticClass:"text-left"},[t._v("House")]),s("th",{staticClass:"text-left"},[t._v("Current")]),s("th",{staticClass:"text-left"},[t._v("Potential")])])]),s("tbody",t._l(t.classMlo.students,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-left"},[t._v(t._s(e.fullName))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.boardingHouse))]),t.editing?t._e():s("td",{staticClass:"text-left"},[t._v(t._s(e.mloCurrent?e.mloCurrent:"-"))]),t.editing?s("td",{staticClass:"text-center"},[s("q-select",{staticClass:"q-mb-xs",staticStyle:{width:"50px",height:"35px"},attrs:{disable:t.saving,"bg-color":"secondary","popup-content-class":"bg-tertiary","hide-bottom-space":"",dense:"",filled:"","hide-dropdown-icon":"",options:t.gradeOptions},on:{input:function(s){return t.saveStudent(e)}},model:{value:e.mloCurrent,callback:function(s){t.$set(e,"mloCurrent",s)},expression:"student.mloCurrent"}})],1):t._e(),t.editing?t._e():s("td",{staticClass:"text-left"},[t._v(t._s(e.mloPotential?e.mloPotential:"-"))]),t.editing?s("td",{staticClass:"text-center"},[s("q-select",{staticClass:"q-mb-xs",staticStyle:{width:"50px",height:"35px"},attrs:{disable:t.saving,"bg-color":"secondary","hide-bottom-space":"","hide-dropdown-icon":"","popup-content-class":"bg-tertiary",dense:"",filled:"",options:t.gradeOptions},on:{input:function(s){return t.saveStudent(e)}},model:{value:e.mloPotential,callback:function(s){t.$set(e,"mloPotential",s)},expression:"student.mloPotential"}})],1):t._e()])})),0)])],1):t._e()]):t._e()},_=[];function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function P(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var j={name:"Home.Classes.MLO",props:{},data(){return{classMlo:null,editing:!0,saving:!1,loading:!1,classWatch:null,currentExamId:null}},methods:{save(){this.saving=!0,i["a"].postMLO(this.process,this.$errorHandler,this.classMlo)},saveStudent(t){var e={examId:this.classMlo.examId,session:this.classMlo.session,students:[t]};i["a"].postMLO((function(){}),this.$errorHandler,e)},loadClass(){this.saving=!1,this.loading=!0,i["a"].getClassMLO(this.process,this.$errorHandler,this.activeClass.id,this.currentExamId)},process(t){this.saving=!1,this.loading=!1,this.classMlo=t,console.log("data",t)},classChange(t){t&&(this.currentExamId=t.exams[0].id,this.loadClass())}},computed:P(P({},Object(d["c"])("home",["activeClass"])),{},{gradeOptions(){return this.activeClass.year>11?["A*","A","B","C","D","E","D1","D2","D3","M1","M2","M3","P1","P2","P3","U"]:["9","8","7","6","5","4","3","2","1"]},hasSession(){return!this.activeClass||!this.classMlo||this.classMlo.session}}),components:{},watch:{currentExamId(t){t&&this.loadClass()}},created(){var t=this;this.classWatch=this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.classChange)},mounted(){this.classChange(this.activeClass)},beforeDestroy(){this.classWatch&&this.classWatch()}},M=j,$=(s("c64b"),s("8c42")),q=s("34ff"),S=s("4776"),E=s("dd08"),k=s("2ef0"),D=s("2e0b"),W=s("3946"),H=Object(f["a"])(M,O,_,!1,null,"01161fec",null),I=H.exports;g()(H,"components",{QPage:$["a"],QIcon:q["a"],QTabs:S["a"],QTab:E["a"],QBtn:k["a"],QMarkupTable:D["a"],QSelect:W["a"]});var Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currentClass?s("wyap",{attrs:{wyaps:"",classObject:t.currentClass}}):t._e()},A=[],L=s("9489"),B={name:"Home.Classes.Wyap",props:{},data(){return{currentClass:null,classWatch:null}},methods:{loadClass(){var t=this.$store.getters["home/activeClass"];t&&(this.currentClass=t)}},computed:{},components:{Wyap:L["a"]},created(){var t=this;this.classWatch=this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.loadClass),this.loadClass()},beforeDestroy(){this.classWatch&&this.classWatch()}},T=B,N=(s("b302"),Object(f["a"])(T,Q,A,!1,null,"3a05df34",null)),Y=N.exports;g()(N,"components",{QPage:$["a"]});var z={name:"PageHomeAlmanac",data(){return{loaded:!1,elements:[{name:"WYAP",iconx:"fad fa-ruler-triangle",label:"WYAP",component:Y,shortcut:"b"},{name:"MLO",iconx:"fad fa-dice",label:"MLO",component:I,shortcut:"b"}]}},components:{toolbarPage:x["a"],ClassBar:y},methods:{process(){},setClass(){}},created(){var t=this;this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.setClass)}},J=z,U=Object(f["a"])(J,a,r,!1,null,null,null);e["default"]=U.exports}}]);