(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6b665774"],{"08e9":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"no-scroll toolbar-page"},[s("q-toolbar",{class:{"text-white bg-toolbar":t.isDark,"text-black bg-white-3":t.isLight},attrs:{dense:"",shrink:"",classx:"text-white shadow-2 rounded-borders narrowx justify"}},[s("q-tabs",{staticClass:"tbp-tabs",attrs:{dense:"",shrink:"","active-color":t.isLight?"#011b48":"primary"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.elements,function(e){return s("div",{key:e.name},[e.menu?t._e():s("q-tab",{attrs:{label:e.label,name:e.name,icon:e.icon}}),e.menu?s("q-btn",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{"shift+a":function(){t.selectedTab="bookings"}},expression:"{'shift+a': () => { selectedTab = 'bookings' }}"}],attrs:{flat:"",size:"sm",label:e.label,icon:e.icon?e.icon:"fal fa-caret-down","text-color":t.isDark?"white":"primary"}},[s("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[s("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(e.menu,function(e){return s("q-item",{key:e.name,attrs:{clickable:""},nativeOn:{click:function(s){return t.clickMenu(e)}}},[s("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[s("q-icon",{attrs:{size:"20px",name:e.icon}})],1),s("q-item-section",[s("q-item-label",[t._v(t._s(e.label))])],1)],1)}),1)],1)],1):t._e()],1)}),0),s("q-space"),t._t("side")],2),s("q-tab-panels",{model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabPanels,function(e){return s("q-tab-panel",{key:e.name,attrs:{name:e.name}},[s(e.component,{tag:"component",on:{close:t.close}})],1)}),1)],1)},n=[],l=(s("c880"),s("c03b")),i=s.n(l),o=s("9ce4"),c={name:"ComponentPageToolbar",props:{default:null,elements:null},watch:{selectedTab:function(){console.log(":",this.selectedTab)}},data:function(){return{selectedTab:null}},computed:i()({},Object(o["e"])("user",["isDark","isLight"]),{tabPanels:function(){var t=[];return this.elements.forEach(function(e){e.menu?e.menu.forEach(function(e){t.push({name:e.name,component:e.component})}):t.push({name:e.name,component:e.component})}),t}}),methods:{close:function(){this.selectedTab=this.default},clickMenu:function(t){t.name&&(this.selectedTab=t.name),t.event&&this.$emit(t.event)}},created:function(){this.selectedTab=this.default}},r=c,u=(s("b0d4"),s("2be6")),d=Object(u["a"])(r,a,n,!1,null,null,null);e["a"]=d.exports},"0cf2":function(t,e,s){},8976:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("toolbar-page",{attrs:{elements:t.elements,default:"students"}})},n=[],l=s("08e9"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("h1",[t._v(" iSAMS Students ")]),s("crud",{ref:"crud",attrs:{dataOverride:t.misStudents,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"name",rowKey:"id",search:""}})],1),s("div",{staticClass:"col-4"},[s("div",{staticClass:"block border-primary q-ba-sm"},[s("div",{staticClass:"row"},[s("div",{attrs:{clsss:"col flex"}},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"# MIS Students"},model:{value:t.stats.misStudentCount,callback:function(e){t.$set(t.stats,"misStudentCount",e)},expression:"stats.misStudentCount"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"# ADA Students"},model:{value:t.stats.adaStudentCount,callback:function(e){t.$set(t.stats,"adaStudentCount",e)},expression:"stats.adaStudentCount"}})],1)]),s("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"primary","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStudents}},[t._v("\n           Sync\n          "),s("span",{attrs:{slot:"loading"},slot:"loading"},[s("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),s("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?s("div",[s("h1",[t._v("Summary")]),s("div",{attrs:{clsss:"row"}},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(e){t.$set(t.results,"new",e)},expression:"results.new"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(e){t.$set(t.results,"updated",e)},expression:"results.updated"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(e){t.$set(t.results,"disabled",e)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},o=[],c=s("c03b"),r=s.n(c),u=s("9ce4"),d=s("4778"),f={getMISStudents:function(t){d["a"].get("/admin/sync/misstudents").then(function(e){t(e.data)}).catch(function(t){console.log(t)})},postSyncStudents:function(t){d["a"].post("/admin/sync/students").then(function(e){t(e.data)}).catch(function(t){console.log(t)})},getMISStaff:function(t){d["a"].get("/admin/sync/misstaff").then(function(e){t(e.data)}).catch(function(t){console.log(t)})},postSyncStaff:function(t){d["a"].post("/admin/sync/staff").then(function(e){t(e.data)}).catch(function(t){console.log(t)})}},m=s("d612"),p=s("dd14"),b={name:"ComponentAdminSyncStudentSync",props:{},data:function(){return{id:"0",stats:{misStudentCount:0,adaStudentCount:0},misStudentCount:"",misStudents:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"lastName",required:!0,label:"Name",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",required:!0,label:"",align:"left",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",align:"left",sortable:!0},{name:"house",label:"Hs",field:"txtBoardingHouse",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[],channel:"lab.crud.basic"}},methods:r()({},Object(u["b"])("sockets",["clearConsoleLog"]),{showMISStudents:function(t){this.misStudents=t.misStudents,this.stats=t.stats},syncStudents:function(){this.clearConsoleLog(),this.loading=!0,f.postSyncStudents(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:r()({},Object(u["c"])("sockets",["progress"]),{syncProgress:function(){return this.progress("Admin/Sync/Students")}}),components:{Crud:m["a"],Console:p["a"]},created:function(){f.getMISStudents(this.showMISStudents)}},g=b,h=(s("a0f5"),s("2be6")),y=Object(h["a"])(g,i,o,!1,null,"23c7d0fe",null),S=y.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{},[s("h1",[t._v("MIS Staff")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("crud",{ref:"crud",attrs:{dataOverride:t.misStaff,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),s("div",{staticClass:"col-4"},[s("div",{staticClass:"block border-primary q-ba-sm"},[s("div",{staticClass:"row"},[s("div",{attrs:{clsss:"col flex"}},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"# MIS Staff"},model:{value:t.stats.misStaffCount,callback:function(e){t.$set(t.stats,"misStaffCount",e)},expression:"stats.misStaffCount"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"# ADA Staff"},model:{value:t.stats.adaStaffCount,callback:function(e){t.$set(t.stats,"adaStaffCount",e)},expression:"stats.adaStaffCount"}})],1)]),s("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"primary","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStaff}},[t._v("\n           Sync\n          "),s("span",{attrs:{slot:"loading"},slot:"loading"},[s("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),s("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?s("div",[s("h1",[t._v("Summary")]),s("div",{attrs:{clsss:"row"}},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(e){t.$set(t.results,"new",e)},expression:"results.new"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(e){t.$set(t.results,"updated",e)},expression:"results.updated"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"primary",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(e){t.$set(t.results,"disabled",e)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},C=[],x={name:"ComponentAdminSyncStaffSync",props:{},data:function(){return{id:"0",stats:{misStaffCount:0,adaStaffCount:0},misStaffCount:"",misStaff:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!1},{name:"lastName",label:"Surname",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",label:"First Name",align:"left",field:"txtFirstname",sortable:!0},{name:"preName",label:"Pre Name",align:"left",field:"txtPreName",hidden:!0,sortable:!0},{name:"email",label:"Email",field:"txtEmailAddress",align:"left",sortable:!0},{name:"group",label:"Group",field:"intGroupID",align:"left",type:"options",filter:!0,options:[],sortable:!0},{name:"status",label:"Status",field:"txtStatus",align:"left",sortable:!0},{name:"type",label:"Type",field:"txtUserType",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:r()({},Object(u["b"])("sockets",["clearConsoleLog"]),{showMISStaff:function(t){this.misStaff=t.misStaff,this.columns[5].options=t.groups,this.stats=t.stats},syncStaff:function(){this.clearConsoleLog(),this.loading=!0,f.postSyncStaff(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:r()({},Object(u["c"])("sockets",["progress"]),{syncProgress:function(){return this.progress("Admin/Sync/Staff")}}),components:{Crud:m["a"],Console:p["a"]},created:function(){f.getMISStaff(this.showMISStaff)}},k=x,w=(s("b12c"),Object(h["a"])(k,v,C,!1,null,"1b9715df",null)),q=w.exports,_={name:"PageAdminSync",data:function(){return{elements:[{name:"students",label:"Students",component:S,shortcut:"s"},{name:"staff",label:"Staff",component:q,shortcut:"t"}]}},components:{toolbarPage:l["a"]},methods:{refresh:function(){}}},I=_,T=Object(h["a"])(I,a,n,!1,null,null,null);e["default"]=T.exports},a0f5:function(t,e,s){"use strict";var a=s("0cf2"),n=s.n(a);n.a},b0d4:function(t,e,s){"use strict";var a=s("b3f7"),n=s.n(a);n.a},b12c:function(t,e,s){"use strict";var a=s("c172"),n=s.n(a);n.a},b3f7:function(t,e,s){},b6fc:function(t,e,s){},b709:function(t,e,s){"use strict";var a=s("b6fc"),n=s.n(a);n.a},c172:function(t,e,s){},dd14:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"console q-ma-md full-height"},[s("p",{staticClass:"q-ma-sm"},[t._v("Console")]),s("ul",t._l(t.consoleLog,function(e){return s("li",{key:e.lineIndex,class:{error:e.isError,indent1:1==e.indent,indent2:2==e.indent,indent3:3==e.indent}},[t._v("\n      "+t._s(e.message)+"\n    ")])}),0)])},n=[],l=s("c03b"),i=s.n(l),o=s("9ce4"),c={name:"AppConsole",data:function(){return{}},computed:i()({},Object(o["c"])("sockets",["consoleLog"]))},r=c,u=(s("b709"),s("2be6")),d=Object(u["a"])(r,a,n,!1,null,"227ecc31",null);e["a"]=d.exports}}]);