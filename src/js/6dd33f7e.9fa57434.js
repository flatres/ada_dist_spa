(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6dd33f7e"],{"282e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("q-tabs",{staticClass:"narrow",attrs:{id:"ad",color:"dark","underline-color":"primary"},model:{value:t.adTab,callback:function(e){t.adTab=e},expression:"adTab"}},[n("q-tab",{attrs:{slot:"title",default:"",icon:"fal fa-child fa-sm",label:"Me",name:"me"},slot:"title"}),n("q-tab",{attrs:{slot:"title",icon:"fal fa-users fa-sm",label:"All Staff",name:"staff"},slot:"title"}),n("q-tab-panel",{attrs:{name:"me"}},[n("me")],1),n("q-tab-panel",{attrs:{name:"cr"}}),n("q-tab-panel",{attrs:{name:"staff"}},[n("all-staff")],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{},[n("div",{staticClass:"row fit"},[n("tree-view",{attrs:{data:t.jsonSource,options:{maxDepth:1}}})],1)])},s=[],i=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("6650")),l=n.n(i),c=n("9ce4"),u=n("4778"),f={getAllStaff:function(t){u["a"].get("/admin/activeDirectory/allStaff").then(function(e){t(e.data),console.log(e)}).catch(function(t){console.log(t)})},getMe:function(t){u["a"].get("/admin/activeDirectory/me").then(function(e){console.log(e),t(e.data["0"])}).catch(function(t){console.log(t)})},getIsamsInfo:function(t,e){u["a"].get("/admin/activeDirectory/isams/"+t).then(function(t){console.log(t),e(t.data)}).catch(function(t){console.log(t)})}};function p(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={name:"ComponentAdminAdMe",props:{},data:function(){return{jsonSource:{root:{id:"1"}}}},methods:d({},Object(c["b"])("sockets",["clearConsoleLog"])),computed:{},components:{},created:function(){var t=this;f.getMe(function(e){t.jsonSource=e,console.log(t.jsonSource)})}},g=m,b=(n("c5dd"),n("2be6")),h=Object(b["a"])(g,r,s,!1,null,null,null),y=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{},[n("div",{staticClass:"row fit"},[n("div",{staticClass:"col-8 scroll"},[n("q-table",{attrs:{data:t.filteredUsers,columns:t.columns,filter:t.filter,separator:t.separator,pagination:t.paginationControl,"row-key":t.login,selectionx:"single",color:"primary",loading:t.loading,dark:"",dense:""},on:{"update:pagination":function(e){t.paginationControl=e}},scopedSlots:t._u([{key:"top-left",fn:function(e){return[n("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]}},{key:"top-right",fn:function(e){return[n("q-select",{staticClass:"q-mx-md",staticStyle:{color:"white"},attrs:{color:"white",filter:"",dark:"",options:t.groupList,"hide-underline":""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})]}},{key:"body",fn:function(e){return[n("q-tr",{class:{"bg-secondary":t.selectedUserLogin===e.row.login,"text-black":t.selectedUserLogin===e.row.login},attrs:{props:e},nativeOn:{click:function(n){return t.clickRow(e.row)}}},[n("q-td",{key:"lastName",attrs:{props:e}},[t._v("\n                "+t._s(e.row.lastName)+"\n              ")]),n("q-td",{key:"firstName",attrs:{props:e}},[t._v("\n                "+t._s(e.row.firstName)+"\n              ")]),n("q-td",{key:"login",attrs:{props:e}},[t._v("\n                "+t._s(e.row.login)+"\n              ")]),n("q-td",{key:"email",attrs:{props:e}},[t._v("\n                "+t._s(e.row.email)+"\n              ")])],1)]}}])})],1),n("div",{staticClass:"col-4 q-pl-md"},[n("h4",[t._v(t._s(t.firstName+" "+t.lastName))]),n("p",[t._v(t._s(t.login))]),n("p",[t._v(t._s(t.email))]),t.selectedUserLogin?n("h5",{staticClass:"text-primary"},[t._v("Groups")]):t._e(),n("ul",t._l(t.groups,function(e){return n("li",{key:e,staticClass:"text-secondary"},[t._v(t._s(e))])}),0),t.isamsData?n("div",[n("h5",{staticClass:"text-primary"},[t._v("iSams Data")]),n("p",[t._v(t._s(t.isamsData.userCode))]),n("ul",t._l(t.isamsData.tutees,function(e){return n("li",{key:e.txtSchoolId,staticClass:"text-secondary"},[t._v("\n            "+t._s(e.lastName+" "+e.initials+" "+e.boarding)+"\n          ")])}),0)]):t._e()])])])},O=[];n("4f72"),n("0d9c");function w(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var k={name:"ComponentAdminAdMe",props:{},data:function(){return{login:null,group:"",groupList:[],users:[],filter:"",separator:"horizontal",selection:"single",selectedUser:null,selectedUserLogin:null,pagination:{page:1},paginationControl:{rowsPerPage:40,page:1,sortBy:"lastName"},loading:!1,dark:!0,columns:[{name:"lastName",required:!0,label:"Last name",align:"left",field:"lastName",sortable:!0},{name:"firstName",label:"First Name",field:"firstName",sortable:!0},{name:"login",label:"Login",field:"login",sortable:!0},{name:"email",label:"Email",field:"email",sortable:!0}],firstName:"",lastName:"",email:"",groups:[],isamsData:null}},methods:_({},Object(c["b"])("sockets",["clearConsoleLog"]),{clickRow:function(t){var e=this;this.selectedUserLogin=t.login,this.selectedUser=t,this.firstName=t.firstName,this.lastName=t.lastName,this.login=t.login,this.email=t.email,this.groups=t.groups,f.getIsamsInfo(t.login,function(t){e.isamsData=t,console.log(t)})}}),computed:{filteredUsers:function(){var t=this;if(""===this.group)return this.users;var e=this.users.filter(function(e,n){return e.groups.includes(t.group)});return e}},components:{},created:function(){var t=this;this.loading=!0,f.getAllStaff(function(e){t.users=e.users,t.groupList=e.groups,t.loading=!1})}},j=k,q=(n("db83"),Object(b["a"])(j,v,O,!1,null,null,null)),C=q.exports,N={name:"PageAdminAd",data:function(){return{adTab:null}},components:{me:y,allStaff:C},methods:{},created:function(){}},P=N,D=Object(b["a"])(P,a,o,!1,null,null,null);e["default"]=D.exports},"77c6":function(t,e,n){},b69c:function(t,e,n){},c5dd:function(t,e,n){"use strict";var a=n("b69c"),o=n.n(a);o.a},db83:function(t,e,n){"use strict";var a=n("77c6"),o=n.n(a);o.a}}]);