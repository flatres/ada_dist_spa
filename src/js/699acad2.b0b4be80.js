(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["699acad2"],{"08e9":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"no-scroll"},[n("q-toolbar",{staticClass:"bg-toolbar text-white shadow-2 rounded-borders narrowx justify",attrs:{dense:"",shrink:""}},[n("q-tabs",{attrs:{dense:"",shrink:"","indicator-color":"primary"},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.elements,function(t){return n("div",{key:t.name},[t.menu?e._e():n("q-tab",{attrs:{label:t.label,name:t.name}}),t.menu?n("q-btn",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{"shift+a":function(){e.selectedTab="bookings"}},expression:"{'shift+a': () => { selectedTab = 'bookings' }}"}],attrs:{flat:"",label:"Admin",icon:"fal fa-caret-down"},nativeOn:{click:function(n){n.stopPropagation(),e.selectedTab=t.name}}},[n("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-dark text-white","auto-close":""}},[n("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},e._l(t.menu,function(t){return n("q-item",{key:t.name,attrs:{clickable:""},nativeOn:{click:function(n){e.selectedTab=t.name}}},[n("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[n("q-icon",{attrs:{name:t.icon+" fa-sm"}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(t.label))])],1)],1)}),1)],1)],1):e._e()],1)}),0),n("q-space"),e._t("side")],2),n("q-tab-panels",{model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.tabPanels,function(t){return n("q-tab-panel",{key:t.name,attrs:{name:t.name}},[n(t.component,{tag:"component",on:{close:function(t){e.selectedTab=null}}})],1)}),1)],1)},s=[],c=(n("c880"),n("2e73"),{name:"ComponentPageToolbar",props:{default:null,elements:null},watch:{selectedTab:function(){console.log(":",this.selectedTab)}},data:function(){return{selectedTab:null}},computed:{tabPanels:function(){var e=[];return this.elements.forEach(function(t){t.menu?t.menu.forEach(function(t){e.push({name:t.name,component:t.component})}):e.push({name:t.name,component:t.component})}),e}},created:function(){this.selectedTab=this.default}}),l=c,o=n("2be6"),i=Object(o["a"])(l,a,s,!1,null,null,null);t["a"]=i.exports},"0c4f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("toolbar-page",{attrs:{elements:e.elements,default:"chat"}})},s=[],c=n("08e9"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("p",{staticClass:"text-secondary"},[e._v("\n      Uses the socket server directy (i.e no api calls) to subscribe / publish\n    ")]),n("q-space"),n("p",[e._v("\n      "+e._s(e.time)+"\n      "),n("span",[e._v(" ms")])])],1),n("div",{staticClass:"row"},[n("p",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.server)+"\n    ")])]),n("div",{staticClass:"row q-px-md"},[n("div",{staticClass:"col-6 "},[n("q-input",{staticClass:"bg-black text-green",attrs:{outlined:"",dark:"",type:"textarea",autogrow:""},on:{keyup:e.keyUp},model:{value:e.sendText,callback:function(t){e.sendText=t},expression:"sendText"}})],1),n("div",{staticClass:"col-6 q-pl-lg"},[n("q-input",{staticClass:"bg-black text-green",attrs:{outlined:"",dark:"",type:"textarea",autogrow:"",readonly:""},model:{value:e.receiveText,callback:function(t){e.receiveText=t},expression:"receiveText"}})],1)])])},o=[],i={name:"PageLabSockets",data:function(){return{wamp:null,time:"Time of flight",wampSubscription:null,sendText:"",receiveText:"",sendTime:0,receiveTime:0,channel:"lab.sockets.chat",server:""}},components:{},methods:{keyUp:function(e){console.log("K:",e.key),this.sendTime=Date.now(),this.$wamp.publish(this.channel,[],{key:e.key},{exclude_me:!1})}},mounted:function(){this.server="ws://adazmq.marlboroughcollege.org:9090",this.wamp=this.$wamp.subscribe(this.channel,function(e,t,n){var a=t.key;this.receiveTime=Date.now(),this.time=this.receiveTime-this.sendTime,1===a.length?this.receiveText+=a:"Backspace"===a&&(this.receiveText=this.receiveText.slice(0,-1))},{acknowledge:!0}).then(function(e){this.sendText="",this.wampSubscription=e})}},r=i,u=n("2be6"),m=Object(u["a"])(r,l,o,!1,null,null,null),d=m.exports,b={name:"PageLabSockets",data:function(){return{elements:[{name:"chat",label:"Chat",component:d,shortcut:"c"}]}},components:{toolbarPage:c["a"]},methods:{refresh:function(){this.$root.$emit("crud_refresh")}}},p=b,h=Object(u["a"])(p,a,s,!1,null,null,null);t["default"]=h.exports}}]);