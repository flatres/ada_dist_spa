(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,n,t){e.exports=t("71d8")},"452d":function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"userId",function(){return A}),t.d(r,"name",function(){return w}),t.d(r,"permissions",function(){return x}),t.d(r,"isDark",function(){return L}),t.d(r,"isLight",function(){return y}),t.d(r,"isAuthenticated",function(){return P}),t.d(r,"getModuleAccess",function(){return S}),t.d(r,"getModuleColor",function(){return D}),t.d(r,"getPageAccess",function(){return T});var o={};t.r(o),t.d(o,"authUser",function(){return O}),t.d(o,"clearAuthData",function(){return E}),t.d(o,"isDark",function(){return V}),t.d(o,"role",function(){return j});var a={};t.r(a),t.d(a,"login",function(){return W}),t.d(a,"tryAutoLogin",function(){return $}),t.d(a,"logout",function(){return q}),t.d(a,"isDark",function(){return M}),t.d(a,"setAxiosHeader",function(){return U}),t.d(a,"setPrimaryColor",function(){return N});var s={};t.r(s),t.d(s,"isConnected",function(){return J}),t.d(s,"consoleLog",function(){return Y}),t.d(s,"updaterData",function(){return K}),t.d(s,"updater",function(){return X}),t.d(s,"progress",function(){return Z});var u={};t.r(u),t.d(u,"consoleLog",function(){return ne}),t.d(u,"updater",function(){return te}),t.d(u,"notify",function(){return re}),t.d(u,"progress",function(){return oe}),t.d(u,"clearConsoleLog",function(){return ae}),t.d(u,"isConnected",function(){return se});var i={};t.r(i),t.d(i,"connectSocket",function(){return ie}),t.d(i,"clearConsoleLog",function(){return ce});var c={};t.r(c),t.d(c,"activeSession",function(){return de}),t.d(c,"coachOutFilter",function(){return pe}),t.d(c,"coachRetFilter",function(){return me});var l={};t.r(l),t.d(l,"setActiveSession",function(){return he}),t.d(l,"setCoachOutFilter",function(){return be}),t.d(l,"setCoachRetFilter",function(){return ge});var f=t("9869"),d=t("9ce4"),p=t("c005"),m=t.n(p),h=t("fa94"),b=t.n(h),g={},v=t("fe3b"),Q=t("bf1d"),k=t("f1a8"),C={namespaced:!0,state:g,getters:v,mutations:Q,actions:k},I={userId:null,auth:null,firstname:null,lastname:null,permissions:{},roles:[],isDark:!0,isLight:!1},A=function(e){return e.userId},w=function(e){var n={firstname:e.firstname,lastname:e.lastname};return n},x=function(e){return e.permissions},L=function(e){return e.isDark},y=function(e){return e.isLight},P=function(e){return null!==e.auth},S=function(e){return function(n){return!!e.permissions[n]&&e.permissions[n].hasAccess}},D=function(e){return function(n){return e.permissions[n]?e.permissions[n].color:"#4fc08d"}},T=function(e){return function(n,t){if(!e.permissions[n])return!1;var r=e.permissions[n];return!!r.pages[t]&&r.pages[t].hasAccess}},R=(t("288e"),t("75d5")),F=t.n(R),O=(t("dde3"),t("0e20"),t("2e73"),function(e,n){e.auth=n.auth,e.userId=n.userId,e.permissions=n.permissions,e.roles=n.roles}),E=function(e){e.auth=null,e.userId=null,e.permissions={},e.roles=[]},V=function(e,n){e.isDark=n,e.isLight=!n},j=function(e,n){var t=n[0].data,r=n[0].roleId;Object.entries(t).forEach(function(n){var o=F()(n,2),a=o[0],s=o[1];if(e.permissions[a]){!0===t[a].hasAccess&&(e.permissions[a].hasAccess=!0,e.permissions[a].fromRoles.find(function(e){return e===r})||e.permissions[a].fromRoles.push(r)),!1===t[a].hasAccess&&1===e.permissions[a].fromRoles.length&&(e.permissions[a].fromRoles=[],e.permissions[a].hasAccess=!1);var u=s.pages;Object.entries(u).forEach(function(n){var t=F()(n,2),o=t[0],s=t[1];e.permissions[a].pages[o]?e.permissions[a].pages[o].fromRoles.find(function(e){return e===r})?1===e.permissions[a].pages[o].fromRoles.length&&f["a"].set(e.permissions[a].pages,o,s):!0===s.hasAccess&&(e.permissions[a].pages[o].hasAccess=!0,e.permissions[a].pages[o].fromRoles.push(r)):f["a"].set(e.permissions[a].pages,o,s)})}else f["a"].set(e.permissions,a,s)})},_=(t("c8a0"),t("4778")),B=t("bc9f"),H=t("134d"),W=function(e,n){var t=e.commit,r=e.dispatch;return console.log(n),new Promise(function(e,o){_["a"].post("/auth/login",{login:n.login,password:n.password}).then(function(n){var o=n.data;t("authUser",{auth:o.auth,userId:o.userId,permissions:o.permissions,roles:o.roles}),B["a"].set("auth",o.auth),B["a"].set("userId",o.userId),B["a"].set("permissions",o.permissions),B["a"].set("roles",o.roles),r("setAxiosHeader",n.data.auth),r("sockets/connectSocket",o.auth,{root:!0}),e(n)}).catch(function(e){o(e)})})},$=function(e){var n=e.commit,t=e.dispatch,r=B["a"].getItem("auth");return null!==r&&(n("authUser",{auth:r,userId:B["a"].getItem("userId"),permissions:B["a"].getItem("permissions"),roles:B["a"].getItem("roles")}),t("setAxiosHeader",r),t("sockets/connectSocket",r,{root:!0}),!0)},q=function(e){var n=e.commit,t=e.dispatch;B["a"].clear(),n("clearAuthData"),t("setAxiosHeader","")},M=function(e,n){var t=e.commit;t("isDark",n)},U=function(e,n){_["a"].defaults.headers.common["Authorization"]=n},N=function(e,n){e.commit;return n===H["a"]},z={namespaced:!0,state:I,getters:r,mutations:o,actions:a},G={isConnected:!1,consoleLog:[],updaters:{},updaterData:{},progress:{},progressIsComplete:{}},J=(t("0e30"),function(e){return e.isConnected}),Y=function(e){return e.consoleLog.slice().reverse()},K=function(e){return function(n){return e.updaterData[n]}},X=function(e){return function(n,t){if(!e.updaters[n])return t;var r=e.updaters[n],o=r.key,a=r.data[o],s=t.findIndex(function(e){return e[o]===a});return s>-1&&f["a"].set(t,s,r.data),t}},Z=function(e){return function(n){return e.progress[n]?e.progress[n]:0}},ee=(t("ae66"),t("2405")),ne=function(e,n){if(!0===n.replace){for(var t=e.consoleLog.length,r=t-1;r>=0;r--)if(!1===e.consoleLog[r].isError){e.consoleLog[r].message=n.message;break}}else e.consoleLog.push(n)},te=function(e,n){var t=n[0].updaterId;f["a"].set(e.updaters,t,n[0])},re=function(e,n){console.log("NOTIFY",n),ee["a"].create({message:n[0].message,color:"primary",textColor:"black"})},oe=function(e,n){var t=n[0].progressId;f["a"].set(e.progress,t,n[0].progress),f["a"].set(e.progressIsComplete,t,n[0].isComplete)},ae=function(e){e.consoleLog=[]},se=function(e,n){e.isConnected=n},ue=t("0c9c"),ie=function(e,n){var t=e.commit,r=e.rootState;f["a"].use(ue["a"],{debug:!0,url:"wss://adazmq.marlboroughcollege.org/wss",realm:"realm1",onopen:function(e,n){t("isConnected",!0)},onclose:function(e,n){t("isConnected",!1)}}),f["a"].Wamp.subscribe("console_"+n,function(e,n,r){t("consoleLog",e[0])},{acknowledge:!0}).then(function(e){}),f["a"].Wamp.subscribe("updater_"+n,function(e,n,r){t("updater",e)},{acknowledge:!0}).then(function(e){}),f["a"].Wamp.subscribe("progress_"+n,function(e,n,r){t("progress",e)},{acknowledge:!0}).then(function(e){}),f["a"].Wamp.subscribe("notify_"+n,function(e,n,r){t("notify",e)},{acknowledge:!0}).then(function(e){}),r.user.roles.forEach(function(e,n){console.log(e),f["a"].Wamp.subscribe("role_"+e,function(e,n,r){t("user/role",e,{root:!0})},{acknowledge:!0}).then(function(e){})})},ce=function(e){var n=e.commit;n("clearConsoleLog")},le={namespaced:!0,state:G,getters:s,mutations:u,actions:i},fe={activeSession:null,activeSessionName:null,coachOutFilter:[],coachRetFilter:[]},de=function(e){return e.activeSession},pe=function(e){return e.coachOutFilter},me=function(e){return e.coachRetFilter},he=function(e,n){e.activeSession=n},be=function(e,n){e.coachOutFilter=n},ge=function(e,n){e.coachRetFilter=n},ve=t("a8b2"),Qe={namespaced:!0,state:fe,getters:c,mutations:l,actions:ve};f["a"].use(d["a"]),f["a"].use(m.a),f["a"].use(b.a);var ke=new d["a"].Store({modules:{example:C,user:z,sockets:le,transport:Qe}});n["a"]=ke},4778:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var r=t("8206"),o=t.n(r),a=o.a.create({baseURL:"/api/v1/public/"});o.a.defaults.port=80,n["b"]=function(e){var n=e.Vue;n.prototype.$axios=a}},"71d8":function(e,n,t){"use strict";t.r(n);var r=t("56d4"),o=t.n(r),a=(t("df26"),t("71b8")),s=t.n(a),u=(t("05e4"),t("dc4e"),t("2818"),t("9f83"),t("9869")),i=t("2965"),c=t("c3cf"),l=t("b4af"),f=t("889e"),d=t("7e42"),p=t("80ff"),m=t("26a8"),h=t("490d"),b=t("eb05"),g=t("f85a"),v=t("2ef0"),Q=t("7caa"),k=t("34ff"),C=t("094b"),I=t("1530"),A=t("19be"),w=t("8edc"),x=t("b693"),L=t("bc74"),y=t("6081"),P=t("4776"),S=t("dd08"),D=t("1411"),T=t("1d98"),R=t("f962c"),F=t("d3a4"),O=t("851c"),E=t("18f0"),V=t("c462"),j=t("41c9"),_=t("b74b"),B=t("3946"),H=t("d200"),W=t("8c18"),$=t("6a2f"),q=t("6799"),M=t("cd4d"),U=t("dfd0"),N=t("9676"),z=t("9cbe"),G=t("d1dc"),J=t("ec56"),Y=t("5840"),K=t("3aaf"),X=t("e81c"),Z=t("3d3c"),ee=t("6475"),ne=t("b8ed"),te=t("69a4"),re=t("3ec9"),oe=t("4840"),ae=t("1139"),se=t("ebe6"),ue=t("965d"),ie=t("5b32"),ce=t("2be8"),le=t("792a"),fe=t("a207"),de=t("58c0"),pe=t("2405"),me=t("1608"),he=t("bc9f"),be=t("a182");u["a"].use(c["a"],{config:{notify:{}},iconSet:i["a"],components:{QLayout:l["a"],QHeader:f["a"],QDrawer:d["a"],QPageContainer:p["a"],QScrollArea:m["a"],QPage:h["a"],QToolbar:b["a"],QToolbarTitle:g["a"],QBtn:v["a"],QBtnGroup:Q["a"],QIcon:k["a"],QList:C["a"],QItem:I["a"],QItemSection:A["a"],QItemLabel:w["a"],QField:x["a"],QInput:L["a"],QBtnDropdown:y["a"],QTabs:P["a"],QTab:S["a"],QTabPanels:D["a"],QTabPanel:T["a"],QSpace:R["a"],QRouteTab:F["a"],QCheckbox:O["a"],QTable:E["a"],QTh:V["a"],QTr:j["a"],QTd:_["a"],QSelect:B["a"],QPopupEdit:H["a"],QPopupProxy:W["a"],QMenu:$["a"],QFab:q["a"],QFabAction:M["a"],QColor:U["a"],QAjaxBar:N["a"],QSpinner:z["a"],QSpinnerGears:G["a"],QSpinnerAudio:J["a"],QTree:Y["a"],QTooltip:K["a"],QDialog:X["a"],QToggle:Z["a"],QRadio:ee["a"],QDate:ne["a"],QTime:te["a"],QExpansionItem:re["a"],QChip:oe["a"],QBtnToggle:ae["a"],QCard:se["a"],QCardSection:ue["a"],QCardActions:ie["a"]},directives:{Ripple:ce["a"],CloseMenu:le["a"],CloseDialog:fe["a"],ClosePopup:de["a"]},plugins:{Notify:pe["a"],Dialog:me["a"],LocalStorage:he["a"],AppFullscreen:be["a"]}});var ge=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("q-ajax-bar",{attrs:{color:e.isConnected?"primary":"negative"}})],1)},ve=[],Qe=(t("ae66"),t("b506")),ke=t.n(Qe),Ce=t("9ce4"),Ie={name:"App",data:function(){return{dark:!1}},methods:{},computed:ke()({},Object(Ce["c"])("sockets",["isConnected"])),created:function(){var e=this;this.$store.dispatch("user/tryAutoLogin").then(function(n){!0===n||e.$router.replace("/login")})}},Ae=Ie,we=t("2be6"),xe=Object(we["a"])(Ae,ge,ve,!1,null,null,null),Le=xe.exports,ye=t("452d"),Pe=t("5f2b"),Se={path:"admin",component:function(){return t.e("3bc302e7").then(t.bind(null,"6f3e"))},children:[{path:"active",component:function(){return t.e("0ce46eb2").then(t.bind(null,"282e"))}},{path:"sync",component:function(){return Promise.all([t.e("e48993e0"),t.e("4e4ca25e")]).then(t.bind(null,"8976"))}},{path:"access",component:function(){return Promise.all([t.e("e48993e0"),t.e("299ad7c7")]).then(t.bind(null,"e5bb"))}},{path:"tags",component:function(){return Promise.all([t.e("e48993e0"),t.e("f3e27730")]).then(t.bind(null,"9de1"))}}]},De={path:"transport",component:function(){return t.e("5d435c48").then(t.bind(null,"4ece"))},children:[{path:"",component:function(){return t.e("3fcb4e28").then(t.bind(null,"2c8f"))}},{path:"taxis",component:function(){return Promise.all([t.e("e48993e0"),t.e("756fd300")]).then(t.bind(null,"7697"))}},{path:"sessions",component:function(){return Promise.all([t.e("e48993e0"),t.e("61b755c6")]).then(t.bind(null,"865b"))}}]},Te={path:"students",component:function(){return t.e("bf46edd8").then(t.bind(null,"dce4"))},children:[{path:"profile",component:function(){return t.e("03bc2e52").then(t.bind(null,"bea3"))}},{path:"list",component:function(){return t.e("4f4ea7fb").then(t.bind(null,"9fdc"))}}]},Re={path:"lab",component:function(){return t.e("3a823448").then(t.bind(null,"2698"))},children:[{path:"crud",component:function(){return Promise.all([t.e("e48993e0"),t.e("29682ea0")]).then(t.bind(null,"151f"))}},{path:"sockets",component:function(){return Promise.all([t.e("e48993e0"),t.e("507aaab5")]).then(t.bind(null,"0c4f"))}},{path:"reports",component:function(){return t.e("3a02dbd0").then(t.bind(null,"388f"))}}]},Fe={path:"location",component:function(){return t.e("5fd63a33").then(t.bind(null,"a296"))},children:[{path:"system",component:function(){return Promise.all([t.e("e48993e0"),t.e("d0502b00")]).then(t.bind(null,"ea66"))}}]},Oe=[{path:"/",component:function(){return t.e("ebf8d318").then(t.bind(null,"5b6e"))},children:[{path:"",component:function(){return t.e("04fc34ee").then(t.bind(null,"d9b1"))}},{path:"exams",component:function(){return t.e("2d0e55a3").then(t.bind(null,"93b5"))},children:[{path:"",component:function(){return t.e("2d0d67e1").then(t.bind(null,"737f"))}},{path:"gcse",component:function(){return Promise.all([t.e("15842b68"),t.e("2d237705")]).then(t.bind(null,"fab6"))}},{path:"alevel",component:function(){return Promise.all([t.e("15842b68"),t.e("2d0d5ca9")]).then(t.bind(null,"7093"))}}]},{path:"user",component:function(){return t.e("2d221f88").then(t.bind(null,"cd2c"))}},Se,De,Te,Re,Fe]},{path:"/login",name:"login",component:function(){return t.e("430d35be").then(t.bind(null,"902c"))},children:[{path:"",component:function(){return t.e("48cc6314").then(t.bind(null,"cd02"))}}]},{path:"*",component:function(){return t.e("741b98a7").then(t.bind(null,"2d51"))}}],Ee=Oe;u["a"].use(Pe["a"]);var Ve=new Pe["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Ee}),je=Ve,_e=function(){var e="function"===typeof ye["a"]?Object(ye["a"])({Vue:u["a"]}):ye["a"],n="function"===typeof je?je({Vue:u["a"],store:e}):je;e.$router=n;var t={el:"#q-app",router:n,store:e,render:function(e){return e(Le)}};return{app:t,store:e,router:n}},Be=t("4778"),He=function(e){var n=e.router;e.store,e.Vue;n.beforeEach(function(e,n,t){t()})},We=(t("014e"),t("e9b0"),function(e){e.app,e.router,e.Vue}),$e=t("5871"),qe=t.n($e),Me=function(e){e.app,e.router;var n=e.Vue;n.use(qe.a)},Ue=t("fa94"),Ne=t.n(Ue),ze=function(e){var n=e.Vue;n.use(Ne.a)},Ge=_e(),Je=Ge.app,Ye=Ge.store,Ke=Ge.router;function Xe(){return Ze.apply(this,arguments)}function Ze(){return Ze=s()(o.a.mark(function e(){var n,t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=[Be["b"],He,We,Me,ze],t=0;case 2:if(!(t<n.length)){e.next=20;break}if("function"===typeof n[t]){e.next=5;break}return e.abrupt("continue",17);case 5:return e.prev=5,e.next=8,n[t]({app:Je,router:Ke,store:Ye,Vue:u["a"],ssrContext:null});case 8:e.next=17;break;case 10:if(e.prev=10,e.t0=e["catch"](5),!e.t0||!e.t0.url){e.next=15;break}return window.location.href=e.t0.url,e.abrupt("return");case 15:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 17:t++,e.next=2;break;case 20:new u["a"](Je);case 21:case"end":return e.stop()}},e,null,[[5,10]])})),Ze.apply(this,arguments)}Xe()},"9f83":function(e,n,t){},a8b2:function(e,n){},bf1d:function(e,n){},f1a8:function(e,n){},fe3b:function(e,n){}},[[0,"runtime","vendor"]]]);