(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"009dd":function(e,t,s){"use strict";var a=s("7218"),r=s.n(a);r.a},"0d69":function(e,t,s){"use strict";var a=s("aa77"),r=s.n(a);r.a},"0f60":function(e,t,s){"use strict";var a=s("f804"),r=s.n(a);r.a},"4dca":function(e,t,s){},6959:function(e,t,s){},7218:function(e,t,s){},"728a":function(e,t,s){},7824:function(e,t,s){},"7dd0":function(e,t,s){"use strict";var a=s("7824"),r=s.n(a);r.a},"859d":function(e,t,s){"use strict";var a=s("4dca"),r=s.n(a);r.a},"8b79":function(e,t,s){"use strict";var a=s("dd1e"),r=s.n(a);r.a},"8f7f":function(e,t,s){"use strict";var a=s("6959"),r=s.n(a);r.a},"9c50":function(e,t,s){},"9d00":function(e,t,s){},a4c7:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.error?s("h1",[e._v("Oh dear :(")]):e._e(),e.nullResult?s("h1",{staticClass:"q-ma-lg"},[e._v("No Results")]):e._e(),e.nullResult?s("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-retweet-alt"},on:{click:e.refreshSession}}):e._e(),e.isWorking||e.isError||e.showConsole?s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-btn",{staticClass:"q-mt-md float-right no-shadow",attrs:{"text-color":"font",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})],1)]),s("console-component",{staticStyle:{"min-height":"400px"}})],1):e._e(),e.isWorking||e.isError||e.showConsole||e.nullResult?e._e():s("toolbar-page",{attrs:{elements:e.elements,default:"overview"},on:{spreadsheetDetailed:e.clickSpreadsheetDetailed,spreadsheetSSS:e.clickSpreadsheetSSS,spreadsheetResults:e.clickSpreadsheetResults,spreadsheetHouseCandidates:e.clickSpreadsheetHouseCandidates,spreadsheetSubjectCandidates:e.clickSpreadsheetSubjectCandidates},scopedSlots:e._u([{key:"side",fn:function(){return[s("h1",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.timestamp))]),s("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-retweet-alt"},on:{click:e.refreshSession}}),s("q-btn",{staticClass:"no-shadow",attrs:{unelevated:"",size:"sm",icon:"fal fa-terminal"},on:{click:function(t){e.showConsole=!e.showConsole}}})]},proxy:!0}],null,!1,1849852890)})],1)},r=[],l=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("8e9e")),i=s.n(l),o=s("9ce4"),n=s("08e9"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-px-md q-mb-sm text-white"},[s("q-btn-toggle",{attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"AS Level",value:"ASB"},{label:"Pre U",value:"FC"},{label:"EPQ",value:"B"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"All",value:"all"},{label:"U6",value:13},{label:"L6",value:12},{label:"Other",value:"other"}]},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.filteredData,columns:e.columns,search:"",filterchips:"",download:""}})],1)},c=[],u=s("d612");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={name:"ResultsDataTable",data(){return{level:"all",year:"all",columns:[{name:"id",label:"id",field:"id"},{name:"schoolId",label:"School Id",field:"txtSchoolID"},{name:"surname",required:!0,label:"Surname",field:"txtSurname",sortable:!0},{name:"forename",label:"Forename",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"boarding",label:"House",field:"txtHouseCode",sortable:!0,type:"string",filter:!0,options:[]},{name:"exam",label:"Quali",field:"txtQualification",sortable:!0},{name:"Subject Code",label:"Code",field:"subjectCode",type:"string",sortable:!0,editable:!0,filter:!0,options:[]},{name:"grade",label:"Grade",field:"grade",sortable:!0,type:"string",filter:!0,options:[]},{name:"examTitle",label:"Exam",field:"txtOptionTitle"}],data:[]}},methods:{setData(e){this.data=this.resultsALevel,this.columns.find(e=>"subjectCode"===e.field).options=this.$parseOptions(this.data,"subjectCode"),this.columns.find(e=>"txtHouseCode"===e.field).options=this.$parseOptions(this.data,"txtHouseCode"),this.columns.find(e=>"grade"===e.field).options=this.$parseOptions(this.data,"grade")}},computed:p(p({},Object(o["c"])("exams",["resultsALevel"])),{},{tableClass(){if(this.dark)return"bg-black"},filteredData(){var e="all"===this.level?this.data:this.data.filter(e=>e.txtLevel===this.level);return"other"===this.year?e.filter(e=>e.NCYear<12):"all"===this.year?e:e.filter(e=>e.NCYear===this.year)}}),components:{Crud:u["a"]},created(){this.setData(),this.$store.watch(()=>this.$store.getters["exams/resultsGCSE"],this.setData)}},m=b,v=(s("fbc5"),s("2be6")),f=s("6dd6"),g=s("18f0"),C=s("bc74"),y=s("e279"),w=s.n(y),P=Object(v["a"])(m,d,c,!1,null,"7c2f7c26",null),A=P.exports;w()(P,"components",{QBtnToggle:f["a"],QTable:g["a"],QInput:C["a"]});var S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-pa-md text-white"},[s("q-btn-toggle",{attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"Grade",value:"grade"},{label:"Surplus",value:"surplus"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.currentData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtInitialedName",sortBy:"txtInitialedName",sidebarComponents:e.sidebarComponents,download:""}})],1)},D=[],O=(s("009d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row"},[s("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtInitialedName))]),s("h5",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.txtSchoolID))]),s("div",{staticClass:"full-width"},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Subject")]),s("th",{staticClass:"text-left"},[e._v("Grade")]),s("th",{staticClass:"text-left"},[e._v("Surplus")])])]),s("tbody",e._l(e.selectedRow.results,(function(t){return s("tr",{key:t.subjectCode},[s("td",{staticClass:"text-left"},[e._v(e._s(t.txtSubjectName))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.surplus))])])})),0)])],1)]):e._e()}),j=[],x={name:"ExamsALevelSubjectsModules",data(){return{dark:!0}},methods:{},computed:{},components:{},created(){},props:{selectedRow:{required:!0}}},k=x,R=(s("009dd"),s("2e0b")),_=Object(v["a"])(k,O,j,!1,null,"6353a61c",null),M=_.exports;function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}w()(_,"components",{QMarkupTable:R["a"]});var U={name:"StudentResultsDataTable",data(){return{data:[],type:"grade",sidebarComponents:[{title:"Overview",name:"sidebar",component:M}]}},computed:L(L({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns(){for(var e=[{name:"txtInitialedName",required:!0,label:"Name",align:"left",field:"txtInitialedName",sortable:!0,sticky:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"year",label:"Yr",field:"NCYear",sortable:!0},{name:"house",label:"Hs",field:"txtHouseCode",sortable:!0},{name:"uca",label:"UCA",field:"ucasAverage",sortable:!0}],t=this.currentStats.subjectKeys,s=0,a=Object.keys(t);s<a.length;s++){var r=a[s];this.currentData.filter(e=>e[r])&&e.push({name:r,label:r,field:r,sortable:!0})}return e},currentStats(){return this.statisticsALevel.data},currentData(){return"grade"===this.type?Object.values(this.currentStats.allStudents).filter(e=>e.NCYear>12):Object.values(this.currentStats.allStudents).map(e=>{var t={};t.txtInitialedName=e.txtInitialedName,t.txtGender=e.txtGender,t.NCYear=e.NCYear,t.ucasAverage=e.ucasAverage,t.txtHouseCode=e.$txtHouseCode;for(var s=this.currentStats.subjectKeys,a=0,r=Object.keys(s);a<r.length;a++){var l=r[a];e.subjects[l]&&(t[l]=e.subjects[l].surplus)}return t})}}),methods:{setData(){this.data=Object.values(this.currentStats.allStudents)}},components:{Crud:u["a"]},created(){this.setData(),this.$store.watch(()=>this.$store.getters["exams/resultsALevel"],this.setData)}},N=U,q=(s("8f7f"),Object(v["a"])(N,S,D,!1,null,"6fdadbec",null)),B=q.exports;w()(q,"components",{QBtnToggle:f["a"],QTable:g["a"]});var $=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-pa-md text-white"},[s("q-btn-toggle",{attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"},{label:"AS",value:"AS"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",sidebarComponents:e.sidebarComponents,rowKey:"subjectName",sortBy:"subjectName",download:""}}),"P"===e.type?s("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?s("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?s("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?s("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},F=[],G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.subjectName:""))]),s("div",{staticClass:"row"},[s("div",{ref:"chartdiv",staticClass:"col"})]),s("div",{staticClass:"row"},[s("div",{ref:"sssdiv",staticClass:"col"})]),"PreU"!==e.type?s("div",{staticClass:"row q-mb-lg"},[s("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?s("div",{staticClass:"row"},[s("div",{ref:"preuPie",staticClass:"col"})]):e._e(),s("div",{staticClass:"row"},[s("div",{ref:"stacked",staticClass:"col full-width",staticStyle:{"min-height":"300px"}})]),e.selectedRow?s("q-markup-table",{attrs:{flat:"",bordered:"",dark:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Board")]),s("th",{staticClass:"text-left"},[e._v("Candidates")]),s("th",{staticClass:"text-left"},[e._v("Grade Average")])])]),s("tbody",e._l(e.history.slice().reverse(),(function(t){return s("tr",{key:t.year},[s("td",{staticClass:"text-left"},[e._v(e._s(t.year))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.board))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.candidateCount))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.gradeAverage))])])})),0)]):e._e()],1)},T=[],H=(s("c880"),s("915b")),Y=s("3099"),W=s("3903"),I=s("d610");function Q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function X(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var K={name:"ComponentCrudDetails",data(){return{dark:!0,hasMounted:!1}},methods:{createPreUPie(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.createPie(e,this.$refs.preuPie)}},createALevelPie(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.createPie(e,this.$refs.alevelPie)}},createChart1(){var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.history;var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new Y["k"]);s.title.text="Grade Avg.",s.title.fontWeight="bold";var a=e.series.push(new Y["g"]);a.dataFields.valueX="year",a.dataFields.valueY="gradeAverage",a.strokeWidth=3,a.fillOpacity=.2},createPie(e,t){var s=H["c"](t,Y["h"]),a=s.series.push(new Y["i"]);a.dataFields.value="count",a.dataFields.category="grade",s.innerRadius=H["e"](30),a.slices.template.stroke=H["b"]("#fff"),a.slices.template.strokeWidth=2,a.slices.template.strokeOpacity=1,a.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],a.alignLabels=!0,a.labels.template.bent=!0,a.labels.template.radius=3,a.labels.template.padding(0,0,0,0),a.ticks.template.disabled=!0;var r=a.slices.template.filters.push(new H["a"]);r.opacity=0;var l=a.slices.template.states.getKey("hover"),i=l.filters.push(new H["a"]);i.opacity=.7,i.blur=5,s.data=e},createSSSChart(){var e=H["c"](this.$refs.sssdiv,Y["l"]);e.data=this.history,console.log(this.history);var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new Y["k"]);s.title.text="Subject Surplus",s.title.fontWeight="bold";var a=e.series.push(new Y["g"]);a.dataFields.valueX="year",a.dataFields.valueY="surplus",a.strokeWidth=3,a.fillOpacity=.2},createStacked(){var e=H["c"](this.$refs.stacked,Y["l"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,console.log(e.data),e.colors.step=4,e.padding(10,10,10,10),e.legend=new Y["f"];var t=e.xAxes.push(new Y["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new Y["k"]);s.min=0,s.max=100,s.strictMinMax=!0,s.calculateTotals=!0,s.renderer.minWidth=50,"A"===this.type?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1"))},addStackSeries(e,t){var s=e.series.push(new Y["c"]);s.columns.template.width=H["e"](80),s.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",s.name=t,s.dataFields.categoryX="year",s.dataFields.valueY=t,s.dataFields.valueYShow="totalPercent",s.dataItems.template.locations.categoryX=.5,s.stacked=!0,s.tooltip.pointerOrientation="vertical"}},watch:{selectedRow(){console.warn("changed");var e=this;setTimeout((function(){e.createStacked(),e.createChart1(),e.createSSSChart(),e.createALevelPie(),e.createPreUPie()}),100)}},computed:X(X({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{gradeHistory(){var e=this.selectedRow.subjectCode,t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,s=t.reverse().map(e=>({year:e.year,"A*":e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}));return s},history(){var e=this.selectedRow.subjectCode;console.warn(this.selectedRow.level);var t=this.statisticsALevel.data.subjectResults[this.selectedRow.level][e].summaryData.history,s=t.map(e=>({year:e.year,gradeAverage:e.gradeAverage,board:e.board,candidateCount:e.candidateCount,surplus:e.surplus}));return s},type(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created(){},mounted(){},props:{selectedRow:{required:!0}}},z=K,J=(s("8b79"),Object(v["a"])(z,G,T,!1,null,"66c773eb",null)),V=J.exports;w()(J,"components",{QMarkupTable:R["a"]});var Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row"},[s("h1",{staticClass:"row full-width"},[e._v(e._s(e.selectedRow.subjectName))]),s("div",{staticClass:"full-width"},[s("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:"FINAL RESULTS"}},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Name")]),s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Grade")])])]),s("tbody",e._l(e.selectedRow.results,(function(t){return s("tr",{key:t.txtInitialedName},[s("td",{staticClass:"text-left"},[e._v(e._s(t.txtInitialedName))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.NCYear))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))])])})),0)])],1)],1),e.selectedRow.modules.length>0?s("h1",{staticClass:"row full-width"},[e._v("Modules")]):e._e(),e._l(e.selectedRow.modules,(function(t){return s("div",{key:t.moduleCode,staticClass:"full-width"},[s("q-expansion-item",{attrs:{dark:"","expand-separator":"",label:t.title,caption:t.moduleCode}},[s("q-markup-table",{staticClass:"col row",attrs:{flat:"",bordered:"",dark:"",dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Name")]),s("th",{staticClass:"text-left"},[e._v("Year")]),s("th",{staticClass:"text-left"},[e._v("Mark")]),s("th",{staticClass:"text-left"},[e._v("Grade")])])]),s("tbody",e._l(t.results,(function(a){return s("tr",{key:a.txtInitialedName},[s("td",{staticClass:"text-left"},[e._v(e._s(a.txtInitialedName))]),s("td",{staticClass:"text-left"},[e._v(e._s(a.NCYear))]),s("td",{staticClass:"text-left"},[e._v(e._s(parseInt(a.mark))+" / "+e._s(t.total))]),s("td",{staticClass:"text-left"},[e._v(e._s(a.grade))])])})),0)])],1)],1)}))],2):e._e()},ee=[],te={name:"ExamsALevelSubjectsModules",data(){return{dark:!0}},methods:{},computed:{},components:{},created(){},props:{selectedRow:{required:!0}}},se=te,ae=(s("7dd0"),s("0f3b")),re=Object(v["a"])(se,Z,ee,!1,null,"f3c39df6",null),le=re.exports;function ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function oe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ie(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}w()(re,"components",{QExpansionItem:ae["a"],QMarkupTable:R["a"]});var ne={name:"SubjectResultsDataTable",data(){return{type:"A",data:[],sidebarComponents:[{title:"Overview",name:"sidebar",component:V},{title:"Results",name:"modules",component:le}]}},computed:oe(oe({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns(){var e=[];return e="A"===this.type||"AS"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"Astar",label:"%A*",field:"%Astar",sortable:!0},{name:"As",label:"%A*A",field:"%As",sortable:!0},{name:"ABs",label:"%AB",field:"%ABs",sortable:!0},{name:"%pass",label:"% Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:"PreU"===this.type?[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%D",label:"%D",field:"%D",sortable:!0,align:"left"},{name:"%M",label:"%M",field:"%M",sortable:!0,align:"left"},{name:"%P",label:"%P",field:"%P",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}]:[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0,sticky:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Pos",field:"position",sortable:!0},{name:"sss",label:"SSS",field:"surplus",sortable:!0},{name:"level",label:"Level",field:"level",sortable:!0},{name:"u",label:"Fails",field:"fails",sortable:!0},{name:"candidates",label:"#",field:"candidates",sortable:!0},{name:"%pass",label:"%Pass ",field:"passRate",sortable:!0,align:"left"},{name:"gradeAverage",label:"GA.",field:"gradeAvg",sortable:!0},{name:"ucasAverage",label:"UCAS Avg.",field:"ucasAvg",sortable:!0}],e},mappedData(){if("A"===this.type||"AS"===this.type){var e=Object.values(this.data[this.type]).filter(e=>e.results.length>0);return e.map(e=>({subjectName:e.subjectName,subjectCode:e.subjectCode,boardName:e.boardName,position:e.position,surplus:e.surplus,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ucasAvg:e.summaryData.ucasAverage,"%Astar":e.summaryData["%Astar"],"%As":e.summaryData["%As"],"%ABs":e.summaryData["%ABs"],passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],type:this.type,modules:e.modules,results:e.results,level:e.level}))}if("PreU"===this.type){var t=Object.values(this.data[this.type]).filter(e=>e.results.length>0);return t.map(e=>({subjectName:e.subjectName,subjectCode:e.subjectCode,boardName:e.boardName,position:e.position,surplus:e.surplus,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ucasAvg:e.summaryData.ucasAverage,passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],"%D":e.summaryData["%D"],"%M":e.summaryData["%M"],"%P":e.summaryData["%P"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"],U:e.gradeCounts["U"],type:this.type,modules:e.modules,results:e.results,level:e.level}))}var s=Object.values(this.data).filter(e=>("PreU"===e.level||"A"===e.level)&&e.results.length>0);return s.map(e=>({subjectName:e.subjectName,subjectCode:e.subjectCode,boardName:e.boardName,position:e.position,candidates:e.summaryData["candidateCount"],gradeAvg:e.summaryData["gradeAverage"],ucasAvg:e.summaryData.ucasAverage,passes:e.passes,fails:e.fails,passRate:e.summaryData["%passRate"],type:e.level,modules:e.modules,results:e.results,level:e.level,Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"]}))},currentStats(){return this.statisticsALevel.data}}),methods:{setData(){this.data=this.currentStats.subjectResults,console.warn(this.data)}},components:{Crud:u["a"]},created(){this.setData(),this.$store.watch(()=>this.$store.getters["exams/resultsALevel"],this.setData)}},de=ne,ce=(s("0d69"),Object(v["a"])(de,$,F,!1,null,"01785c9a",null)),ue=ce.exports;w()(ce,"components",{QBtnToggle:f["a"],QTable:g["a"],QInput:C["a"]});var he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"q-px-md q-mb-sm text-white"},[s("q-btn-toggle",{attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"ALL",value:"all"},{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"All",value:"all"},{label:"New L6",value:"NL6"},{label:"Shell Joiners",value:"LS"}]},model:{value:e.joined,callback:function(t){e.joined=t},expression:"joined"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"}]},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),s("crud",{ref:"crud",attrs:{dataOverride:e.mappedData,columns:e.columns,search:"",filterchips:"",fullscreen:"",rowKey:"txtHouseCode",sidebarComponents:e.sidebarComponents,download:""}}),"P"===e.type?s("p",[e._v("For Grade Average D1=12; D2=12; D3=11; M1=9; M2=8; M3=7; P1=5; P2=4; P3=3")]):e._e(),"P"===e.type?s("p",[e._v("For new UCAS tariff D1=56; D2=56; D3=52; M1=44; M2=40; M3=36; P1=28; P2=24; P3=20")]):e._e(),"A"===e.type?s("p",[e._v("For Grade Average A*=12, A=10, B=8, C=6, D=4, E=2")]):e._e(),"A"===e.type?s("p",[e._v("For new UCAS tariff A*=56, A=48, B=40, C=32, D=24, E=16")]):e._e()],1)},pe=[],be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("h1",{staticClass:"row"},[e._v(e._s(e.selectedRow?e.selectedRow.txtHouseCode:""))]),s("div",{staticClass:"row"},[s("div",{ref:"chartdiv",staticClass:"col"})]),"PreU"!==e.type?s("div",{staticClass:"row q-mb-lg"},[s("div",{ref:"alevelPie",staticClass:"col"})]):e._e(),"A"!==e.type?s("div",{staticClass:"row"},[s("div",{ref:"preuPie",staticClass:"col"})]):e._e()])},me=[];function ve(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function fe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ve(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var ge={name:"ComponentCrudDetails",data(){return{dark:!0,hasMounted:!1,lineChart:null,alevelPie:null,preuPie:null}},methods:{createPreUPie(){if("A"!==this.selectedRow.type){var e=[];this.selectedRow["D1"]>0&&e.push({grade:"D1",count:this.selectedRow["D1"]}),this.selectedRow["D2"]>0&&e.push({grade:"D2",count:this.selectedRow["D2"]}),this.selectedRow["D3"]>0&&e.push({grade:"D3",count:this.selectedRow["D3"]}),this.selectedRow["M1"]>0&&e.push({grade:"M1",count:this.selectedRow["M1"]}),this.selectedRow["M2"]>0&&e.push({grade:"M2",count:this.selectedRow["M2"]}),this.selectedRow["M3"]>0&&e.push({grade:"M3",count:this.selectedRow["M3"]}),this.selectedRow["P1"]>0&&e.push({grade:"P1",count:this.selectedRow["P1"]}),this.selectedRow["P2"]>0&&e.push({grade:"P2",count:this.selectedRow["P2"]}),this.selectedRow["P3"]>0&&e.push({grade:"P3",count:this.selectedRow["P3"]}),this.selectedRow["PU"]>0&&e.push({grade:"U",count:this.selectedRow["PU"]}),this.preuPie&&this.preuPie.dispose(),this.preuPie=H["c"](this.$refs.preuPie,Y["h"]),this.createPie(e,this.$refs.preuPie,this.preuPie)}},createALevelPie(){if("PreU"!==this.selectedRow.type){var e=[];this.selectedRow["Astar"]>0&&e.push({grade:"A*",count:this.selectedRow["Astar"]}),this.selectedRow["A"]>0&&e.push({grade:"A",count:this.selectedRow["A"]}),this.selectedRow["B"]>0&&e.push({grade:"B",count:this.selectedRow["B"]}),this.selectedRow["C"]>0&&e.push({grade:"C",count:this.selectedRow["C"]}),this.selectedRow["D"]>0&&e.push({grade:"D",count:this.selectedRow["D"]}),this.selectedRow["E"]>0&&e.push({grade:"E",count:this.selectedRow["E"]}),this.selectedRow["U"]>0&&e.push({grade:"U",count:this.selectedRow["U"]}),this.alevelPie&&this.alevelPie.dispose(),this.alevelPie=H["c"](this.$refs.alevelPie,Y["h"]),this.createPie(e,this.$refs.alevelPie,this.alevelPie)}},createChart1(){this.lineChart&&this.lineChart.dispose(),this.lineChart=H["c"](this.$refs.chartdiv,Y["l"]),this.lineChart.data=this.history;var e=this.lineChart.xAxes.push(new Y["k"]);e.title.text="Year",e.title.fontWeight="bold",e.strictMinMax=!0,e.renderer.minGridDistance=50;var t=this.lineChart.yAxes.push(new Y["k"]);t.title.text="Grade Avg.",t.title.fontWeight="bold";var s=this.lineChart.series.push(new Y["g"]);s.dataFields.valueX="year",s.dataFields.valueY="gradeAverage",s.strokeWidth=3,s.fillOpacity=.2},createPie(e,t,s){var a=s.series.push(new Y["i"]);a.dataFields.value="count",a.dataFields.category="grade",s.innerRadius=H["e"](30),a.slices.template.stroke=H["b"]("#fff"),a.slices.template.strokeWidth=2,a.slices.template.strokeOpacity=1,a.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],a.alignLabels=!0,a.labels.template.bent=!0,a.labels.template.radius=3,a.labels.template.padding(0,0,0,0),a.ticks.template.disabled=!0;var r=a.slices.template.filters.push(new H["a"]);r.opacity=0;var l=a.slices.template.states.getKey("hover"),i=l.filters.push(new H["a"]);i.opacity=.7,i.blur=5,s.data=e}},watch:{selectedRow(){this.createChart1(),this.createALevelPie(),this.createPreUPie()}},computed:fe(fe({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{history(){var e=this.selectedRow.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,s=this.selectedRow,a=t.map(e=>({year:e.year,gradeAverage:e.data[s.type][s.joined][s.gender].pointsAvg}));return console.log(a),a},type(){return this.selectedRow?"A"===this.selectedRow.type?"A":"PreU"===this.selectedRow.type?"PreU":"all":null}}),components:{},created(){},mounted(){},props:{selectedRow:{required:!0}}},Ce=ge,ye=(s("efcf"),Object(v["a"])(Ce,be,me,!1,null,"7a77d362",null)),we=ye.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col"})},Ae=[];function Se(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function De(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Se(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var Oe={name:"ComponentExamsGASpark",props:{row:{required:!0}},data(){return{}},methods:{createChart(){var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.history,e.autoMargins=!1,e.marginLeft=0,e.marginRight=0,e.marginTop=0,e.marginBottom=0,e.cursor=new Y["m"],e.cursor.lineY.disabled=!0,e.cursor.behavior="none",e.width=H["e"](45),e.height=20;var t=e.xAxes.push(new Y["k"]);t.gridAlpha=0,t.axisAlpha=0,t.renderer.grid.template.disabled=!0,t.renderer.baseGrid.disabled=!0,t.renderer.labels.template.disabled=!0,t.cursorTooltipEnabled=!1;var s=e.yAxes.push(new Y["k"]);s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1;var a=e.series.push(new Y["g"]);a.dataFields.valueX="year",a.dataFields.valueY="gradeAverage",a.strokeWidth=3,a.fillOpacity=.2}},computed:De(De({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{history(){var e=this.row.txtHouseCode,t=this.statisticsALevel.data.houseResults[e].summaryData.history,s=this.row,a=t.map(e=>({year:e.year,gradeAverage:e.data[s.type][s.joined][s.gender].pointsAvg}));return a}}),components:{},created(){},mounted(){}},je=Oe,xe=(s("fdd8"),Object(v["a"])(je,Pe,Ae,!1,null,"6444bd78",null)),ke=xe.exports;function Re(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function _e(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Re(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Me={name:"SubjectResultsDataTable",data(){return{data:[],type:"all",joined:"all",gender:"all",sidebarComponents:[{title:"Overview",name:"sidebar",component:we}]}},computed:_e(_e({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{columns(){var e=[];return e="A"===this.type?[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:ke},{name:"astar",label:"A*",field:"Astar",sortable:!0},{name:"a",label:"A",field:"A",sortable:!0},{name:"b",label:"B",field:"B",sortable:!0},{name:"c",label:"C",field:"C",sortable:!0},{name:"d",label:"D",field:"D",sortable:!0},{name:"e",label:"E",field:"E",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}]:[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0,slotRight:ke},{name:"d1",label:"D1",field:"D1",sortable:!0},{name:"d2",label:"D2",field:"D2",sortable:!0},{name:"d3",label:"D3",field:"D3",sortable:!0},{name:"m1",label:"M1",field:"M1",sortable:!0},{name:"m2",label:"M2",field:"M2",sortable:!0},{name:"m3",label:"M3",field:"M3",sortable:!0},{name:"p1",label:"P1",field:"P1",sortable:!0},{name:"p2",label:"P2",field:"P2",sortable:!0},{name:"p3",label:"P3",field:"P3",sortable:!0},{name:"u",label:"U",field:"U",sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}],e},mappedData(){var e=[];if("A"===this.type){var t=this.data.filter(e=>e.data[this.type][this.joined][this.gender].pointsAvg>0);return t.map(t=>(e=t.data[this.type][this.joined][this.gender],e.pointsAvg,{txtHouseCode:t.txtHouseCode,position:e.position,gradeAverage:e.pointsAvg,passes:e.passes,fails:e.fails,Astar:e.gradeCounts["A*"],A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],U:e.gradeCounts["U"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"],type:this.type,joined:this.joined,gender:this.gender}))}var s=this.data.filter(e=>e.data[this.type][this.joined][this.gender].pointsAvg>0);return s.map(t=>(e=t.data[this.type][this.joined][this.gender],{txtHouseCode:t.txtHouseCode,position:e.position,gradeAverage:e.pointsAvg,passes:e.passes,fails:e.fails,A:e.gradeCounts["A"],B:e.gradeCounts["B"],C:e.gradeCounts["C"],D:e.gradeCounts["D"],E:e.gradeCounts["E"],D1:e.gradeCounts["D1"],D2:e.gradeCounts["D2"],D3:e.gradeCounts["D3"],M1:e.gradeCounts["M1"],M2:e.gradeCounts["M2"],M3:e.gradeCounts["M3"],P1:e.gradeCounts["P1"],P2:e.gradeCounts["P2"],P3:e.gradeCounts["P3"],U:e.gradeCounts["PU"],type:this.type,joined:this.joined,gender:this.gender}))},currentStats(){return this.statisticsALevel.data}}),methods:{setData(){this.data=Object.values(this.currentStats.houseResults),console.log(this.data)}},components:{Crud:u["a"]},created(){this.setData(),this.$store.watch(()=>this.$store.getters["exams/resultsALevel"],this.setData)}},Ee=Me,Le=(s("859d"),Object(v["a"])(Ee,he,pe,!1,null,"e394333e",null)),Ue=Le.exports;w()(Le,"components",{QBtnToggle:f["a"],QTable:g["a"],QInput:C["a"]});var Ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"row text-white"},[s("h1",[e._v("Historical Grade Average")]),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{densex:"","toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"All",value:"all"},{label:"Girls",value:"girls"},{label:"Boys",value:"boys"},{label:"New L6",value:"new"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"Grade Total",value:""},{label:"UCAS Total",value:"Ucas"},{label:"Per Exam",value:"PerExam"}]},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("div",{ref:"chartdiv",staticClass:"row",staticStyle:{"min-height":"300px"}}),s("br"),s("div",{staticClass:"row text-white"},[s("h1",[e._v("Historical Grade Proportions")]),s("q-btn-toggle",{staticClass:"q-ml-xl",attrs:{"toggle-color":"positive",color:"font-secondary",outline:"",options:[{label:"A Level",value:"A"},{label:"Pre U",value:"PreU"}]},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),s("div",{ref:"stacked",staticClass:"row",staticStyle:{"min-height":"300px"}}),s("h1",[e._v("Total Grade Points")]),s("div",{ref:"treemap",staticClass:"row full-width",staticStyle:{"min-height":"300px"},attrs:{id:"treemap"}}),s("div",{ref:"chord",staticClass:"row full-width",staticStyle:{"min-height":"1000px"}})]),s("div",{staticClass:"col"},[s("div",{ref:"alevelPie",staticClass:"row q-ma-lg",attrs:{id:"apie"}}),s("br"),s("div",{ref:"preuPie",staticClass:"row q-ma-lg",attrs:{id:"upie"}}),e.loaded?s("q-markup-table",{staticClass:"col row text-font",attrs:{flat:"",bordered:"",dense:""}},[s("thead",[s("tr",{staticClass:"text-font"},[s("th",{staticClass:"text-left"},[e._v("Grade")]),s("th",{staticClass:"text-left"},[e._v("Boys")]),s("th",{staticClass:"text-left"},[e._v("Girls")])])]),s("tbody",e._l(e.gradeCounts,(function(t){return s("tr",{key:t.grade,staticClass:"text-font"},[s("td",{staticClass:"text-left"},[e._v(e._s(t.grade))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.boys))]),s("td",{staticClass:"text-left"},[e._v(e._s(t.girls))])])})),0)]):e._e()],1)])])},qe=[];s("cd05");function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function $e(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}H["f"](I["a"]),H["f"](W["a"]);var Fe={name:"ExamsAlevelSummary",data(){return{dark:!0,hasMounted:!1,type:"all",level:"A",map:"points",stacked:null,alevelPie:null,preuPie:null,linechart:null,treemap:null,chord:null,scope:"PerExam",loaded:!1}},methods:{createPreUPie(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type];console.log(e);var t=[];e["D1"]>0&&t.push({grade:"D1",count:e["D1"]}),e["D2"]>0&&t.push({grade:"D2",count:e["D2"]}),e["D3"]>0&&t.push({grade:"D3",count:e["D3"]}),e["M1"]>0&&t.push({grade:"M1",count:e["M1"]}),e["M2"]>0&&t.push({grade:"M2",count:e["M2"]}),e["M3"]>0&&t.push({grade:"M3",count:e["M3"]}),e["P1"]>0&&t.push({grade:"P1",count:e["P1"]}),e["P2"]>0&&t.push({grade:"P2",count:e["P2"]}),e["P3"]>0&&t.push({grade:"P3",count:e["P3"]}),e["PU"]>0&&t.push({grade:"U",count:e["PU"]}),this.preuPie=H["c"](this.$refs.preuPie,Y["h"]),this.createPie(t,this.preuPie)},createALevelPie(){var e=this.statisticsALevel.data.averages.gradeCounts[this.type],t=[];console.log(e),e["A*"]>0&&t.push({grade:"A*",count:e["A*"]}),e["A"]>0&&t.push({grade:"A",count:e["A"]}),e["B"]>0&&t.push({grade:"B",count:e["B"]}),e["C"]>0&&t.push({grade:"C",count:e["C"]}),e["D"]>0&&t.push({grade:"D",count:e["D"]}),e["E"]>0&&t.push({grade:"E",count:e["E"]}),e["U"]>0&&t.push({grade:"U",count:e["U"]}),this.alevelPie=H["c"](this.$refs.alevelPie,Y["h"]),this.createPie(t,this.alevelPie)},createChart1(){this.linechart&&this.linechart.dispose();var e=H["c"](this.$refs.chartdiv,Y["l"]);e.data=this.statisticsALevel.data.history;var t=e.xAxes.push(new Y["k"]);t.title.text="Year",t.title.fontWeight="bold",t.strictMinMax=!0;var s=e.yAxes.push(new Y["k"]);s.title.text="Grade Avg.",s.title.fontWeight="bold";var a=e.series.push(new Y["g"]);a.dataFields.valueX="year",a.dataFields.valueY=this.type+"Avg"+this.scope,a.strokeWidth=3,a.fillOpacity=.2,a.tooltipText="{value}",a.tooltip.pointerOrientation="vertical",this.linechart=e},createPie(e,t){var s=t.series.push(new Y["i"]);s.dataFields.value="count",s.dataFields.category="grade",t.innerRadius=H["e"](30),s.slices.template.stroke=H["b"]("#fff"),s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1,s.slices.template.cursorOverStyle=[{property:"cursor",value:"pointer"}],s.alignLabels=!0,s.labels.template.bent=!0,s.labels.template.radius=3,s.labels.template.padding(0,0,0,0),s.ticks.template.disabled=!0;var a=s.slices.template.filters.push(new H["a"]);a.opacity=0;var r=s.slices.template.states.getKey("hover"),l=r.filters.push(new H["a"]);l.opacity=.7,l.blur=5,t.data=e},createStacked(){this.stacked&&this.stacked.dispose();var e=H["c"](this.$refs.stacked,Y["l"]);e.hiddenState.properties.opacity=0,e.data=this.gradeHistory,e.colors.step=4,e.padding(10,10,10,10),e.legend=new Y["f"];var t=e.xAxes.push(new Y["a"]);t.dataFields.category="year",t.renderer.grid.template.location=0,t.renderer.minGridDistance=50;var s=e.yAxes.push(new Y["k"]);s.min=0,s.max=100,s.strictMinMax=!0,s.calculateTotals=!0,s.renderer.minWidth=50,"A"===this.level?(this.addStackSeries(e,"U"),this.addStackSeries(e,"E"),this.addStackSeries(e,"D"),this.addStackSeries(e,"C"),this.addStackSeries(e,"B"),this.addStackSeries(e,"A"),this.addStackSeries(e,"A*")):(this.addStackSeries(e,"U"),this.addStackSeries(e,"P3"),this.addStackSeries(e,"P2"),this.addStackSeries(e,"P1"),this.addStackSeries(e,"M3"),this.addStackSeries(e,"M2"),this.addStackSeries(e,"M1"),this.addStackSeries(e,"D3"),this.addStackSeries(e,"D2"),this.addStackSeries(e,"D1")),this.stacked=e},addStackSeries(e,t){var s=e.series.push(new Y["c"]);s.columns.template.width=H["e"](80),s.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",s.name=t,s.dataFields.categoryX="year",s.dataFields.valueY=t,s.dataFields.valueYShow="totalPercent",s.dataItems.template.locations.categoryX=.5,s.stacked=!0,s.tooltip.pointerOrientation="vertical"},createTreemap(e){this.treemap&&this.treemap.dispose();var t=H["c"](this.$refs.treemap,Y["j"]),s=this.treemapData;t.data=s,t.colors.step=2,t.dataFields.value="value",t.dataFields.name="name",t.dataFields.children="children",t.layoutAlgorithm=t.binaryTree,t.zoomable=!0;var a=t.seriesTemplates.create("0"),r=a.columns.template;r.column.fillOpacity=0,r.column.strokeWidth=4,r.column.strokeOpacity=0;var l=t.seriesTemplates.create("1"),i=l.columns.template;l.tooltip.animationDuration=0,l.tooltip.dy=-15,l.tooltip.pointerOrientation="vertical",l.strokeOpacity=1,i.column.fillOpacity=1,i.column.stroke=H["b"]("#ffffff");var o=l.bullets.push(new Y["e"]);o.locationY=.5,o.locationX=.5,o.label.text="{name}",o.label.fill=H["b"]("#ffffff"),t.maxLevels=2,t.legend=new Y["f"],this.treemap=t,e&&(this.createChart1(),this.createALevelPie(),this.createPreUPie(),this.createStacked(),this.createChord(),this.createTreemap())},createChord(){}},computed:$e($e({},Object(o["c"])("exams",["resultsALevel","statisticsALevel"])),{},{gradeCounts(){return this.statisticsALevel.data.summaryData.gradeCounts},treemapData(){var e=Object.values(this.statisticsALevel.data.subjectResults.A),t=Object.values(this.statisticsALevel.data.subjectResults.PreU),s=Object.values(this.statisticsALevel.data.subjectResults.EPQ),a=[...e,...t,...s],r=[...new Set(a.map(e=>e["boardName"]))],l=r.map(e=>({name:e,children:[]}));return a.forEach(e=>{var t=l.find(t=>t.name===e.boardName);t.children.push({name:e.subjectCode,fullName:e.subjectName,value:e.points})}),l},gradeHistory(){var e=this.statisticsALevel.data.history,t=e.reverse().map(e=>({year:e.year,"A*":e.gradeCounts[this.type]["A*"],A:e.gradeCounts[this.type]["A"],B:e.gradeCounts[this.type]["B"],C:e.gradeCounts[this.type]["C"],D:e.gradeCounts[this.type]["D"],E:e.gradeCounts[this.type]["E"],U:e.gradeCounts[this.type]["U"],D1:e.gradeCounts[this.type]["D1"],D2:e.gradeCounts[this.type]["D2"],D3:e.gradeCounts[this.type]["D3"],M1:e.gradeCounts[this.type]["M1"],M2:e.gradeCounts[this.type]["M2"],M3:e.gradeCounts[this.type]["M3"],P1:e.gradeCounts[this.type]["P1"],P2:e.gradeCounts[this.type]["P2"],P3:e.gradeCounts[this.type]["P3"]}));return t}}),watch:{scope(){this.createChart1()},type(){this.createALevelPie(),this.createPreUPie(),this.createChart1(),this.createStacked()},level(){this.createStacked()}},components:{},created(){console.log(this.statisticsALevel.data)},mounted(){this.hasMounted=!0,this.$q.loading.show();var e=this;setTimeout((function(){e.createTreemap(!0),e.$q.loading.hide(),e.loaded=!0}),500)},beforeDestroy(){this.stacked&&this.stacked.dispose(),this.alevelPie&&this.alevelPie.dispose(),this.preuPie&&this.preuPie.dispose(),this.linechart&&this.linechart.dispose(),this.treemap&&this.treemap.dispose()},props:{}},Ge=Fe,Te=(s("0f60"),Object(v["a"])(Ge,Ne,qe,!1,null,"4a675966",null)),He=Te.exports;w()(Te,"components",{QBtnToggle:f["a"],QMarkupTable:R["a"]});var Ye=s("dd14"),We=s("de53");function Ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function Qe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Xe={name:"PageExamsGCSE",data(){return{error:!1,nullResult:!1,timestamp:"",elements:[{name:"overview",label:"Overview",component:He,shortcut:"t"},{name:"results",label:"Results",component:A,shortcut:"r"},{name:"students",label:"Students",component:B,shortcut:"s"},{name:"subjects",label:"Subjects",component:ue,shortcut:"u"},{name:"houses",label:"Houses",component:Ue,shortcut:"h"},{name:"downloads",label:"",icon:"fal fa-xs fa-download",menu:[{event:"spreadsheetDetailed",label:"Detailed Spreadsheet",icon:"fal fa-info-square"},{event:"spreadsheetResults",label:"Just Results",icon:"fal fa-sort-shapes-up-alt"},{event:"spreadsheetSSS",label:"SSS Spreadsheet",icon:"fal fa-star-half-alt"},{event:"spreadsheetHouseCandidates",label:"House Candidates",icon:"fal fa-home-lg"},{event:"spreadsheetSubjectCandidates",label:"Subject Candidates",icon:"fal fa-graduation-cap"}]}],currentSessionId:"",isWorking:!1,isLoaded:!1,isError:!1,showConsole:!1}},methods:Qe(Qe(Qe({},Object(o["b"])("sockets",["clearConsoleLog"])),Object(o["d"])("exams",["setResultsALevel","setStatisticsALevel"])),{},{refreshSession(){this.error=!1,this.showConsole=!0,!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.$q.loading.show(),We["a"].getSession(this.loadSession,this.loadingError,{level:"alevel",sessionID:this.activeSession}))},loadingError(){this.error=!0,this.$q.loading.hide(),this.isWorking=!1,this.showConsole=!1},setSession(e){!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.currentSessionId=e,this.$q.loading.show(),We["a"].getSessionCache(this.loadSession,null,{level:"alevel",sessionID:e}))},loadSession(e){this.nullResult=0===e.results.length,this.isWorking=!1,this.setResultsALevel(e.results),this.setStatisticsALevel(e.statistics),this.timestamp=e.timestamp,this.showConsole=!1,this.$q.loading.hide()},clickSpreadsheetDetailed(){this.$downloadBlob(this.statisticsALevel.spreadsheet.path,this.statisticsALevel.spreadsheet.filename)},clickSpreadsheetSSS(){this.$downloadBlob(this.statisticsALevel.spreadsheetSSS.path,this.statisticsALevel.spreadsheetSSS.filename)},clickSpreadsheetResults(){this.$downloadBlob(this.statisticsALevel.spreadsheetResults.path,this.statisticsALevel.spreadsheetResults.filename)},clickSpreadsheetHouseCandidates(){this.$downloadBlob(this.statisticsALevel.spreadsheetHouseCandidates.path,this.statisticsALevel.spreadsheetHouseCandidates.filename)},clickSpreadsheetSubjectCandidates(){this.$downloadBlob(this.statisticsALevel.spreadsheetSubjectCandidates.path,this.statisticsALevel.spreadsheetSubjectCandidates.filename)},clickCemSpreadsheet(){this.$downloadBlob(this.statisticsGCSE.spreadsheet.path,this.statisticsGCSE.cemSpreadsheet.filename)}}),computed:Qe({},Object(o["e"])("exams",["activeSession","resultsALevel","statisticsALevel"])),components:{toolbarPage:n["a"],ConsoleComponent:Ye["a"]},watch:{activeSession(e,t){this.setSession(e)}},created(){console.log(this.activeSession),this.activeSession&&this.setSession(this.activeSession)}},Ke=Xe,ze=s("2ef0"),Je=Object(v["a"])(Ke,a,r,!1,null,null,null);t["default"]=Je.exports;w()(Je,"components",{QBtn:ze["a"]})},aa77:function(e,t,s){},dd1e:function(e,t,s){},efcf:function(e,t,s){"use strict";var a=s("728a"),r=s.n(a);r.a},f804:function(e,t,s){},fbc5:function(e,t,s){"use strict";var a=s("9c50"),r=s.n(a);r.a},fdd8:function(e,t,s){"use strict";var a=s("9d00"),r=s.n(a);r.a}}]);