(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3dea":function(e,t,s){"use strict";var a=s("7073"),r=s.n(a);r.a},5370:function(e,t,s){},7073:function(e,t,s){},7116:function(e,t,s){"use strict";var a=s("e7d1"),r=s.n(a);r.a},b1f6:function(e,t,s){"use strict";var a=s("e398"),r=s.n(a);r.a},c7ba:function(e,t,s){"use strict";var a=s("c8fa"),r=s.n(a);r.a},c8fa:function(e,t,s){},d31e:function(e,t,s){"use strict";var a=s("5370"),r=s.n(a);r.a},e398:function(e,t,s){},e7d1:function(e,t,s){},f0d1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("year-bar",{staticClass:"yb-border"}),s("exam-bar"),s("toolbar-page",{attrs:{elements:e.elements,default:"classes"}})],1)},r=[],n=(s("e125"),s("4823"),s("2e73"),s("dde3"),s("76d0"),s("0c1f"),s("8e9e")),o=s.n(n),c=s("9ce4"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{year:"row fitx full-width"}},[s("q-btn-toggle",{attrs:{spread:"","no-caps":"",dense:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:e.yearOptions,year:"full-width"},on:{input:e.change},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)},l=[],u=(s("c880"),s("288e"),s("4778")),d=s("452d"),h={getYears:function(e,t,s){u["a"].get("/hod/years/"+s).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getExams:function(e,t,s,a){u["a"].get("/hod/years/"+s+"/exams/"+a).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getExamClasses:function(e,t){var s=d["a"].getters["user/getGlobalSubject"],a=d["a"].getters["hod/activeYear"],r=d["a"].getters["hod/activeExam"];u["a"].get("/hod/years/"+s.id+"/examclasses/"+a+"/"+r).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))}};function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var g={name:"Component.Home.Years.YearBar",props:{},data:function(){return{years:[],selectedYear:null,subjectId:null}},methods:f({},Object(c["d"])("hod",["setActiveYear"]),{process:function(e){this.years=e,this.selectedYear=this.years[0].id,this.$emit("loaded"),this.change()},change:function(){var e=this,t=this.years.find((function(t){return t.id===e.selectedYear}));this.setActiveYear(t.id),this.$emit("change",t)},setYears:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.subject&&h.getYears(this.process,this.$errorHandler,this.subject.id)}}),computed:{yearOptions:function(){return this.years.map((function(e){return{value:e.id,label:e.name}}))}},components:{},created:function(){var e=this;this.$store.watch((function(){return e.$store.getters["user/getGlobalSubject"]}),this.setYears),this.setYears()}},b=g,p=(s("b1f6"),s("2be6")),O=s("e279"),y=s.n(O),x=s("6dd6"),v=Object(p["a"])(b,i,l,!1,null,"269889c9",null),j=v.exports;y()(v,"components",{QBtnToggle:x["a"]});var w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.exams.length>1?s("div",{staticClass:"q-ma-xs q-ml-md",attrs:{exam:"row fitx full-widthx"}},[s("q-btn-toggle",{attrs:{spreadx:"","no-caps":"",dense:"",flat:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:e.examOptions},on:{input:e.change},model:{value:e.selectedExam,callback:function(t){e.selectedExam=t},expression:"selectedExam"}})],1):e._e()},C=[];function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(Object(s),!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var M={name:"Component.Home.Exams.ExamBar",props:{},data:function(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:E({},Object(c["d"])("hod",["setActiveExam"]),{process:function(e){this.exams=e,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change:function(){var e=this,t=this.exams.find((function(t){return t.id===e.selectedExam}));this.setActiveExam(t.id),this.$emit("change",t)},setExams:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&h.getExams(this.process,this.$errorHandler,this.subject.id,this.year)}}),computed:{examOptions:function(){return this.exams.map((function(e){return{value:e.id,label:e.examName}}))}},components:{},created:function(){var e=this;this.$store.watch((function(){return e.$store.getters["user/getGlobalSubject"]}),this.setExams),this.$store.watch((function(){return e.$store.getters["hod/activeYear"]}),this.setExams),this.setExams()}},Y=M,L=(s("7116"),Object(p["a"])(Y,w,C,!1,null,"e2a6d6ee",null)),P=L.exports;y()(L,"components",{QBtnToggle:x["a"]});var S=s("08e9"),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("crud",{ref:"crud",attrs:{dataOverride:e.students,columns:e.columns,search:"",sortBy:"set"}})],1)},q=[],_=s("7ba1"),G=s("d612"),k={name:"HOD.Data.MLO",props:{},data:function(){return{year:null,exam:null,subject:null,students:[],maxMLOCount:4}},methods:{process:function(e){this.students=e.students,this.maxMLOCount=e.maxMLOCount},getMLO:function(){this.year=this.$store.getters["hod/activeYear"],this.exam=this.$store.getters["hod/activeExam"],_["a"].getYearMLO(this.process,this.$errorFunction,this.year,this.exam)}},computed:{columns:function(){for(var e=[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"Name",label:"Name",field:"displayName",type:"string",align:"left",sortable:!0},{name:"set",label:"Class",field:"classCode",type:"string",align:"left",sortable:!0},{name:"mlo0",label:"MLO",field:"mlo0",type:"number",align:"left",sortable:!0}],t=1;t<this.maxMLOCount;t++){var s=t+1;e.push({name:"mlo"+t,label:"MLO "+s,field:"mlo"+t,type:"number",align:"left",sortable:!0,hidden:!1})}return e}},watch:{},components:{Crud:G["a"]},created:function(){var e=this;this.subject=this.$store.getters["user/getGlobalSubject"],this.getMLO(),this.$store.watch((function(){return e.$store.getters["user/getGlobalSubject"]}),this.getMLO),this.$store.watch((function(){return e.$store.getters["hod/activeYear"]}),this.getMLO),this.$store.watch((function(){return e.$store.getters["hod/activeExam"]}),this.getMLO)}},H=k,I=(s("c7ba"),Object(p["a"])(H,D,q,!1,null,"20990c5e",null)),B=I.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"row no-wrap q-px-xs q-pt-xs text-left"},[s("div",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"}},[s("q-scroll-area",{staticStyle:{height:"80vh"}},[s("q-list",{staticClass:"no-padding"},e._l(e.classes,(function(t){return s("q-item",{key:t.id,staticClass:"q-pa-xs text-white bg-tertiary q-my-xs",class:t.id===e.selectedClassId?"active-class":"",staticStyle:{border:"1px solid grey"},attrs:{clickable:"",group:"classes",dense:""},on:{click:function(s){return e.setClass(t.id)}}},[s("q-item-section",{attrs:{top:""}},[s("q-item-label",{staticClass:"row"},[s("div",{staticClass:"col text-h7 text-boldx text-font q-mt-xs text-center"},[s("span",{staticClass:"q-mr-md"},[e._v(e._s(t.code))])])])],1)],1)})),1)],1)],1),s("div",{staticClass:"col"},[s("crud",{ref:"crud",attrs:{dataOverride:e.students,columns:e.columns,search:"",sortBy:"set"}})],1)]):e._e()},N=[],Q={getYearMetrics:function(e,t,s){var a=d["a"].getters["user/getGlobalSubject"];u["a"].get("/hod/"+a.id+"/metrics/year/"+s).then((function(t){console.log(t.data),e(t.data)})).catch((function(e){console.log(e)}))},getClassMetrics:function(e,t,s){var a=d["a"].getters["user/getGlobalSubject"];u["a"].get("/hod/"+a.id+"/metrics/class/"+s).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getYearMLO:function(e,t,s,a){var r=d["a"].getters["user/getGlobalSubject"];u["a"].get("/hod/"+r.id+"/metrics/year/"+s+"/MLO/"+a).then((function(t){console.log(t.data),e(t.data)})).catch((function(e){console.log(e)}))}},F={name:"HOD.Data.MLO",props:{},data:function(){return{year:null,exam:null,subject:null,students:[],maxMLOCount:4,classes:[],selectedClassId:null,show:!1}},methods:{processMetrics:function(e){this.students=e.students,this.maxMLOCount=e.maxMLOCount},processClasses:function(e){this.classes=e,this.classes.length>0&&(this.show=!0,this.selectedClassId=this.classes[0].id,this.getClassMetrics())},getExamClasses:function(){h.getExamClasses(this.processClasses,this.$errorFunction)},getMLO:function(){this.year=this.$store.getters["hod/activeYear"],this.exam=this.$store.getters["hod/activeExam"],Q.getYearMLO(this.process,this.$errorHandler,this.year,this.exam)},setClass:function(e){this.selectedClassId=e,this.getClassMetrics()},getClassMetrics:function(){Q.getClassMetrics(this.processMetrics,this.$errorHandler,this.selectedClassId)}},computed:{columns:function(){for(var e=[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"Name",label:"Name",field:"displayName",type:"string",align:"left",sortable:!0},{name:"set",label:"Class",field:"classCode",type:"string",align:"left",sortable:!0},{name:"boarding",label:"Boarding",field:"boardingHouse",type:"string",align:"left",sortable:!0},{name:"mlo0",label:"MLO",field:"mlo0",type:"number",align:"left",sortable:!0}],t=1;t<this.maxMLOCount;t++){var s=t+1;e.push({name:"mlo"+t,label:"MLO "+s,field:"mlo"+t,type:"number",align:"left",sortable:!0,hidden:!1})}return e}},watch:{},components:{Crud:G["a"]},created:function(){var e=this;this.subject=this.$store.getters["user/getGlobalSubject"],this.getExamClasses(),this.$store.watch((function(){return e.$store.getters["hod/activeExam"]}),this.getExamClasses)}},J=F,T=(s("3dea"),s("26a8")),z=s("6c93"),K=s("ac9b"),R=s("66dc"),U=s("7d9a"),V=Object(p["a"])(J,A,N,!1,null,"9d3c105a",null),W=V.exports;function X(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function Z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?X(Object(s),!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):X(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}y()(V,"components",{QScrollArea:T["a"],QList:z["a"],QItem:K["a"],QItemSection:R["a"],QItemLabel:U["a"]});var ee={name:"Page.HOD.Metrics",data:function(){return{elements:[{name:"classes",label:"classes",component:W},{name:"mlo",label:"mlo",component:B}]}},methods:Z({},Object(c["d"])("hod",["setActiveYear"])),components:{toolbarPage:S["a"],YearBar:j,ExamBar:P},created:function(){var e=this;this.setActiveYear(13),this.$store.watch((function(){return e.$store.getters["hod/activeYear"]}),this.setClass)}},te=ee,se=(s("d31e"),Object(p["a"])(te,a,r,!1,null,null,null));t["default"]=se.exports}}]);