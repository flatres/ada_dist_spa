(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"0ea6":function(t,s,e){},2725:function(t,s,e){"use strict";var n=e("eedb"),a=e.n(n);a.a},"464e":function(t,s,e){"use strict";var n=e("0ea6"),a=e.n(n);a.a},"6e46":function(t,s,e){"use strict";var n=e("e20f"),a=e.n(n);a.a},8976:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("toolbar-page",{attrs:{elements:t.elements,default:"students"}})},a=[],i=e("08e9"),o=e("6884"),c=e("088f"),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("h1",[t._v("MIS Subjects")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("crud",{ref:"crud",attrs:{dataOverride:t.misSubjects,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent q-ba-sm"},[e("div",{staticClass:"row"},[e("div",{attrs:{clsss:"col flex"}},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# MIS Subjects"},model:{value:t.stats.misSubjectsCount,callback:function(s){t.$set(t.stats,"misSubjectsCount",s)},expression:"stats.misSubjectsCount"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# ADA Subjects"},model:{value:t.stats.adaSubjectsCount,callback:function(s){t.$set(t.stats,"adaSubjectsCount",s)},expression:"stats.adaSubjectsCount"}})],1)]),e("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSubjects}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?e("div",[e("h1",[t._v("Summary")]),e("div",{attrs:{clsss:"row"}},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(s){t.$set(t.results,"new",s)},expression:"results.new"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(s){t.$set(t.results,"updated",s)},expression:"results.updated"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(s){t.$set(t.results,"disabled",s)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},r=[],d=(e("e125"),e("4823"),e("2e73"),e("dde3"),e("76d0"),e("0c1f"),e("8e9e")),u=e.n(d),f=e("9ce4"),m=e("5451"),g=e("d612"),y=e("dd14");function h(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,n)}return e}function p(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?h(Object(e),!0).forEach((function(s){u()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var b={name:"ComponentAdminSyncSubjectsSync",props:{},data:function(){return{id:"0",stats:{misSubjectsCount:0,adaSubjectsCount:0},misSubjectsCount:"",misSubjects:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left"},{name:"name",label:"name",align:"left",field:"name",sortable:!0},{name:"code",label:"Code",align:"left",field:"code",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:p(p({},Object(f["b"])("sockets",["clearConsoleLog"])),{},{showMISSubjects:function(t){this.misSubjects=t.misSubjects,this.stats=t.stats},syncSubjects:function(){this.clearConsoleLog(),this.loading=!0,m["a"].postSyncSubjects(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:p(p({},Object(f["c"])("sockets",["progress"])),{},{syncProgress:function(){return this.progress("Admin/Sync/Subjects")}}),components:{Crud:g["a"],Console:y["a"]},created:function(){m["a"].getMISSubjects(this.showMISSubjects)}},x=b,v=(e("9216"),e("2be6")),C=e("e279"),S=e.n(C),_=e("8c42"),j=e("bc74"),k=e("2ef0"),O=e("d1dc"),q=Object(v["a"])(x,l,r,!1,null,"98febf30",null),w=q.exports;S()(q,"components",{QPage:_["a"],QInput:j["a"],QBtn:k["a"],QSpinnerGears:O["a"]});var E=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("h1",[t._v("Exam Sessions")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-center"},[t._v("Id")]),e("th",{staticClass:"text-center"},[t._v("MIS Id")]),e("th",{staticClass:"text-center"},[t._v("Year")]),e("th",{staticClass:"text-center"},[t._v("Month")]),e("th",{staticClass:"text-center"},[t._v("Active")]),e("th",{staticClass:"text-center"},[t._v("Published")]),e("th",{staticClass:"text-center"},[t._v("Results")]),e("th",{staticClass:"text-center"},[t._v("Sync")])])]),e("tbody",t._l(t.sessions,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.misId))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.year))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.month))]),e("td",{staticClass:"text-center"},[t._v(t._s(1==s.isActive?"1":""))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.isPublished))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.resultsCount))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isExamLoading(s.id),percentage:100*t.syncExamsProgress,disabled:t.isExamDisabled(s.id),outline:"",dense:"",size:"xs",color:"accent","icon-right":"fal fa-sync fa-xs"},on:{click:function(e){return t.syncExams(s.id)}}})],1)])})),0)])],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent qx-ba-sm"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSessions}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"70vh"}})],1)])])])},P=[];function L(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?L(Object(e),!0).forEach((function(s){u()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var A={name:"ComponentAdminSyncExamsSync",props:{},data:function(){return{id:"0",stats:{misExamsCount:0,adaExamsCount:0},misExamsCount:"",misExams:[],loading:!1,percentage:100,syncIsComplete:!1,results:[],sessions:[],examLoading:!1,activeSessionId:null}},methods:I(I({},Object(f["b"])("sockets",["clearConsoleLog"])),{},{syncSessions:function(){var t=this;this.clearConsoleLog(),this.loading=!0,m["a"].postSyncExternalExamSessions(this.sessionSyncComplete,(function(s){t.loading=!1}))},sessionSyncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0,this.getSessions()},getSessions:function(){var t=this;m["a"].getExternalExamSessions((function(s){t.sessions=s}))},syncExams:function(t){var s=this;this.examLoading||(this.examLoading=!0,this.activeSessionId=t,this.clearConsoleLog(),m["a"].postSyncExternalExams(this.examsSyncComplete,(function(t){s.loading=!1,s.examLoading=!1}),t))},examsSyncComplete:function(t){this.examLoading=!1,this.results=t,this.syncIsComplete=!0,this.percentage=0,this.getSessions()},isExamLoading:function(t){return!(!this.examLoading||t!==this.activeSessionId)},isExamDisabled:function(t){return!(!this.examLoading||t===this.activeSessionId)}}),computed:I(I({},Object(f["c"])("sockets",["progress"])),{},{syncProgress:function(){return this.progress("Admin/Sync/ExternalExamSessions")},syncExamsProgress:function(){return this.progress("Admin/Sync/ExternalExams")}}),components:{Console:y["a"]},created:function(){this.getSessions()}},M=A,D=(e("2725"),e("2e0b")),Q=Object(v["a"])(M,E,P,!1,null,"72cfe4dd",null),N=Q.exports;S()(Q,"components",{QPage:_["a"],QMarkupTable:D["a"],QBtn:k["a"],QSpinnerGears:O["a"]});var R=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticStyle:{"overflow-y":"scroll","max-height":"80vh"}},[e("loading",{attrs:{loading:t.loading,channel:"sync.internalexams"}}),t.loading?t._e():e("div",{staticClass:"row q-mb-md q-mr-lg"},[e("q-btn-toggle",{staticClass:"col q-ml-xs",attrs:{spreads:"","no-caps":"",outline:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.modeOptions},on:{input:t.changeMode},model:{value:t.mode,callback:function(s){t.mode=s},expression:"mode"}}),t.syncingAll?e("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",dark:"",color:"warning",label:"Stop"},on:{click:function(s){t.stopSync=!0}}}):t._e(),e("q-btn",{attrs:{loading:t.syncLoading,percentage:100*t.pendingSessions.length/t.sessions.length,outline:"",dark:"",color:"accent",label:"Sync All"},on:{click:t.syncAllSessions}})],1),"sessions"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Description")]),e("th",{staticClass:"text-left"},[t._v("Year")]),e("th",{staticClass:"text-left"},[t._v("Type")]),e("th",{staticClass:"text-left"},[t._v("NC Year")]),e("th",{staticClass:"text-left"},[t._v("# Results")]),e("th",{staticClass:"text-left"},[t._v("# Papers")]),e("th",{staticClass:"text-left"},[t._v("Sync")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.sessions,(function(s){return e("tr",{key:s.id,class:"error"===s.type?"bg-warning":""},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.description))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.year))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.type))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.results))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.papers.length))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isSessionLoading(s.id),percentage:100*t.syncSessionProgress,disabled:t.isSessionDisabled(s.id),outline:"",dense:"",size:"xs",color:t.buttonColor(s.id),"icon-right":t.isSyncedSession(s.id)?"fal fa-check fa-xs":"fal fa-sync fa-xs"},on:{click:function(e){return t.requestSyncSession(s.id)}}})],1)])})),0)])],1)]),"exams"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px","max-height":"70vh","overflow-y":"scroll"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Paper Code")]),e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Subject")]),e("th",{staticClass:"text-left"},[t._v("Code")]),e("th",{staticClass:"text-left"},[t._v("Session")]),e("th",{staticClass:"text-left"},[t._v("NC Year")]),e("th",{staticClass:"text-left"},[t._v("Total Mark")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},[t._l(t.unmatchedExams,(function(s){return e("tr",{key:s.id+"_",staticClass:"bg-warning",class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.paperCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.sessionId))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.totalMark))])])})),t._l(t.exams,(function(s){return e("tr",{key:s.id,class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.paperCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.sessionId))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.totalMark))])])}))],2)])],1),e("div",{staticClass:"col"},[e("loading",{attrs:{loading:t.resultsLoading,channel:"sync.internalexams"}}),t.resultsLoading?t._e():e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Mark")]),e("th",{staticClass:"text-left"},[t._v("Grade")]),e("th",{staticClass:"text-left"},[t._v("Rank")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.results,(function(s){return e("tr",{key:s.id+"_"},[e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.mark))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.grade))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.rank))])])})),0)])],1)])],1)},$=[],U=(e("288e"),e("10ac"));function Y(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?Y(Object(e),!0).forEach((function(s){u()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Y(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var T={name:"ComponentAdminSyncInternalSync",props:{},data:function(){return{loading:!1,resultsLoading:!1,selectedExam:null,sessions:[],exams:[],exam:null,results:[],unmatchedExams:[],syncLoading:!1,syncingAll:!1,activeSessionId:null,syncedSessions:[],syncErrors:{},stopSync:!1,pendingSessions:[],mode:"sessions",modeOptions:[{value:"sessions",label:"Sessions"},{value:"exams",label:"Exams"}]}},methods:B(B({},Object(f["b"])("sockets",["clearConsoleLog"])),{},{changeMode:function(t){"exams"===t?this.getExams():this.getSessions()},getResults:function(t){var s=this;this.selectedExam=t,this.resultsLoading=!0,m["a"].getInternalExamResults((function(t){s.results=t.results,s.exam=t.paper,s.resultsLoading=!1}),this.$errorHandler,t)},getSessions:function(){var t=this;this.loading=!0,m["a"].getInternalExamSessions((function(s){t.sessions=s,t.loading=!1}))},getExams:function(){var t=this;this.loading=!0,m["a"].getInternalExams((function(s){t.exams=s.exams,t.unmatchedExams=s.unmatched,t.loading=!1}))},syncAllSessions:function(){if(!this.syncingAll){this.stopSync=!1,this.syncingAll=!0,this.pendingSessions=this.sessions.map((function(t){return t.id}));var t=this.pendingSessions.shift();this.requestSyncSession(t)}},syncSession:function(t){var s=this;this.syncLoading=!0,this.activeSessionId=t,this.syncErrors[t]=!1,m["a"].postSyncInternalSession((function(e){s.syncedSessions.push(t),s.pendingSessions.length>0&&!1===s.stopSync?s.syncSession(s.pendingSessions.shift()):(s.syncLoading=!1,s.syncingAll=!1)}),(function(e){s.syncErrors[t]=!0,s.syncLoading=!1,s.syncingAll=!1}),t)},requestSyncSession:function(t){this.syncLoading||this.syncSession(t)},isSessionLoading:function(t){return!(!this.syncLoading||t!==this.activeSessionId)},isSessionDisabled:function(t){return!(!this.syncLoading||t===this.activeSessionId)},isSyncedSession:function(t){return this.syncedSessions.find((function(s){return s===t}))},buttonColor:function(t){var s=this.isSyncedSession()?"positive":"accent";if(!0===this.syncErrors[t])return"warning";var e=this.sessions.find((function(s){return s.id===t&&!0===s.isInAda}));return e?"positive":s}}),computed:B(B({},Object(f["c"])("sockets",["progress"])),{},{syncSessionProgress:function(){return this.progress("sync.internalexams")}}),components:{Console:y["a"],Loading:U["a"]},created:function(){this.changeMode("sessions")}},G=T,z=(e("6e46"),e("6dd6")),H=Object(v["a"])(G,R,$,!1,null,"f22c04b2",null),J=H.exports;S()(H,"components",{QPage:_["a"],QBtnToggle:z["a"],QBtn:k["a"],QMarkupTable:D["a"]});var K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticStyle:{"overflow-y":"scroll","max-height":"80vh"}},[e("loading",{attrs:{loading:t.loading,channel:"sync.U6Mocks"}}),t.loading?t._e():e("div",{staticClass:"row q-mb-md q-mr-lg"},[e("q-btn-toggle",{staticClass:"col q-ml-xs",attrs:{spreads:"","no-caps":"",outline:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.modeOptions},on:{input:t.changeMode},model:{value:t.mode,callback:function(s){t.mode=s},expression:"mode"}}),t.syncingAll?e("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",dark:"",color:"warning",label:"Stop"},on:{click:function(s){t.stopSync=!0}}}):t._e(),e("q-btn",{attrs:{loading:t.syncLoading,percentage:100*t.pendingSessions.length/t.sessions.length,outline:"",dark:"",color:"accent",label:"Sync All"},on:{click:t.syncAllSessions}})],1),"sessions"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Year")]),e("th",{staticClass:"text-left"},[t._v("# Papers")]),e("th",[t._v("Sync")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.sessions,(function(s){return e("tr",{key:s.id,class:"error"===s.type?"bg-warning":""},[e("td",{staticClass:"text-left"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.count))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isSessionLoading(s.id),percentage:100*t.syncSessionProgress,disabled:t.isSessionDisabled(s.id),outline:"",dense:"",size:"xs",color:t.buttonColor(s.id),"icon-right":t.isSyncedSession(s.id)?"fal fa-check fa-xs":"fal fa-sync fa-xs"},on:{click:function(e){return t.requestSyncSession(s.id)}}})],1)])})),0)])],1)]),"exams"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px","max-height":"70vh","overflow-y":"scroll"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Subject")]),e("th",{staticClass:"text-left"},[t._v("Code")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},[t._l(t.unmatchedExams,(function(s){return e("tr",{key:s.id+"_",staticClass:"bg-warning",class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))])])})),t._l(t.exams,(function(s){return e("tr",{key:s.id,class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))])])}))],2)])],1),e("div",{staticClass:"col"},[e("loading",{attrs:{loading:t.resultsLoading,channel:"sync.U6Mocks"}}),t.resultsLoading?t._e():e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Mark")]),e("th",{staticClass:"text-left"},[t._v("Grade")]),e("th",{staticClass:"text-left"},[t._v("Rank")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.results,(function(s){return e("tr",{key:s.id+"_"},[e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.mark))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.grade))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.rank))])])})),0)])],1)])],1)},F=[];function V(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,n)}return e}function W(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?V(Object(e),!0).forEach((function(s){u()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var X={name:"ComponentAdminSyncU6MocksSync",props:{},data:function(){return{loading:!1,resultsLoading:!1,selectedExam:null,sessions:[],exams:[],exam:null,results:[],unmatchedExams:[],syncLoading:!1,syncingAll:!1,syncErrors:{},activeSessionId:null,syncedSessions:[],stopSync:!1,pendingSessions:[],mode:"sessions",modeOptions:[{value:"sessions",label:"Sessions"},{value:"exams",label:"Exams"}]}},methods:W(W({},Object(f["b"])("sockets",["clearConsoleLog"])),{},{changeMode:function(t){"exams"===t?this.getExams():this.getSessions()},getResults:function(t){var s=this;this.selectedExam=t,this.resultsLoading=!0,m["a"].getU6MockResults((function(t){s.results=t,s.resultsLoading=!1}),this.$errorHandler,t)},getSessions:function(){var t=this;this.loading=!0,m["a"].getU6MockSessions((function(s){t.sessions=s,t.loading=!1}))},getExams:function(){var t=this;this.loading=!0,m["a"].getU6MockExams((function(s){t.exams=s.exams,t.unmatchedExams=s.unmatched,t.loading=!1}))},syncAllSessions:function(){if(!this.syncingAll){this.stopSync=!1,this.syncingAll=!0,this.pendingSessions=this.sessions.map((function(t){return t.id}));var t=this.pendingSessions.shift();this.requestSyncSession(t)}},syncSession:function(t){var s=this;this.syncLoading=!0,this.activeSessionId=t,this.syncErrors[t]=!1,m["a"].postSyncU6MockSession((function(e){s.syncedSessions.push(t),s.pendingSessions.length>0&&!1===s.stopSync?s.syncSession(s.pendingSessions.shift()):(s.syncLoading=!1,s.syncingAll=!1)}),(function(e){s.syncErrors[t]=!0,s.syncLoading=!1,s.syncingAll=!1}),t)},requestSyncSession:function(t){this.syncLoading||this.syncSession(t)},isSessionLoading:function(t){return!(!this.syncLoading||t!==this.activeSessionId)},isSessionDisabled:function(t){return!(!this.syncLoading||t===this.activeSessionId)},isSyncedSession:function(t){return this.syncedSessions.find((function(s){return s===t}))},buttonColor:function(t){var s=this.isSyncedSession()?"positive":"accent";if(!0===this.syncErrors[t])return"warning";var e=this.sessions.find((function(s){return s.id===t&&!0===s.isInAda}));return e?"positive":s}}),computed:W(W({},Object(f["c"])("sockets",["progress"])),{},{syncSessionProgress:function(){return this.progress("sync.U6Mocks")}}),components:{Console:y["a"],Loading:U["a"]},created:function(){this.changeMode("sessions")}},Z=X,tt=(e("464e"),Object(v["a"])(Z,K,F,!1,null,"0d27d38c",null)),st=tt.exports;S()(tt,"components",{QPage:_["a"],QBtnToggle:z["a"],QBtn:k["a"],QMarkupTable:D["a"]});var et={name:"PageAdminSync",data:function(){return{elements:[{name:"students",label:"Students",component:o["a"],shortcut:"s"},{name:"staff",label:"Staff",component:c["a"],shortcut:"t"},{name:"subjects",label:"Subjects",component:w,shortcut:"t"},{name:"extExams",label:"Ext. Exams",component:N,shortcut:"t"},{name:"intExams",label:"Int. Exams",component:J,shortcut:"t"},{name:"u6Mocks",label:"U6 Mocks",component:st,shortcut:"t"}]}},components:{toolbarPage:i["a"]},methods:{refresh:function(){}}},nt=et,at=Object(v["a"])(nt,n,a,!1,null,null,null);s["default"]=at.exports},9216:function(t,s,e){"use strict";var n=e("e6ba"),a=e.n(n);a.a},e20f:function(t,s,e){},e6ba:function(t,s,e){},eedb:function(t,s,e){}}]);