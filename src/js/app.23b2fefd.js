(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(n,e,t){n.exports=t("71d8")},"452d":function(n,e,t){"use strict";var r={};t.r(r),t.d(r,"userId",(function(){return k})),t.d(r,"name",(function(){return y})),t.d(r,"permissions",(function(){return P})),t.d(r,"isDark",(function(){return x})),t.d(r,"isLight",(function(){return I})),t.d(r,"isAuthenticated",(function(){return O})),t.d(r,"getModuleAccess",(function(){return D})),t.d(r,"getModuleColor",(function(){return E})),t.d(r,"getPageAccess",(function(){return T}));var o={};t.r(o),t.d(o,"authUser",(function(){return G})),t.d(o,"clearAuthData",(function(){return B})),t.d(o,"isDark",(function(){return V})),t.d(o,"role",(function(){return $}));var a={};t.r(a),t.d(a,"login",(function(){return H})),t.d(a,"tryAutoLogin",(function(){return W})),t.d(a,"logout",(function(){return q})),t.d(a,"isDark",(function(){return M})),t.d(a,"setAxiosHeader",(function(){return N})),t.d(a,"setPrimaryColor",(function(){return z}));var i={};t.r(i),t.d(i,"isConnected",(function(){return K})),t.d(i,"consoleLog",(function(){return X})),t.d(i,"updaterData",(function(){return Z})),t.d(i,"updater",(function(){return nn})),t.d(i,"progress",(function(){return en}));var c={};t.r(c),t.d(c,"consoleLog",(function(){return rn})),t.d(c,"updater",(function(){return on})),t.d(c,"notify",(function(){return an})),t.d(c,"progress",(function(){return cn})),t.d(c,"clearConsoleLog",(function(){return sn})),t.d(c,"isConnected",(function(){return un}));var s={};t.r(s),t.d(s,"connectSocket",(function(){return fn})),t.d(s,"clearConsoleLog",(function(){return dn}));var u={};t.r(u),t.d(u,"activeSession",(function(){return mn})),t.d(u,"coachOutFilter",(function(){return bn})),t.d(u,"coachRetFilter",(function(){return gn}));var l={};t.r(l),t.d(l,"setActiveSession",(function(){return vn})),t.d(l,"setCoachOutFilter",(function(){return Qn})),t.d(l,"setCoachRetFilter",(function(){return wn}));var f={};t.r(f),t.d(f,"activeSession",(function(){return Ln})),t.d(f,"resultsGCSE",(function(){return kn})),t.d(f,"statisticsGCSE",(function(){return yn})),t.d(f,"resultsALevel",(function(){return Pn})),t.d(f,"statisticsALevel",(function(){return xn}));var d={};t.r(d),t.d(d,"setActiveSession",(function(){return In})),t.d(d,"setStatisticsGCSE",(function(){return On})),t.d(d,"setResultsGCSE",(function(){return Dn})),t.d(d,"setStatisticsALevel",(function(){return En})),t.d(d,"setResultsALevel",(function(){return Tn}));var p=t("9869"),h=t("9ce4"),m=t("c005"),b=t.n(m),g=t("fa94"),v=t.n(g),Q={},w=t("fe3b"),S=t("bf1d"),C=t("f1a8"),A={namespaced:!0,state:Q,getters:w,mutations:S,actions:C},L={userId:null,auth:null,firstname:null,lastname:null,permissions:{},roles:[],isDark:!0,isLight:!1},k=function(n){return n.userId},y=function(n){var e={firstname:n.firstname,lastname:n.lastname};return e},P=function(n){return n.permissions},x=function(n){return n.isDark},I=function(n){return n.isLight},O=function(n){return null!==n.auth},D=function(n){return function(e){return!!n.permissions[e]&&n.permissions[e].hasAccess}},E=function(n){return function(e){return n.permissions[e]?n.permissions[e].color:"#4fc08d"}},T=function(n){return function(e,t){if(!n.permissions[e])return!1;var r=n.permissions[e];return!!r.pages[t]&&r.pages[t].hasAccess}},R=(t("288e"),t("9baa")),j=t.n(R),F=(t("2e73"),t("dde3"),t("76d0"),t("0e20"),t("bc9f")),G=function(n,e){n.auth=e.auth,n.userId=e.userId,n.permissions=e.permissions,n.roles=e.roles},B=function(n){n.auth=null,n.userId=null,n.permissions={},n.roles=[]},V=function(n,e){n.isDark=e,n.isLight=!e},$=function(n,e){var t=e[0].data,r=e[0].roleId;Object.entries(t).forEach((function(e){var o=j()(e,2),a=o[0],i=o[1];if(n.permissions[a]){!0===t[a].hasAccess&&(n.permissions[a].hasAccess=!0,n.permissions[a].fromRoles.find((function(n){return n===r}))||n.permissions[a].fromRoles.push(r)),!1===t[a].hasAccess&&1===n.permissions[a].fromRoles.length&&(n.permissions[a].fromRoles=[],n.permissions[a].hasAccess=!1);var c=i.pages;Object.entries(c).forEach((function(e){var t=j()(e,2),o=t[0],i=t[1];n.permissions[a].pages[o]?n.permissions[a].pages[o].fromRoles.find((function(n){return n===r}))?1===n.permissions[a].pages[o].fromRoles.length&&p["a"].set(n.permissions[a].pages,o,i):!0===i.hasAccess&&(n.permissions[a].pages[o].hasAccess=!0,n.permissions[a].pages[o].fromRoles.push(r)):p["a"].set(n.permissions[a].pages,o,i)}))}else p["a"].set(n.permissions,a,i)})),F["a"].set("permissions",n.permissions)},_=(t("c8a0"),t("4778")),U=t("134d"),H=function(n,e){var t=n.commit,r=n.dispatch;return console.log(e),new Promise((function(n,o){_["a"].post("/auth/login",{login:e.login,password:e.password}).then((function(e){var o=e.data;t("authUser",{auth:o.auth,userId:o.userId,permissions:o.permissions,roles:o.roles}),F["a"].set("auth",o.auth),F["a"].set("userId",o.userId),F["a"].set("permissions",o.permissions),F["a"].set("roles",o.roles),r("setAxiosHeader",e.data.auth),r("sockets/connectSocket",o.auth,{root:!0}),n(e)})).catch((function(n){o(n)}))}))},W=function(n){var e=n.commit,t=n.dispatch,r=F["a"].getItem("auth");return null!==r&&(e("authUser",{auth:r,userId:F["a"].getItem("userId"),permissions:F["a"].getItem("permissions"),roles:F["a"].getItem("roles")}),t("setAxiosHeader",r),t("sockets/connectSocket",r,{root:!0}),!0)},q=function(n){var e=n.commit,t=n.dispatch;F["a"].clear(),e("clearAuthData"),t("setAxiosHeader","")},M=function(n,e){var t=n.commit;t("isDark",e)},N=function(n,e){_["a"].defaults.headers.common["Authorization"]=e},z=function(n,e){n.commit;return e===U["a"]},J={namespaced:!0,state:L,getters:r,mutations:o,actions:a},Y={isConnected:!1,consoleLog:[],updaters:{},updaterData:{},progress:{},progressIsComplete:{}},K=(t("0e30"),function(n){return n.isConnected}),X=function(n){return n.consoleLog.slice().reverse()},Z=function(n){return function(e){return n.updaterData[e]}},nn=function(n){return function(e,t){if(!n.updaters[e])return t;var r=n.updaters[e],o=r.key,a=r.data[o],i=t.findIndex((function(n){return n[o]===a}));return i>-1&&p["a"].set(t,i,r.data),t}},en=function(n){return function(e){return n.progress[e]?n.progress[e]:0}},tn=(t("ae66"),t("2405")),rn=function(n,e){if(!0===e.replace){for(var t=n.consoleLog.length,r=t-1;r>=0;r--)if(!1===n.consoleLog[r].isError){n.consoleLog[r].message=e.message;break}}else n.consoleLog.push(e)},on=function(n,e){var t=e[0].updaterId;p["a"].set(n.updaters,t,e[0])},an=function(n,e){console.log("NOTIFY",e),tn["a"].create({message:e[0].message,color:"primary",textColor:"black"})},cn=function(n,e){var t=e[0].progressId;p["a"].set(n.progress,t,e[0].progress),p["a"].set(n.progressIsComplete,t,e[0].isComplete)},sn=function(n){n.consoleLog=[]},un=function(n,e){n.isConnected=e},ln=t("0c9c"),fn=function(n,e){var t=n.commit,r=n.rootState;p["a"].use(ln["a"],{debug:!0,url:"wss://adazmq.marlboroughcollege.org/wss",realm:"realm1",onopen:function(n,e){t("isConnected",!0)},onclose:function(n,e){t("isConnected",!1)}}),p["a"].Wamp.subscribe("console_"+e,(function(n,e,r){t("consoleLog",n[0])}),{acknowledge:!0}).then((function(n){})),p["a"].Wamp.subscribe("updater_"+e,(function(n,e,r){t("updater",n)}),{acknowledge:!0}).then((function(n){})),p["a"].Wamp.subscribe("progress_"+e,(function(n,e,r){t("progress",n)}),{acknowledge:!0}).then((function(n){})),p["a"].Wamp.subscribe("notify_"+e,(function(n,e,r){t("notify",n)}),{acknowledge:!0}).then((function(n){})),r.user.roles.forEach((function(n,e){console.log(n),p["a"].Wamp.subscribe("role_"+n,(function(n,e,r){t("user/role",n,{root:!0})}),{acknowledge:!0}).then((function(n){}))}))},dn=function(n){var e=n.commit;e("clearConsoleLog")},pn={namespaced:!0,state:Y,getters:i,mutations:c,actions:s},hn={activeSession:null,activeSessionName:null,coachOutFilter:[],coachRetFilter:[]},mn=function(n){return n.activeSession},bn=function(n){return n.coachOutFilter},gn=function(n){return n.coachRetFilter},vn=function(n,e){n.activeSession=e},Qn=function(n,e){n.coachOutFilter=e},wn=function(n,e){n.coachRetFilter=e},Sn=t("a8b2"),Cn={namespaced:!0,state:hn,getters:u,mutations:l,actions:Sn},An={activeSession:null,resultsGCSE:null,statisticsGCSE:null,resultsALevel:null,statisticsALevel:null},Ln=function(n){return n.activeSession},kn=function(n){return n.resultsGCSE},yn=function(n){return n.statisticsGCSE},Pn=function(n){return n.resultsALevel},xn=function(n){return n.statisticsALevel},In=function(n,e){n.activeSession=e},On=function(n,e){n.statisticsGCSE=e},Dn=function(n,e){n.resultsGCSE=e},En=function(n,e){n.statisticsALevel=e},Tn=function(n,e){n.resultsALevel=e},Rn=t("cb00"),jn={namespaced:!0,state:An,getters:f,mutations:d,actions:Rn};p["a"].use(h["a"]),p["a"].use(b.a),p["a"].use(v.a);var Fn=new h["a"].Store({modules:{example:A,user:J,sockets:pn,transport:Cn,exams:jn}});e["a"]=Fn},4778:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("8206"),o=t.n(r),a=o.a.create({baseURL:"/api/v1/public/"});o.a.defaults.port=80,e["b"]=function(n){var e=n.Vue;e.prototype.$axios=a}},"71d8":function(n,e,t){"use strict";t.r(e);var r=t("f040"),o=t.n(r),a=(t("ae66"),t("df26"),t("e7c8")),i=t.n(a),c=(t("05e4"),t("dc4e"),t("2818"),t("9f83"),t("9869")),s=t("2965"),u=t("c3cf"),l=t("9f30"),f=t("83d2"),d=t("bc4f"),p=t("b4af"),h=t("889e"),m=t("7e42"),b=t("80ff"),g=t("26a8"),v=t("490d"),Q=t("eb05"),w=t("f85a"),S=t("2ef0"),C=t("7caa"),A=t("34ff"),L=t("094b"),k=t("1530"),y=t("19be"),P=t("8edc"),x=t("b693"),I=t("bc74"),O=t("6081"),D=t("4776"),E=t("dd08"),T=t("1411"),R=t("1d98"),j=t("f962c"),F=t("d3a4"),G=t("851c"),B=t("18f0"),V=t("c462"),$=t("41c9"),_=t("b74b"),U=t("3946"),H=t("d200"),W=t("8c18"),q=t("6a2f"),M=t("6799"),N=t("cd4d"),z=t("dfd0"),J=t("9676"),Y=t("9cbe"),K=t("d1dc"),X=t("ec56"),Z=t("5840"),nn=t("3aaf"),en=t("e81c"),tn=t("3d3c"),rn=t("6475"),on=t("b8ed"),an=t("69a4"),cn=t("3ec9"),sn=t("4840"),un=t("1139"),ln=t("ebe6"),fn=t("965d"),dn=t("5b32"),pn=t("96f0"),hn=t("f987"),mn=t("4f61"),bn=t("ed34"),gn=t("2be8"),vn=t("58c0"),Qn=t("2405"),wn=t("1608"),Sn=t("bc9f"),Cn=t("a182"),An=t("d835");c["a"].use(u["a"],{config:{notify:{}},iconSet:s["a"],components:{QAvatar:l["a"],QMarkupTable:f["a"],QSplitter:d["a"],QLayout:p["a"],QHeader:h["a"],QDrawer:m["a"],QPageContainer:b["a"],QScrollArea:g["a"],QPage:v["a"],QToolbar:Q["a"],QToolbarTitle:w["a"],QBtn:S["a"],QBtnGroup:C["a"],QIcon:A["a"],QList:L["a"],QItem:k["a"],QItemSection:y["a"],QItemLabel:P["a"],QField:x["a"],QInput:I["a"],QBtnDropdown:O["a"],QTabs:D["a"],QTab:E["a"],QTabPanels:T["a"],QTabPanel:R["a"],QSpace:j["a"],QRouteTab:F["a"],QCheckbox:G["a"],QTable:B["a"],QTh:V["a"],QTr:$["a"],QTd:_["a"],QSelect:U["a"],QPopupEdit:H["a"],QPopupProxy:W["a"],QMenu:q["a"],QFab:M["a"],QFabAction:N["a"],QColor:z["a"],QAjaxBar:J["a"],QSpinner:Y["a"],QSpinnerGears:K["a"],QSpinnerAudio:X["a"],QTree:Z["a"],QTooltip:nn["a"],QDialog:en["a"],QToggle:tn["a"],QRadio:rn["a"],QDate:on["a"],QTime:an["a"],QExpansionItem:cn["a"],QChip:sn["a"],QBtnToggle:un["a"],QCard:ln["a"],QCardSection:fn["a"],QCardActions:dn["a"],QSeparator:pn["a"],QBadge:hn["a"],QLinearProgress:mn["a"],QEditor:bn["a"]},directives:{Ripple:gn["a"],ClosePopup:vn["a"]},plugins:{Notify:Qn["a"],Dialog:wn["a"],LocalStorage:Sn["a"],AppFullscreen:Cn["a"],Loading:An["a"]}});var Ln=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("q-ajax-bar",{attrs:{color:n.barColor}})],1)},kn=[],yn=(t("e125"),t("4823"),t("2e73"),t("dde3"),t("76d0"),t("0c1f"),t("6650")),Pn=t.n(yn),xn=t("9ce4"),In=t("915b");function On(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Dn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?On(t,!0).forEach((function(e){Pn()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):On(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var En={name:"App",data:function(){return{dark:!1}},methods:{},computed:Dn({},Object(xn["e"])("user",["isDark","isLight"]),{},Object(xn["c"])("sockets",["isConnected"]),{barColor:function(){var n=this.isDark?"primary":"primary-light";return this.isConnected?n:"negative"}}),created:function(){var n=this;In["d"].commercialLicense=!0,this.$store.dispatch("user/tryAutoLogin").then((function(e){!0===e||n.$router.replace("/login")}))}},Tn=En,Rn=t("2be6"),jn=Object(Rn["a"])(Tn,Ln,kn,!1,null,null,null),Fn=jn.exports,Gn=t("452d"),Bn=t("5f2b"),Vn={path:"admin",component:function(){return t.e("3f050d6e").then(t.bind(null,"6f3e"))},children:[{path:"active",component:function(){return t.e("6dd33f7e").then(t.bind(null,"282e"))}},{path:"sync",component:function(){return Promise.all([t.e("4181c9d6"),t.e("55d35be4")]).then(t.bind(null,"8976"))}},{path:"access",component:function(){return Promise.all([t.e("4181c9d6"),t.e("2401a35c")]).then(t.bind(null,"e5bb"))}},{path:"tags",component:function(){return Promise.all([t.e("4181c9d6"),t.e("b6b13928")]).then(t.bind(null,"9de1"))}}]},$n={path:"transport",component:function(){return t.e("f7cec864").then(t.bind(null,"4ece"))},children:[{path:"coaches",component:function(){return Promise.all([t.e("4181c9d6"),t.e("0de736df")]).then(t.bind(null,"e1b0"))}},{path:"taxis",component:function(){return Promise.all([t.e("4181c9d6"),t.e("1181b7a0")]).then(t.bind(null,"7697"))}},{path:"sessions",component:function(){return Promise.all([t.e("4181c9d6"),t.e("84b7cab4")]).then(t.bind(null,"865b"))}}]},_n={path:"students",component:function(){return t.e("5b2863f8").then(t.bind(null,"dce4"))},children:[{path:"profile",component:function(){return t.e("55fa9faa").then(t.bind(null,"bea3"))}},{path:"list",component:function(){return t.e("7ab7fa62").then(t.bind(null,"9fdc"))}}]},Un={path:"lab",component:function(){return t.e("4186aaac").then(t.bind(null,"2698"))},children:[{path:"crud",component:function(){return Promise.all([t.e("4181c9d6"),t.e("993c7bca")]).then(t.bind(null,"151f"))}},{path:"sockets",component:function(){return Promise.all([t.e("4181c9d6"),t.e("2fe6b89a")]).then(t.bind(null,"0c4f"))}},{path:"reports",component:function(){return t.e("610e6d86").then(t.bind(null,"388f"))}},{path:"email",component:function(){return t.e("2d0d7be8").then(t.bind(null,"77b4"))}},{path:"tags",component:function(){return t.e("2d0c4c12").then(t.bind(null,"3bd1"))}}]},Hn={path:"watch",component:function(){return t.e("7abd8c16").then(t.bind(null,"d047"))},children:[{path:"exgarde",component:function(){return Promise.all([t.e("4181c9d6"),t.e("1e475d54")]).then(t.bind(null,"6a9f"))}}]},Wn={path:"academic",component:function(){return t.e("544f0fb3").then(t.bind(null,"7b56"))},children:[{path:"jane",component:function(){return Promise.all([t.e("4181c9d6"),t.e("e45b515e")]).then(t.bind(null,"0ae4"))}}]},qn={path:"exams",component:function(){return t.e("1233484a").then(t.bind(null,"4bb3"))},children:[{path:"",component:function(){return t.e("2d0d7a63").then(t.bind(null,"785a"))}},{path:"gcse",component:function(){return Promise.all([t.e("4181c9d6"),t.e("73f4bb8a"),t.e("0f9a51c8")]).then(t.bind(null,"2457"))}},{path:"alevel",component:function(){return Promise.all([t.e("4181c9d6"),t.e("73f4bb8a"),t.e("89dfde5a")]).then(t.bind(null,"a4c7"))}},{path:"admin",component:function(){return Promise.all([t.e("4181c9d6"),t.e("109eeb8b")]).then(t.bind(null,"2a8f"))}}]},Mn={path:"accounts",component:function(){return t.e("5a23cccc").then(t.bind(null,"0cb4"))},children:[]},Nn={path:"hm",component:function(){return t.e("e521e206").then(t.bind(null,"27c4"))},children:[{path:"where",component:function(){return t.e("6db16295").then(t.bind(null,"e93b"))}}]},zn={path:"smt",component:function(){return t.e("58ba7b42").then(t.bind(null,"2382"))},children:[{path:"",component:function(){return Promise.all([t.e("4181c9d6"),t.e("27ac931d")]).then(t.bind(null,"854d"))}}]},Jn=[{path:"/",component:function(){return t.e("6eec58de").then(t.bind(null,"5b6e"))},children:[{path:"",component:function(){return t.e("bb87482a").then(t.bind(null,"d9b1"))}},{path:"user",component:function(){return t.e("2d221f88").then(t.bind(null,"cd2c"))}},Vn,$n,_n,Un,Wn,Hn,qn,Mn,Nn,zn]},{path:"/login",name:"login",component:function(){return t.e("662f1cc4").then(t.bind(null,"902c"))},children:[{path:"",component:function(){return t.e("095ece8f").then(t.bind(null,"cd02"))}}]},{path:"*",component:function(){return t.e("741b98a7").then(t.bind(null,"2d51"))}}],Yn=Jn;c["a"].use(Bn["a"]);var Kn=new Bn["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Yn}),Xn=Kn,Zn=function(){var n="function"===typeof Gn["a"]?Object(Gn["a"])({Vue:c["a"]}):Gn["a"],e="function"===typeof Xn?Xn({Vue:c["a"],store:n}):Xn;n.$router=e;var t={el:"#q-app",router:e,store:n,render:function(n){return n(Fn)}};return{app:t,store:n,router:e}},ne=t("4778"),ee=function(n){var e=n.router;n.store,n.Vue;e.beforeEach((function(n,e,t){t()}))},te=(t("014e"),t("e9b0"),function(n){n.app,n.router,n.Vue}),re=t("5871"),oe=t.n(re),ae=function(n){n.app,n.router;var e=n.Vue;e.use(oe.a)},ie=t("fa94"),ce=t.n(ie),se=function(n){var e=n.Vue;e.use(ce.a)},ue=(t("e285"),t("cd05"),t("230f")),le=t.n(ue),fe={methods:{$parseOptions:function(n,e){var t=le()(new Set(n.map((function(n){return n[e]}))));return t.map((function(n){return{label:n,value:n}}))},$downloadBlob:function(n,e){this.$axios({url:n,method:"GET",responseType:"blob"}).then((function(n){var t=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",e),document.body.appendChild(r),r.click()}))}}};c["a"].mixin(fe);var de=Zn(),pe=de.app,he=de.store,me=de.router;function be(){return ge.apply(this,arguments)}function ge(){return ge=i()(o.a.mark((function n(){var e,t,r,a,i;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=!0,t=function(n){e=!1,window.location.href=n},r=window.location.href.replace(window.location.origin,""),a=[ne["b"],ee,te,ae,se,void 0],i=0;case 5:if(!(!0===e&&i<a.length)){n.next=23;break}if("function"===typeof a[i]){n.next=8;break}return n.abrupt("continue",20);case 8:return n.prev=8,n.next=11,a[i]({app:pe,router:me,store:he,Vue:c["a"],ssrContext:null,redirect:t,urlPath:r});case 11:n.next=20;break;case 13:if(n.prev=13,n.t0=n["catch"](8),!n.t0||!n.t0.url){n.next=18;break}return window.location.href=n.t0.url,n.abrupt("return");case 18:return console.error("[Quasar] boot error:",n.t0),n.abrupt("return");case 20:i++,n.next=5;break;case 23:if(!1!==e){n.next=25;break}return n.abrupt("return");case 25:new c["a"](pe);case 26:case"end":return n.stop()}}),n,null,[[8,13]])}))),ge.apply(this,arguments)}be()},"9f83":function(n,e,t){},a8b2:function(n,e){},bf1d:function(n,e){},cb00:function(n,e){},f1a8:function(n,e){},fe3b:function(n,e){}},[[0,"runtime","vendor"]]]);