(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"2a3a":function(t,e,s){"use strict";var n=s("6b93"),a=s.n(n);a.a},"6b93":function(t,e,s){},8976:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("toolbar-page",{attrs:{elements:t.elements,default:"students"}})},a=[],c=s("08e9"),i=s("6884"),o=s("088f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{},[s("h1",[t._v("MIS Subjects")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("crud",{ref:"crud",attrs:{dataOverride:t.misSubjects,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),s("div",{staticClass:"col-4"},[s("div",{staticClass:"block border-accent q-ba-sm"},[s("div",{staticClass:"row"},[s("div",{attrs:{clsss:"col flex"}},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# MIS Subjects"},model:{value:t.stats.misSubjectsCount,callback:function(e){t.$set(t.stats,"misSubjectsCount",e)},expression:"stats.misSubjectsCount"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# ADA Subjects"},model:{value:t.stats.adaSubjectsCount,callback:function(e){t.$set(t.stats,"adaSubjectsCount",e)},expression:"stats.adaSubjectsCount"}})],1)]),s("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSubjects}},[t._v("\n           Sync\n          "),s("span",{attrs:{slot:"loading"},slot:"loading"},[s("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),s("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?s("div",[s("h1",[t._v("Summary")]),s("div",{attrs:{clsss:"row"}},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(e){t.$set(t.results,"new",e)},expression:"results.new"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(e){t.$set(t.results,"updated",e)},expression:"results.updated"}})],1)]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(e){t.$set(t.results,"disabled",e)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},l=[],u=(s("e125"),s("4823"),s("2e73"),s("dde3"),s("76d0"),s("0c1f"),s("8e9e")),d=s.n(u),m=s("9ce4"),p=s("5451"),f=s("d612"),b=s("dd14");function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(Object(s),!0).forEach((function(e){d()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var x={name:"ComponentAdminSyncSubjectsSync",props:{},data:function(){return{id:"0",stats:{misSubjectsCount:0,adaSubjectsCount:0},misSubjectsCount:"",misSubjects:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left"},{name:"name",label:"name",align:"left",field:"name",sortable:!0},{name:"code",label:"Code",align:"left",field:"code",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:h({},Object(m["b"])("sockets",["clearConsoleLog"]),{showMISSubjects:function(t){this.misSubjects=t.misSubjects,this.stats=t.stats},syncSubjects:function(){this.clearConsoleLog(),this.loading=!0,p["a"].postSyncSubjects(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:h({},Object(m["c"])("sockets",["progress"]),{syncProgress:function(){return this.progress("Admin/Sync/Subjects")}}),components:{Crud:f["a"],Console:b["a"]},created:function(){p["a"].getMISSubjects(this.showMISSubjects)}},y=x,C=(s("9216"),s("2be6")),v=s("e279"),S=s.n(v),j=s("8c42"),O=s("bc74"),_=s("2ef0"),w=s("d1dc"),E=Object(C["a"])(y,r,l,!1,null,"98febf30",null),k=E.exports;S()(E,"components",{QPage:j["a"],QInput:O["a"],QBtn:_["a"],QSpinnerGears:w["a"]});var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{},[s("h1",[t._v("Exam Sessions")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-center"},[t._v("Id")]),s("th",{staticClass:"text-center"},[t._v("MIS Id")]),s("th",{staticClass:"text-center"},[t._v("Year")]),s("th",{staticClass:"text-center"},[t._v("Month")]),s("th",{staticClass:"text-center"},[t._v("Active")]),s("th",{staticClass:"text-center"},[t._v("Published")]),s("th",{staticClass:"text-center"},[t._v("Results")]),s("th",{staticClass:"text-center"},[t._v("Sync")])])]),s("tbody",t._l(t.sessions,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-center"},[t._v(t._s(e.id))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.misId))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.year))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.month))]),s("td",{staticClass:"text-center"},[t._v(t._s(1==e.isActive?"1":""))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.isPublished))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.resultsCount))]),s("td",{staticClass:"text-left"},[s("q-btn",{staticClass:"full-width",attrs:{loading:t.isExamLoading(e.id),percentage:100*t.syncExamsProgress,disabled:t.isExamDisabled(e.id),outline:"",dense:"",size:"xs",color:"accent","icon-right":"fal fa-sync fa-xs"},on:{click:function(s){return t.syncExams(e.id)}}})],1)])})),0)])],1),s("div",{staticClass:"col-4"},[s("div",{staticClass:"block border-accent qx-ba-sm"},[s("q-btn",{staticClass:"full-width",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSessions}},[t._v("\n           Sync\n          "),s("span",{attrs:{slot:"loading"},slot:"loading"},[s("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),s("console",{staticStyle:{"min-height":"70vh"}})],1)])])])},q=[];function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function L(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){d()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var D={name:"ComponentAdminSyncExamsSync",props:{},data:function(){return{id:"0",stats:{misExamsCount:0,adaExamsCount:0},misExamsCount:"",misExams:[],loading:!1,percentage:100,syncIsComplete:!1,results:[],sessions:[],examLoading:!1,activeSessionId:null}},methods:L({},Object(m["b"])("sockets",["clearConsoleLog"]),{syncSessions:function(){var t=this;this.clearConsoleLog(),this.loading=!0,p["a"].postSyncExternalExamSessions(this.sessionSyncComplete,(function(e){t.loading=!1}))},sessionSyncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0,this.getSessions()},getSessions:function(){var t=this;p["a"].getExternalExamSessions((function(e){t.sessions=e}))},syncExams:function(t){var e=this;this.examLoading||(this.examLoading=!0,this.activeSessionId=t,this.clearConsoleLog(),p["a"].postSyncExternalExams(this.examsSyncComplete,(function(t){e.loading=!1,e.examLoading=!1}),t))},examsSyncComplete:function(t){this.examLoading=!1,this.results=t,this.syncIsComplete=!0,this.percentage=0},isExamLoading:function(t){return!(!this.examLoading||t!==this.activeSessionId)},isExamDisabled:function(t){return!(!this.examLoading||t===this.activeSessionId)}}),computed:L({},Object(m["c"])("sockets",["progress"]),{syncProgress:function(){return this.progress("Admin/Sync/ExternalExamSessions")},syncExamsProgress:function(){return this.progress("Admin/Sync/ExternalExams")}}),components:{Console:b["a"]},created:function(){this.getSessions()}},A=D,M=(s("2a3a"),s("2e0b")),Q=Object(C["a"])(A,P,q,!1,null,"5faecf86",null),$=Q.exports;S()(Q,"components",{QPage:j["a"],QMarkupTable:M["a"],QBtn:_["a"],QSpinnerGears:w["a"]});var B={name:"PageAdminSync",data:function(){return{elements:[{name:"students",label:"Students",component:i["a"],shortcut:"s"},{name:"staff",label:"Staff",component:o["a"],shortcut:"t"},{name:"subjects",label:"Subjects",component:k,shortcut:"t"},{name:"extExams",label:"Ext. Exams",component:$,shortcut:"t"}]}},components:{toolbarPage:c["a"]},methods:{refresh:function(){}}},G=B,J=Object(C["a"])(G,n,a,!1,null,null,null);e["default"]=J.exports},9216:function(t,e,s){"use strict";var n=s("e6ba"),a=s.n(n);a.a},e6ba:function(t,e,s){}}]);