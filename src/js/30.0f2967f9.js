(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"00ba":function(t,e,s){},"88ef":function(t,e,s){"use strict";var n=s("f8474"),a=s.n(n);a.a},"917d":function(t,e,s){"use strict";var n=s("00ba"),a=s.n(n);a.a},f520:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("class-bar",{on:{change:t.loadClass,loaded:function(e){t.loaded=!0}}}),t.loaded?s("toolbar-page",{attrs:{elements:t.elements,default:"MLO"},scopedSlots:t._u([{key:"side",fn:function(){},proxy:!0}],null,!1,1193378514)}):t._e()],1)},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row fitx full-width"},[s("q-btn-toggle",{staticClass:"full-width",attrs:{spread:"","no-caps":"",dense:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.classOptions},on:{input:t.change},model:{value:t.selectedClass,callback:function(e){t.selectedClass=e},expression:"selectedClass"}})],1)},i=[],l=(s("e125"),s("4823"),s("2e73"),s("dde3"),s("76d0"),s("0c1f"),s("288e"),s("8e9e")),c=s.n(l),r=s("4778"),d={getClasses:function(t,e){r["a"].get("/home/classes").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getFormMLO:function(t,e,s){r["a"].get("/home/classes/mlo/form/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getSetMLO:function(t,e,s){r["a"].get("/home/classes/mlo/set/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postMLO:function(t,e,s){r["a"].post("/home/classes/mlo",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},u=s("9ce4");function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"Component.Home.Classes.ClassBar",props:{},data:function(){return{classes:[],selectedClass:null}},methods:h(h({},Object(u["d"])("home",["setActiveClass"])),{},{process:function(t){this.classes=t,this.selectedClass=this.classOptions[0].value,this.$emit("loaded"),this.change()},change:function(){var t=this,e=this.classes.find((function(e){return e.id===t.selectedClass}));this.setActiveClass(e),this.$emit("change",e)}}),computed:{classOptions:function(){return this.classes.filter((function(t){return 11===t.NCYear||13===t.NCYear})).map((function(t){return{value:t.id,label:t.setCode}}))}},components:{},created:function(){d.getClasses(this.process,this.$errorHandler)}},p=g,m=(s("88ef"),s("2be6")),C=s("6dd6"),b=s("e279"),v=s.n(b),O=Object(m["a"])(p,o,i,!1,null,"752a671a",null),w=O.exports;v()(O,"components",{QBtnToggle:C["a"]});var y=s("08e9"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"fit scroll full-height",staticStyle:{"padding-bottom":"300px"}},[s("div",{staticClass:" row fitl"},[s("q-markup-table",{attrs:{densex:"",separator:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiaryx"},[s("th",{attrs:{colspan:"3"}},[s("div",{staticClass:"row no-wrap items-center"},[t.editing||t.loading?t._e():s("q-btn",{staticClass:"full-width q-ml-md",attrs:{outline:"",color:"accent",label:"Edit"},on:{click:function(e){t.editing=!t.editing}}}),t.editing?s("q-btn",{staticClass:"full-width q-ml-md",attrs:{loading:t.saving,outline:"",color:"positive",label:"Save Changes"},on:{click:t.save}}):t._e()],1)])]),s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left"},[t._v("Name")]),s("th",{staticClass:"text-left"},[t._v("House")]),s("th",{staticClass:"text-right"},[t._v("MLO")])])]),s("tbody",t._l(t.currentClass.students,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-left"},[t._v(t._s(e.fullName))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.boardingHouse))]),t.editing?t._e():s("td",{staticClass:"text-center"},[t._v(t._s(e.mlo?e.mlo:"-"))]),t.editing?s("td",{staticClass:"text-right"},[s("q-select",{staticStyle:{width:"70px",height:"35px"},attrs:{disable:t.saving,"bg-color":"secondary",dense:"",filled:"",options:t.gradeOptions},model:{value:e.mlo,callback:function(s){t.$set(e,"mlo",s)},expression:"student.mlo"}})],1):t._e()])})),0)])],1)])},x=[],j={name:"Home.Classes.MLO",props:{},data:function(){return{currentClass:{},editing:!1,saving:!1,loading:!1}},methods:{save:function(){this.saving=!0,d.postMLO(this.process,this.$errorHandler,this.currentClass)},loadClass:function(){this.editing=!1,this.saving=!1,this.loading=!0;var t=this.$store.getters["home/activeClass"];t&&(this.currentClass=t,!0===t.isForm?d.getFormMLO(this.process,this.$errorHandler,t.id):d.getSetMLO(this.process,this.$errorHandler,t.id))},process:function(t){this.editing=!1,this.saving=!1,this.loading=!1,this.currentClass=t}},computed:{gradeOptions:function(){return this.currentClass.NCYear>11?["A*","A","B","C","D","E","D1","D2","D3","M1","M2","M3","P1","P2","P3","U"]:["9","8","7","6","5","4","3","2","1"]}},components:{},created:function(){var t=this;this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.loadClass),this.loadClass()}},M=j,$=(s("917d"),s("8c42")),P=s("2e0b"),k=s("2ef0"),L=s("3946"),q=Object(m["a"])(M,_,x,!1,null,"038da2c4",null),H=q.exports;v()(q,"components",{QPage:$["a"],QMarkupTable:P["a"],QBtn:k["a"],QSelect:L["a"]});var S={name:"PageHomeAlmanac",data:function(){return{loaded:!1,elements:[{name:"MLO",label:"MLO",component:H,shortcut:"b"}]}},components:{toolbarPage:y["a"],ClassBar:w},methods:{process:function(){},setClass:function(){}},created:function(){var t=this;this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.setClass)}},D=S,E=Object(m["a"])(D,n,a,!1,null,null,null);e["default"]=E.exports},f8474:function(t,e,s){}}]);