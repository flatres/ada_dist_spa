(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{1394:function(t,e,n){"use strict";var a=n("17a4"),o=n.n(a);o.a},"17a4":function(t,e,n){},"2cbb":function(t,e,n){"use strict";var a=n("c8d6"),o=n.n(a);o.a},"9de1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("toolbar-page",{attrs:{elements:t.elements,default:"students"}})},o=[],c=n("08e9"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-tree",{staticClass:"q-mt-lg",attrs:{nodes:t.tree,color:"primary","default-expand-all":"","node-key":"id","label-key":"name",dark:""},scopedSlots:t._u([{key:"default-header",fn:function(e){return n("div",{on:{click:function(n){return t.clickNode(e.node)}}},[n("span",{staticClass:"text-weight-thin no-shadow"},[e.node.newCat||e.node.newTag?t._e():n("q-icon",{staticClass:"q-mt-xs q-mr-xs q-ml-sm",attrs:{name:"fal fa-tag",color:t.nodeColor(e.node)}}),e.node.newCat?n("q-icon",{staticClass:"q-mt-xs q-mr-xs q-ml-sm",attrs:{name:"fal fa-plus",color:t.nodeColor(e.node)}}):t._e(),e.node.newTag?n("q-icon",{staticClass:"q-mt-xs q-mr-xs q-ml-sm",attrs:{name:"fal fa-plus",color:t.nodeColor(e.node)}}):t._e()],1),n("span",[t._v("\n         "+t._s(e.node.name)+"\n       ")])])}}])})],1)},s=[],d=(n("c880"),n("4778")),l={getStudentTagTree:function(t,e,n){d["a"].get("/admin/tags/tree/students/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getTags:function(t,e,n){d["a"].get("/admin/tags").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getCategories:function(t,e,n){d["a"].get("/admin/tags/cetagories").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getTag:function(t,e,n){d["a"].get("/admin/tags/"+n.id).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putTag:function(t,e,n){d["a"].put("/admin/tags",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postTag:function(t,e,n){d["a"].post("/admin/tags/",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteTag:function(t,e,n){d["a"].delete("/admin/tags/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},r={name:"AdminTagsStudents",data:function(){return{tree:[],currentNodeId:null}},methods:{process:function(t){this.tree=t.map((function(t){return t.tags.unshift({newTag:!0,name:"",id:"nt_"+t.id}),{id:"c"+t.id,name:t.name,children:t.tags,catId:t.catId}})),this.tree.unshift({newCat:!0,name:"",id:"c0"}),console.log(this.tree)},clickNode:function(t){t.catId&&(this.currentNodeId=t.id,this.currentCatId="c"+t.catId)},nodeColor:function(t){return t.catId?t.id===this.currentNodeId?"primary":"white":t.id===this.currentCatId?"primary":"white"}},computed:{},components:{},created:function(){l.getStudentTagTree(this.process,null,0)}},u=r,m=(n("2cbb"),n("2be6")),f=Object(m["a"])(u,i,s,!1,null,"928b6eb8",null),g=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("crud",{ref:"crud",attrs:{data:t.data,api:t.api,columns:t.columns,search:"",canNew:"",canDelete:"",canEdit:"",inlineEdit:""}})],1)},h=[],b=n("d612"),C=n("89a2"),w={name:"ComponentCompanies",data:function(){return{api:{get:l.getTags,getSingle:l.getTag,put:l.putCompanies,post:l.postCompanies,delete:l.deleteCompanies},columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"Name",label:"Name",field:"name",type:"string",align:"left",validations:{required:C["required"],minLength:Object(C["minLength"])(4)},editable:!0}],showForm:!0}},computed:{},components:{Crud:b["a"]},created:function(){}},q=w,T=(n("1394"),Object(m["a"])(q,p,h,!1,null,"d1c2763a",null)),_=T.exports,v={name:"PageAdminTags",data:function(){return{elements:[{name:"students",label:"Students",component:g,shortcut:"s"},{name:"staff",label:"Staff",component:_,shortcut:"t"}]}},components:{toolbarPage:c["a"]},methods:{refresh:function(){}}},x=v,I=Object(m["a"])(x,a,o,!1,null,null,null);e["default"]=I.exports},c8d6:function(t,e,n){}}]);