(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{2725:function(t,s,e){"use strict";var a=e("9f1a"),n=e.n(a);n.a},"2c59":function(t,s,e){"use strict";var a=e("ec43"),n=e.n(a);n.a},"464e":function(t,s,e){"use strict";var a=e("c207"),n=e.n(a);n.a},"6e46":function(t,s,e){"use strict";var a=e("892b"),n=e.n(a);n.a},"74a9":function(t,s,e){},"892b":function(t,s,e){},8976:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("toolbar-page",{attrs:{elements:t.elements,default:"students"}})},n=[],i=e("08e9"),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("h1",[t._v(" iSAMS Students ")]),e("crud",{ref:"crud",attrs:{dataOverride:t.misStudents,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"name",rowKey:"id",search:""}})],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent q-ba-sm"},[e("div",{staticClass:"row"},[e("div",{attrs:{clsss:"col flex"}},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"# MIS Students"},model:{value:t.stats.misStudentCount,callback:function(s){t.$set(t.stats,"misStudentCount",s)},expression:"stats.misStudentCount"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"# ADA Students"},model:{value:t.stats.adaStudentCount,callback:function(s){t.$set(t.stats,"adaStudentCount",s)},expression:"stats.adaStudentCount"}})],1)]),e("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStudents}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?e("div",[e("h1",[t._v("Summary")]),e("div",{attrs:{clsss:"row"}},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"New"},model:{value:t.results.new,callback:function(s){t.$set(t.results,"new",s)},expression:"results.new"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(s){t.$set(t.results,"updated",s)},expression:"results.updated"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(s){t.$set(t.results,"disabled",s)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},o=[],c=(e("e125"),e("2e73"),e("8e9e")),r=e.n(c),d=e("9ce4"),u=e("4778"),m={getMISStudents(t){u["a"].get("/admin/sync/misstudents").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncStudents(t){u["a"].post("/admin/sync/students").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getMISStaff(t){u["a"].get("/admin/sync/misstaff").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncStaff(t){u["a"].post("/admin/sync/staff").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getMISSubjects(t){u["a"].get("/admin/sync/missubjects").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncSubjects(t){u["a"].post("/admin/sync/subjects").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncExternalExams(t,s,e){u["a"].post("/admin/sync/externalexams/session/"+e).then(s=>{t(s.data)}).catch(t=>{console.log(t),s(t)})},postSyncExternalExamSessions(t,s,e){u["a"].post("/admin/sync/externalexams/sessions").then(s=>{t(s.data)}).catch(t=>{console.log(t),s(t)})},getExternalExamSessions(t){u["a"].get("/admin/sync/externalexams/sessions").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getInternalExamSessions(t){u["a"].get("/admin/sync/internalexams/sessions").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getInternalExams(t){u["a"].get("/admin/sync/internalexams/exams").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getInternalExamResults(t,s,e){u["a"].get("/admin/sync/internalexams/exams/"+e).then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncInternalSession(t,s,e){u["a"].post("/admin/sync/internalexams/sync/"+e).then(s=>{t(s.data)}).catch(t=>{console.log(t),s(t)})},getU6MockSessions(t){u["a"].get("/admin/sync/u6mock/sessions").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getU6MockExams(t){u["a"].get("/admin/sync/u6mock/exams").then(s=>{t(s.data)}).catch(t=>{console.log(t)})},getU6MockResults(t,s,e){u["a"].get("/admin/sync/u6mock/exams/"+e).then(s=>{t(s.data)}).catch(t=>{console.log(t)})},postSyncU6MockSession(t,s,e){u["a"].post("/admin/sync/u6mock/sync/"+e).then(s=>{t(s.data)}).catch(t=>{console.log(t),s(t)})}},g=e("d612"),f=e("dd14");function p(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function h(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?p(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var y={name:"ComponentAdminSyncStudentSync",props:{},data(){return{id:"0",stats:{misStudentCount:0,adaStudentCount:0},misStudentCount:"",misStudents:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"lastName",required:!0,label:"Name",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",required:!0,label:"",align:"left",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",align:"left",sortable:!0},{name:"house",label:"Hs",field:"txtBoardingHouse",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[],channel:"lab.crud.basic"}},methods:h(h({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{showMISStudents(t){this.misStudents=t.misStudents,this.stats=t.stats},syncStudents(){this.clearConsoleLog(),this.loading=!0,m.postSyncStudents(this.syncComplete)},syncComplete(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:h(h({},Object(d["c"])("sockets",["progress"])),{},{syncProgress(){return this.progress("Admin/Sync/Students")}}),components:{Crud:g["a"],Console:f["a"]},created(){m.getMISStudents(this.showMISStudents)}},b=y,x=(e("2c59"),e("2be6")),S=e("8c42"),C=e("bc74"),v=e("2ef0"),_=e("d1dc"),k=e("e279"),O=e.n(k),j=Object(x["a"])(b,l,o,!1,null,"ee77a5e8",null),w=j.exports;O()(j,"components",{QPage:S["a"],QInput:C["a"],QBtn:v["a"],QSpinnerGears:_["a"]});var q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("h1",[t._v("MIS Staff")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("crud",{ref:"crud",attrs:{dataOverride:t.misStaff,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent q-ba-sm"},[e("div",{staticClass:"row"},[e("div",{attrs:{clsss:"col flex"}},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# MIS Staff"},model:{value:t.stats.misStaffCount,callback:function(s){t.$set(t.stats,"misStaffCount",s)},expression:"stats.misStaffCount"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# ADA Staff"},model:{value:t.stats.adaStaffCount,callback:function(s){t.$set(t.stats,"adaStaffCount",s)},expression:"stats.adaStaffCount"}})],1)]),e("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStaff}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?e("div",[e("h1",[t._v("Summary")]),e("div",{attrs:{clsss:"row"}},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(s){t.$set(t.results,"new",s)},expression:"results.new"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(s){t.$set(t.results,"updated",s)},expression:"results.updated"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(s){t.$set(t.results,"disabled",s)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},E=[];function P(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function I(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?P(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):P(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var L={name:"ComponentAdminSyncStaffSync",props:{},data(){return{id:"0",stats:{misStaffCount:0,adaStaffCount:0},misStaffCount:"",misStaff:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!1},{name:"lastName",label:"Surname",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",label:"First Name",align:"left",field:"txtFirstname",sortable:!0},{name:"preName",label:"Pre Name",align:"left",field:"txtPreName",hidden:!0,sortable:!0},{name:"email",label:"Email",field:"txtEmailAddress",align:"left",sortable:!0},{name:"group",label:"Group",field:"intGroupID",align:"left",type:"options",filter:!0,options:[],sortable:!0},{name:"status",label:"Status",field:"txtStatus",align:"left",sortable:!0},{name:"type",label:"Type",field:"txtUserType",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:I(I({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{showMISStaff(t){this.misStaff=t.misStaff,this.columns[5].options=t.groups,this.stats=t.stats},syncStaff(){this.clearConsoleLog(),this.loading=!0,m.postSyncStaff(this.syncComplete)},syncComplete(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:I(I({},Object(d["c"])("sockets",["progress"])),{},{syncProgress(){return this.progress("Admin/Sync/Staff")}}),components:{Crud:g["a"],Console:f["a"]},created(){m.getMISStaff(this.showMISStaff)}},M=L,A=(e("eaa3b"),Object(x["a"])(M,q,E,!1,null,"b7c47e54",null)),D=A.exports;O()(A,"components",{QPage:S["a"],QInput:C["a"],QBtn:v["a"],QSpinnerGears:_["a"]});var N=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("h1",[t._v("MIS Subjects")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("crud",{ref:"crud",attrs:{dataOverride:t.misSubjects,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent q-ba-sm"},[e("div",{staticClass:"row"},[e("div",{attrs:{clsss:"col flex"}},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# MIS Subjects"},model:{value:t.stats.misSubjectsCount,callback:function(s){t.$set(t.stats,"misSubjectsCount",s)},expression:"stats.misSubjectsCount"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# ADA Subjects"},model:{value:t.stats.adaSubjectsCount,callback:function(s){t.$set(t.stats,"adaSubjectsCount",s)},expression:"stats.adaSubjectsCount"}})],1)]),e("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSubjects}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?e("div",[e("h1",[t._v("Summary")]),e("div",{attrs:{clsss:"row"}},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(s){t.$set(t.results,"new",s)},expression:"results.new"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(s){t.$set(t.results,"updated",s)},expression:"results.updated"}})],1)]),e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col"},[e("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(s){t.$set(t.results,"disabled",s)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},Q=[];function $(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function U(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?$(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):$(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var R={name:"ComponentAdminSyncSubjectsSync",props:{},data(){return{id:"0",stats:{misSubjectsCount:0,adaSubjectsCount:0},misSubjectsCount:"",misSubjects:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left"},{name:"name",label:"name",align:"left",field:"name",sortable:!0},{name:"code",label:"Code",align:"left",field:"code",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:U(U({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{showMISSubjects(t){this.misSubjects=t.misSubjects,this.stats=t.stats},syncSubjects(){this.clearConsoleLog(),this.loading=!0,m.postSyncSubjects(this.syncComplete)},syncComplete(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:U(U({},Object(d["c"])("sockets",["progress"])),{},{syncProgress(){return this.progress("Admin/Sync/Subjects")}}),components:{Crud:g["a"],Console:f["a"]},created(){m.getMISSubjects(this.showMISSubjects)}},B=R,G=(e("9216"),Object(x["a"])(B,N,Q,!1,null,"98febf30",null)),T=G.exports;O()(G,"components",{QPage:S["a"],QInput:C["a"],QBtn:v["a"],QSpinnerGears:_["a"]});var Y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{},[e("h1",[t._v("Exam Sessions")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-center"},[t._v("Id")]),e("th",{staticClass:"text-center"},[t._v("MIS Id")]),e("th",{staticClass:"text-center"},[t._v("Year")]),e("th",{staticClass:"text-center"},[t._v("Month")]),e("th",{staticClass:"text-center"},[t._v("Active")]),e("th",{staticClass:"text-center"},[t._v("Published")]),e("th",{staticClass:"text-center"},[t._v("Results")]),e("th",{staticClass:"text-center"},[t._v("Sync")])])]),e("tbody",t._l(t.sessions,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.misId))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.year))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.month))]),e("td",{staticClass:"text-center"},[t._v(t._s(1==s.isActive?"1":""))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.isPublished))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.resultsCount))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isExamLoading(s.id),percentage:100*t.syncExamsProgress,disabled:t.isExamDisabled(s.id),outline:"",dense:"",size:"xs",color:"accent","icon-right":"fal fa-sync fa-xs"},on:{click:function(e){return t.syncExams(s.id)}}})],1)])})),0)])],1),e("div",{staticClass:"col-4"},[e("div",{staticClass:"block border-accent qx-ba-sm"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncSessions}},[t._v("\n           Sync\n          "),e("span",{attrs:{slot:"loading"},slot:"loading"},[e("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),e("console",{staticStyle:{"min-height":"70vh"}})],1)])])])},F=[];function H(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function z(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?H(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):H(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var K={name:"ComponentAdminSyncExamsSync",props:{},data(){return{id:"0",stats:{misExamsCount:0,adaExamsCount:0},misExamsCount:"",misExams:[],loading:!1,percentage:100,syncIsComplete:!1,results:[],sessions:[],examLoading:!1,activeSessionId:null}},methods:z(z({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{syncSessions(){this.clearConsoleLog(),this.loading=!0,m.postSyncExternalExamSessions(this.sessionSyncComplete,t=>{this.loading=!1})},sessionSyncComplete(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0,this.getSessions()},getSessions(){m.getExternalExamSessions(t=>{this.sessions=t})},syncExams(t){this.examLoading||(this.examLoading=!0,this.activeSessionId=t,this.clearConsoleLog(),m.postSyncExternalExams(this.examsSyncComplete,t=>{this.loading=!1,this.examLoading=!1},t))},examsSyncComplete(t){this.examLoading=!1,this.results=t,this.syncIsComplete=!0,this.percentage=0,this.getSessions()},isExamLoading(t){return!(!this.examLoading||t!==this.activeSessionId)},isExamDisabled(t){return!(!this.examLoading||t===this.activeSessionId)}}),computed:z(z({},Object(d["c"])("sockets",["progress"])),{},{syncProgress(){return this.progress("Admin/Sync/ExternalExamSessions")},syncExamsProgress(){return this.progress("Admin/Sync/ExternalExams")}}),components:{Console:f["a"]},created(){this.getSessions()}},J=K,V=(e("2725"),e("2e0b")),W=Object(x["a"])(J,Y,F,!1,null,"72cfe4dd",null),X=W.exports;O()(W,"components",{QPage:S["a"],QMarkupTable:V["a"],QBtn:v["a"],QSpinnerGears:_["a"]});var Z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticStyle:{"overflow-y":"scroll","max-height":"80vh"}},[e("loading",{attrs:{loading:t.loading,channel:"sync.internalexams"}}),t.loading?t._e():e("div",{staticClass:"row q-mb-md q-mr-lg"},[e("q-btn-toggle",{staticClass:"col q-ml-xs",attrs:{spreads:"","no-caps":"",outline:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.modeOptions},on:{input:t.changeMode},model:{value:t.mode,callback:function(s){t.mode=s},expression:"mode"}}),t.syncingAll?e("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",dark:"",color:"warning",label:"Stop"},on:{click:function(s){t.stopSync=!0}}}):t._e(),e("q-btn",{attrs:{loading:t.syncLoading,percentage:100*t.pendingSessions.length/t.sessions.length,outline:"",dark:"",color:"accent",label:"Sync All"},on:{click:t.syncAllSessions}})],1),"sessions"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Description")]),e("th",{staticClass:"text-left"},[t._v("Year")]),e("th",{staticClass:"text-left"},[t._v("Type")]),e("th",{staticClass:"text-left"},[t._v("NC Year")]),e("th",{staticClass:"text-left"},[t._v("# Results")]),e("th",{staticClass:"text-left"},[t._v("# Papers")]),e("th",{staticClass:"text-left"},[t._v("Sync")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.sessions,(function(s){return e("tr",{key:s.id,class:"error"===s.type?"bg-warning":""},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.description))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.year))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.type))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.results))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.papers.length))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isSessionLoading(s.id),percentage:100*t.syncSessionProgress,disabled:t.isSessionDisabled(s.id),outline:"",dense:"",size:"xs",color:t.buttonColor(s.id),"icon-right":t.isSyncedSession(s.id)?"fal fa-check fa-xs":"fal fa-sync fa-xs"},on:{click:function(e){return t.requestSyncSession(s.id)}}})],1)])})),0)])],1)]),"exams"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px","max-height":"70vh","overflow-y":"scroll"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Paper Code")]),e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Subject")]),e("th",{staticClass:"text-left"},[t._v("Code")]),e("th",{staticClass:"text-left"},[t._v("Session")]),e("th",{staticClass:"text-left"},[t._v("NC Year")]),e("th",{staticClass:"text-left"},[t._v("Total Mark")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},[t._l(t.unmatchedExams,(function(s){return e("tr",{key:s.id+"_",staticClass:"bg-warning",class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.paperCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.sessionId))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.totalMark))])])})),t._l(t.exams,(function(s){return e("tr",{key:s.id,class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.paperCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.sessionId))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.NCYear))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.totalMark))])])}))],2)])],1),e("div",{staticClass:"col"},[e("loading",{attrs:{loading:t.resultsLoading,channel:"sync.internalexams"}}),t.resultsLoading?t._e():e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Mark")]),e("th",{staticClass:"text-left"},[t._v("Grade")]),e("th",{staticClass:"text-left"},[t._v("Rank")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.results,(function(s){return e("tr",{key:s.id+"_"},[e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.mark))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.grade))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.rank))])])})),0)])],1)])],1)},tt=[],st=e("10ac");function et(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function at(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?et(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):et(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var nt={name:"ComponentAdminSyncInternalSync",props:{},data(){return{loading:!1,resultsLoading:!1,selectedExam:null,sessions:[],exams:[],exam:null,results:[],unmatchedExams:[],syncLoading:!1,syncingAll:!1,activeSessionId:null,syncedSessions:[],syncErrors:{},stopSync:!1,pendingSessions:[],mode:"sessions",modeOptions:[{value:"sessions",label:"Sessions"},{value:"exams",label:"Exams"}]}},methods:at(at({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{changeMode(t){"exams"===t?this.getExams():this.getSessions()},getResults(t){this.selectedExam=t,this.resultsLoading=!0,m.getInternalExamResults(t=>{this.results=t.results,this.exam=t.paper,this.resultsLoading=!1},this.$errorHandler,t)},getSessions(){this.loading=!0,m.getInternalExamSessions(t=>{this.sessions=t,this.loading=!1})},getExams(){this.loading=!0,m.getInternalExams(t=>{this.exams=t.exams,this.unmatchedExams=t.unmatched,this.loading=!1})},syncAllSessions(){if(!this.syncingAll){this.stopSync=!1,this.syncingAll=!0,this.pendingSessions=this.sessions.map(t=>t.id);var t=this.pendingSessions.shift();this.requestSyncSession(t)}},syncSession(t){this.syncLoading=!0,this.activeSessionId=t,this.syncErrors[t]=!1,m.postSyncInternalSession(s=>{this.syncedSessions.push(t),this.pendingSessions.length>0&&!1===this.stopSync?this.syncSession(this.pendingSessions.shift()):(this.syncLoading=!1,this.syncingAll=!1)},s=>{this.syncErrors[t]=!0,this.syncLoading=!1,this.syncingAll=!1},t)},requestSyncSession(t){this.syncLoading||this.syncSession(t)},isSessionLoading(t){return!(!this.syncLoading||t!==this.activeSessionId)},isSessionDisabled(t){return!(!this.syncLoading||t===this.activeSessionId)},isSyncedSession(t){return this.syncedSessions.find(s=>s===t)},buttonColor(t){var s=this.isSyncedSession()?"positive":"accent";if(!0===this.syncErrors[t])return"warning";var e=this.sessions.find(s=>s.id===t&&!0===s.isInAda);return e?"positive":s}}),computed:at(at({},Object(d["c"])("sockets",["progress"])),{},{syncSessionProgress(){return this.progress("sync.internalexams")}}),components:{Console:f["a"],Loading:st["a"]},created(){this.changeMode("sessions")}},it=nt,lt=(e("6e46"),e("6dd6")),ot=Object(x["a"])(it,Z,tt,!1,null,"f22c04b2",null),ct=ot.exports;O()(ot,"components",{QPage:S["a"],QBtnToggle:lt["a"],QBtn:v["a"],QMarkupTable:V["a"]});var rt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticStyle:{"overflow-y":"scroll","max-height":"80vh"}},[e("loading",{attrs:{loading:t.loading,channel:"sync.U6Mocks"}}),t.loading?t._e():e("div",{staticClass:"row q-mb-md q-mr-lg"},[e("q-btn-toggle",{staticClass:"col q-ml-xs",attrs:{spreads:"","no-caps":"",outline:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.modeOptions},on:{input:t.changeMode},model:{value:t.mode,callback:function(s){t.mode=s},expression:"mode"}}),t.syncingAll?e("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",dark:"",color:"warning",label:"Stop"},on:{click:function(s){t.stopSync=!0}}}):t._e(),e("q-btn",{attrs:{loading:t.syncLoading,percentage:100*t.pendingSessions.length/t.sessions.length,outline:"",dark:"",color:"accent",label:"Sync All"},on:{click:t.syncAllSessions}})],1),"sessions"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Year")]),e("th",{staticClass:"text-left"},[t._v("# Papers")]),e("th",[t._v("Sync")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.sessions,(function(s){return e("tr",{key:s.id,class:"error"===s.type?"bg-warning":""},[e("td",{staticClass:"text-left"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.count))]),e("td",{staticClass:"text-left"},[e("q-btn",{staticClass:"full-width",attrs:{loading:t.isSessionLoading(s.id),percentage:100*t.syncSessionProgress,disabled:t.isSessionDisabled(s.id),outline:"",dense:"",size:"xs",color:t.buttonColor(s.id),"icon-right":t.isSyncedSession(s.id)?"fal fa-check fa-xs":"fal fa-sync fa-xs"},on:{click:function(e){return t.requestSyncSession(s.id)}}})],1)])})),0)])],1)]),"exams"!==t.mode||t.loading?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px","max-height":"70vh","overflow-y":"scroll"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Id")]),e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Subject")]),e("th",{staticClass:"text-left"},[t._v("Code")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},[t._l(t.unmatchedExams,(function(s){return e("tr",{key:s.id+"_",staticClass:"bg-warning",class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))])])})),t._l(t.exams,(function(s){return e("tr",{key:s.id,class:t.selectedExam==s.id?"bg-tertiary":"",on:{click:function(e){return t.getResults(s.id)}}},[e("td",{staticClass:"text-center"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectName))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.subjectCode))])])}))],2)])],1),e("div",{staticClass:"col"},[e("loading",{attrs:{loading:t.resultsLoading,channel:"sync.U6Mocks"}}),t.resultsLoading?t._e():e("q-markup-table",{staticClass:"q-mt-xs q-my-md q-mr-lg",staticStyle:{"margin-bottom":"200px"},attrs:{dense:"",flat:"",bordered:""}},[e("thead",{staticClass:"q-mb-md"},[e("tr",{staticClass:"bg-tertiary"},[e("th",{staticClass:"text-left"},[t._v("Name")]),e("th",{staticClass:"text-left"},[t._v("Mark")]),e("th",{staticClass:"text-left"},[t._v("Grade")]),e("th",{staticClass:"text-left"},[t._v("Rank")])])]),e("tbody",{staticStyle:{"overflow-y":"scroll"}},t._l(t.results,(function(s){return e("tr",{key:s.id+"_"},[e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.mark))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.grade))]),e("td",{staticClass:"text-left"},[t._v(t._s(s.rank))])])})),0)])],1)])],1)},dt=[];function ut(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function mt(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?ut(Object(e),!0).forEach((function(s){r()(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ut(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var gt={name:"ComponentAdminSyncU6MocksSync",props:{},data(){return{loading:!1,resultsLoading:!1,selectedExam:null,sessions:[],exams:[],exam:null,results:[],unmatchedExams:[],syncLoading:!1,syncingAll:!1,syncErrors:{},activeSessionId:null,syncedSessions:[],stopSync:!1,pendingSessions:[],mode:"sessions",modeOptions:[{value:"sessions",label:"Sessions"},{value:"exams",label:"Exams"}]}},methods:mt(mt({},Object(d["b"])("sockets",["clearConsoleLog"])),{},{changeMode(t){"exams"===t?this.getExams():this.getSessions()},getResults(t){this.selectedExam=t,this.resultsLoading=!0,m.getU6MockResults(t=>{this.results=t,this.resultsLoading=!1},this.$errorHandler,t)},getSessions(){this.loading=!0,m.getU6MockSessions(t=>{this.sessions=t,this.loading=!1})},getExams(){this.loading=!0,m.getU6MockExams(t=>{this.exams=t.exams,this.unmatchedExams=t.unmatched,this.loading=!1})},syncAllSessions(){if(!this.syncingAll){this.stopSync=!1,this.syncingAll=!0,this.pendingSessions=this.sessions.map(t=>t.id);var t=this.pendingSessions.shift();this.requestSyncSession(t)}},syncSession(t){this.syncLoading=!0,this.activeSessionId=t,this.syncErrors[t]=!1,m.postSyncU6MockSession(s=>{this.syncedSessions.push(t),this.pendingSessions.length>0&&!1===this.stopSync?this.syncSession(this.pendingSessions.shift()):(this.syncLoading=!1,this.syncingAll=!1)},s=>{this.syncErrors[t]=!0,this.syncLoading=!1,this.syncingAll=!1},t)},requestSyncSession(t){this.syncLoading||this.syncSession(t)},isSessionLoading(t){return!(!this.syncLoading||t!==this.activeSessionId)},isSessionDisabled(t){return!(!this.syncLoading||t===this.activeSessionId)},isSyncedSession(t){return this.syncedSessions.find(s=>s===t)},buttonColor(t){var s=this.isSyncedSession()?"positive":"accent";if(!0===this.syncErrors[t])return"warning";var e=this.sessions.find(s=>s.id===t&&!0===s.isInAda);return e?"positive":s}}),computed:mt(mt({},Object(d["c"])("sockets",["progress"])),{},{syncSessionProgress(){return this.progress("sync.U6Mocks")}}),components:{Console:f["a"],Loading:st["a"]},created(){this.changeMode("sessions")}},ft=gt,pt=(e("464e"),Object(x["a"])(ft,rt,dt,!1,null,"0d27d38c",null)),ht=pt.exports;O()(pt,"components",{QPage:S["a"],QBtnToggle:lt["a"],QBtn:v["a"],QMarkupTable:V["a"]});var yt={name:"PageAdminSync",data(){return{elements:[{name:"students",label:"Students",component:w,shortcut:"s"},{name:"staff",label:"Staff",component:D,shortcut:"t"},{name:"subjects",label:"Subjects",component:T,shortcut:"t"},{name:"extExams",label:"Ext. Exams",component:X,shortcut:"t"},{name:"intExams",label:"Int. Exams",component:ct,shortcut:"t"},{name:"u6Mocks",label:"U6 Mocks",component:ht,shortcut:"t"}]}},components:{toolbarPage:i["a"]},methods:{refresh(){}}},bt=yt,xt=Object(x["a"])(bt,a,n,!1,null,null,null);s["default"]=xt.exports},9216:function(t,s,e){"use strict";var a=e("bb4f"),n=e.n(a);n.a},"9f1a":function(t,s,e){},bb4f:function(t,s,e){},c207:function(t,s,e){},eaa3b:function(t,s,e){"use strict";var a=e("74a9"),n=e.n(a);n.a},ec43:function(t,s,e){}}]);