(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["15842b68"],{"009d":function(e,t,a){var s=a("ef37"),n=a("a97a")(!1);s(s.S,"Object",{values:function(e){return n(e)}})},"0174":function(e,t,a){},"0c51":function(e,t,a){},"44b2":function(e,t,a){"use strict";var s=a("7764"),n=a.n(s);n.a},"466d":function(e,t,a){"use strict";var s=a("920c"),n=a.n(s);n.a},"4a26":function(e,t,a){"use strict";var s=a("0c51"),n=a.n(s);n.a},"4e4b":function(e,t,a){},"52be":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{},[a("div",{staticClass:"row fit"},[a("div",{staticClass:"col-3 flex flex-top sessions"},[a("q-list",{staticClass:"q-mt-md dark-example fit ",attrs:{dark:""}},[a("q-item-label",{staticClass:"text-left",attrs:{header:"",inset:""}},[e._v("Sessions")]),e._l(e.sessions,function(t){return a("q-item",{key:t.id,class:t.id==e.currentSessionId?"session-active":null,attrs:{"data-id":t.TblExamManagerCyclesID},nativeOn:{click:function(a){return e.clickSession(t)}}},[a("q-item-section",{attrs:{side:"",icon:"folder",color:t.id==e.currentSessionId?"secondary":"primary"}}),a("q-item-section",[a("q-item-label",[e._v(e._s(e._f("formatDate")("20"+t.intYear+"-"+t.intFormatMonth)))]),a("q-item-label",{attrs:{caption:""}})],1)],1)})],2)],1),a("div",{staticClass:"col"},[e.isWorking||e.isError?a("app-console"):e._e(),e.isWorking||e.isError||!e.isLoaded?e._e():a("q-tabs",{attrs:{color:"primary"}},[e.hasHundred?a("q-tab",{attrs:{slot:"title",default:"",name:"summary",icon:"fas fa-book-open",label:"summary"},slot:"title"}):e._e(),a("q-tab",{attrs:{slot:"title",default:!e.hasHundred,name:"students",icon:"fas fa-users",label:"students"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"subjects",icon:"fas fa-graduation-cap",label:"subjects"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"houses",icon:"fas fa-home",label:"houses"},slot:"title"}),a("q-tab",{attrs:{slot:"title",count:e.results.length,name:"all",icon:"fas fa-list-ul",label:"all"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"spreadsheet",icon:"far fa-file-excel",label:"Spreadsheet"},on:{click:e.clickSpreadsheet},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"cemSpreadsheet",icon:"far fa-file-excel",label:"CEM"},on:{click:e.clickCemSpreadsheet},slot:"title"}),a("q-tab-panel",{attrs:{name:"all"}},[a("app-results-table",{attrs:{tableData:e.results}})],1),a("q-tab-panel",{attrs:{name:"students"}},[a("app-students-table",{attrs:{statistics:e.statistics}})],1),a("q-tab-panel",{attrs:{name:"subjects"}},[a("app-subjects-table",{attrs:{statistics:e.statistics}})],1),a("q-tab-panel",{attrs:{name:"houses"}},[a("app-houses-table",{attrs:{statistics:e.statistics}})],1),a("q-tab-panel",{attrs:{name:"summary"}},[a("app-results-summary",{attrs:{statistics:e.statistics}})],1)],1)],1)])])},n=[],l=a("b506"),r=a.n(l),i=a("c286"),o=a("9ce4"),c=a("dd14"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{data:e.tableData,columns:e.columns,filter:e.filter,"visible-columns":e.visibleColumns,separator:e.separator,pagination:e.paginationControl,"row-key":"id",color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[a("q-table-columns",{staticClass:"q-mr-sm text-white",staticStyle:{color:"white"},attrs:{color:"white",dark:"",columns:e.columns},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])})},d=[],f={name:"ResultsDataTable",data:function(){return{columns:[{name:"id",label:"id",field:"id"},{name:"schoolId",label:"School Id",field:"txtSchoolID"},{name:"surname",required:!0,label:"Surname",align:"left",field:"txtSurname",sortable:!0},{name:"forename",label:"Forename",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"boarding",label:"House",field:"txtHouseCode",sortable:!0},{name:"exam",label:"Quali",field:"txtQualification"},{name:"subjectCode",label:"Code",field:"subjectCode",sortable:!0},{name:"grade",label:"Grade",field:"grade",sortable:!0},{name:"examTitle",label:"Exam",field:"txtOptionTitle"}],filter:"",visibleColumns:["surname","forename","gender","boarding","subjectCode","grade"],separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:50,page:1},loading:!1,dark:!0}},props:["tableData"],watch:{"paginationControl.page":function(e){var t=this;this.$q.notify({color:"secondary",message:"Navigated to page ".concat(e),actions:e<4?[{label:"Go to last page",handler:function(){t.paginationControl.page=4}}]:null})}},computed:{tableClass:function(){if(this.dark)return"bg-black"}}},b=f,m=(a("466d"),a("2be6")),p=Object(m["a"])(b,u,d,!1,null,"8441f05a",null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{data:e.tableData,columns:e.columns,filter:e.filter,separator:e.separator,pagination:e.paginationControl,"row-key":e.txtInitialedName,color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[a("q-select",{staticClass:"q-mx-xl",staticStyle:{color:"white"},attrs:{color:"white",dark:"",options:e.yearList,"hide-underline":""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),a("q-select",{staticClass:"q-mx-md",staticStyle:{color:"white"},attrs:{color:"white",dark:"",options:e.houseList,"hide-underline":""},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}}),a("q-table-columns",{staticClass:"q-mr-sm text-white",staticStyle:{color:"white"},attrs:{color:"white",dark:"",columns:e.columns},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])})},y=[],v=(a("009d"),a("2e73"),a("dde3"),a("0c1f"),{name:"StudentResultsDataTable",data:function(){return{filter:"",year:11,house:0,separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:40,page:1,sortBy:"txtInitialedName"},loading:!1,dark:!0}},props:["statistics"],created:function(){this.year=this.statistics.years[0].value},computed:{columns:function(){for(var e=[{name:"txtInitialedName",required:!0,label:"Name",align:"left",field:"txtInitialedName",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",sortable:!0},{name:"house",label:"Hs",field:"txtHouseCode",sortable:!0}],t=this.currentData.subjectResults,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];e.push({name:n,label:n,field:n,sortable:!0})}return e.push({name:"total",label:"Total",field:"resultCount",sortable:!0}),e.push({name:"gradeAverage",label:"Grade Avg.",field:"gradeAverage",sortable:!0}),e},yearList:function(){return this.statistics.years},houseList:function(){var e=[];e.push({label:"All Houses",value:0});for(var t=0,a=Object.keys(this.currentData.houseResults);t<a.length;t++){var s=a[t];e.push({label:s,value:s})}return e},currentData:function(){switch(this.year){case 11:return this.statistics.hundredStats;case 10:return this.statistics.removeStats;case 9:return this.statistics.shellStats}},tableData:function(){var e=this,t=Object.values(this.currentData.allStudents),a=t.filter(function(t,a){return 0===e.house||t.txtHouseCode===e.house});return a},tableClass:function(){if(this.dark)return"bg-black"}}}),C=v,k=(a("44b2"),Object(m["a"])(C,g,y,!1,null,"2ef2a103",null)),x=k.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{data:e.tableData,columns:e.columns,filter:e.filter,separator:e.separator,pagination:e.paginationControl,"row-key":e.txtInitialedName,color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[a("q-select",{staticClass:"q-mx-xl",staticStyle:{color:"white"},attrs:{color:"white",dark:"",options:e.yearList,"hide-underline":""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])})},S=[],w={name:"SubjectResultsDataTable",data:function(){return{filter:"",year:11,separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:40,page:1,sortBy:"subjectName"},loading:!1,dark:!0}},props:["statistics"],created:function(){this.year=this.statistics.years[0].value},computed:{columns:function(){var e=[{name:"subjectName",required:!0,label:"Subject",align:"left",field:"subjectName",sortable:!0},{name:"boardName",required:!0,label:"Board",align:"left",field:"boardName",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"candidates",label:"Candidates",field:function(e){return e.summaryData["candidateCount"]},sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:function(e){return e.summaryData["gradeAverage"]},sortable:!0},{name:"ABs",label:"% AB",field:function(e){return e.summaryData["%ABs"]},sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0,align:"right"},{name:"%pass",label:"% Pass ",field:function(e){return e.summaryData["%passRate"]},sortable:!0,align:"left"},{name:"fails",label:"Fails",field:"fails",sortable:!0},{name:"astar",label:"A*",field:function(e){return e.gradeCounts["A*"]},sortable:!0},{name:"a",label:"A",field:function(e){return e.gradeCounts["A"]},sortable:!0},{name:"b",label:"B",field:function(e){return e.gradeCounts["B"]},sortable:!0},{name:"c",label:"C",field:function(e){return e.gradeCounts["C"]},sortable:!0},{name:"d",label:"D",field:function(e){return e.gradeCounts["D"]},sortable:!0},{name:"e",label:"E",field:function(e){return e.gradeCounts["E"]},sortable:!0},{name:"u",label:"U",field:function(e){return e.gradeCounts["U"]},sortable:!0}];return e},yearList:function(){return this.statistics.years},currentData:function(){switch(this.year){case 11:return this.statistics.hundredStats;case 10:return this.statistics.removeStats;case 9:return this.statistics.shellStats}},tableData:function(){return Object.values(this.currentData.subjectResults)},tableClass:function(){if(this.dark)return"bg-black"}}},_=w,D=(a("f4cf"),Object(m["a"])(_,q,S,!1,null,"333e270e",null)),j=D.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{data:e.tableData,columns:e.columns,filter:e.filter,separator:e.separator,pagination:e.paginationControl,"row-key":e.txtInitialedName,color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[a("q-select",{staticClass:"q-mx-xl",staticStyle:{color:"white"},attrs:{color:"white",dark:"",options:e.yearList,"hide-underline":""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])})},E=[],T={name:"HouseResultsDataTable",data:function(){return{filter:"",year:11,separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:40,page:1,sortBy:"txtHouseCode"},loading:!1,dark:!0}},props:["statistics"],created:function(){this.year=this.statistics.years[0].value},computed:{columns:function(){var e=[{name:"houseName",required:!0,label:"House",align:"left",field:"txtHouseCode",sortable:!0},{name:"position",label:"Position",field:"position",sortable:!0},{name:"gradeAverage",label:"Grade Avg.",field:function(e){return e.summaryData["gradeAverage"]},sortable:!0},{name:"sixOrMore",label:"> 6 As",field:function(e){return e.summaryData["sixOrMoreAs"]},sortable:!0},{name:"astar",label:"A*",field:function(e){return e.gradeCounts["A*"]},sortable:!0},{name:"a",label:"A",field:function(e){return e.gradeCounts["A"]},sortable:!0},{name:"b",label:"B",field:function(e){return e.gradeCounts["B"]},sortable:!0},{name:"c",label:"C",field:function(e){return e.gradeCounts["C"]},sortable:!0},{name:"d",label:"D",field:function(e){return e.gradeCounts["D"]},sortable:!0},{name:"e",label:"E",field:function(e){return e.gradeCounts["E"]},sortable:!0},{name:"u",label:"U",field:function(e){return e.gradeCounts["U"]},sortable:!0},{name:"passes",label:"Passes",field:"passes",sortable:!0},{name:"fails",label:"Fails",field:"fails",sortable:!0}];return e},yearList:function(){return this.statistics.years},currentData:function(){switch(this.year){case 11:return this.statistics.hundredStats;case 10:return this.statistics.removeStats;case 9:return this.statistics.shellStats}},tableData:function(){return Object.values(this.currentData.houseResults)},tableClass:function(){if(this.dark)return"bg-black"}}},O=T,B=(a("75ec"),Object(m["a"])(O,A,E,!1,null,"14abf4b8",null)),F=B.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"text-secondary"},[e._v("Summary for Hundred Candidates")]),a("q-table",{attrs:{data:e.summaryData,columns:e.columns,filter:e.filter,"visible-columns":e.visibleColumns,separator:e.separator,pagination:e.paginationControl,"row-key":"id",color:"primary",dark:"",dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"secondary",dark:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(e){return[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}})]}}])})],1)},R=[],G={name:"HouseResultsDataTable",data:function(){return{columns:[{name:"desc",label:"Description",field:"desc",align:"left"},{name:"Boys",label:"Boys",field:"M_val",align:"right"},{name:"Boys%",label:"%",field:"M_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}},{name:"Girls",label:"Girls",field:"F_val",align:"right"},{name:"Girls%",label:"%",field:"F_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}},{name:"Total",label:"Total",field:"total_val",align:"right"},{name:"Total%",label:"%",field:"total_val%",align:"left",format:function(e){return"undefined"!==typeof e?"".concat(e,"%"):""}}],filter:"",visibleColumns:["desc","Boys","Boys%","Girls","Girls%","Total","Total%"],separator:"horizontal",selection:"none",pagination:{page:1},paginationControl:{rowsPerPage:50,page:1},loading:!1,dark:!0}},props:["statistics"],computed:{summaryData:function(){return this.statistics.hundredStats.summaryData}}},H=G,P=(a("4a26"),Object(m["a"])(H,L,R,!1,null,"e46e50be",null)),I=P.exports,N={name:"PageResults",props:{isGcse:{type:Boolean}},data:function(){return{sessions:[],currentSessionId:"",isWorking:!1,isLoaded:!1,isError:!1,results:[],statistics:[]}},methods:r()({},Object(o["b"])("sockets",["clearConsoleLog"]),{clickSpreadsheet:function(){var e=this;this.$axios({url:this.statistics.spreadsheet.path,method:"GET",responseType:"blob"}).then(function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",e.statistics.spreadsheet.filename),document.body.appendChild(s),s.click()})},clickCemSpreadsheet:function(){var e=this;this.$axios({url:this.statistics.cemSpreadsheet.path,method:"GET",responseType:"blob"}).then(function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",e.statistics.cemSpreadsheet.filename),document.body.appendChild(s),s.click()})},clickSession:function(e){var t=this;!0!==this.isWorking&&(this.clearConsoleLog(),this.isWorking=!0,this.isError=!1,this.currentSessionId=e.id,this.$axios.get("/data/exams/"+this.routeString+"/results/"+e.id).then(function(e){t.isWorking=!1,console.log(e),t.results=e.data.results,t.statistics=e.data.statistics,t.isLoaded=!0}).catch(function(e){t.isError=!0,t.isWorking=!1,console.warn(e)}))}}),computed:{routeString:function(){return!0===this.isGcse?"gcse":"alevel"},hasHundred:function(){try{if(11===this.statistics.years[0].value)return!0}catch(e){return!1}}},filters:{formatDate:function(e){e+="-01";var t=new Date(e);return i["a"].formatDate(t,"MMMM YYYY")}},components:{appConsole:c["a"],appResultsTable:h,appStudentsTable:x,appSubjectsTable:j,appHousesTable:F,appResultsSummary:I},created:function(){var e=this;this.$axios.get("/data/exams/sessions").then(function(t){e.sessions=t.data.results}).catch(function(e){console.error(e)})}},M=N,$=(a("db71"),Object(m["a"])(M,s,n,!1,null,"271a95da",null));t["a"]=$.exports},"75ec":function(e,t,a){"use strict";var s=a("80f5"),n=a.n(s);n.a},7764:function(e,t,a){},"80f5":function(e,t,a){},"920c":function(e,t,a){},a1e9:function(e,t,a){},d277:function(e,t,a){"use strict";var s=a("a1e9"),n=a.n(s);n.a},db71:function(e,t,a){"use strict";var s=a("0174"),n=a.n(s);n.a},dd14:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"console q-ma-md full-height"},[a("p",{staticClass:"q-ma-sm"},[e._v("Console")]),a("ul",e._l(e.consoleLog,function(t){return a("li",{key:t.lineIndex,class:{error:t.isError,indent1:1==t.indent,indent2:2==t.indent,indent3:3==t.indent}},[e._v("\n      "+e._s(t.message)+"\n    ")])}),0)])},n=[],l=a("b506"),r=a.n(l),i=a("9ce4"),o={name:"AppConsole",data:function(){return{}},computed:r()({},Object(i["c"])("sockets",["consoleLog"]))},c=o,u=(a("d277"),a("2be6")),d=Object(u["a"])(c,s,n,!1,null,"99bdb7ea",null);t["a"]=d.exports},f4cf:function(e,t,a){"use strict";var s=a("4e4b"),n=a.n(s);n.a}}]);