(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(n,e,t){n.exports=t("7d3e")},"0afc":function(n,e,t){},"1c72":function(n,e,t){"use strict";var o=t("ff1e"),r=t.n(o);r.a},"40e4":function(n,e){},"476c":function(n,e){},5516:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var o=t("7338"),r=t.n(o),a=r.a.create({baseURL:Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).API_URL});r.a.defaults.port=80,e["b"]=function(n){var e=n.Vue;e.prototype.$axios=a}},"564f":function(n,e,t){},"7d3e":function(n,e,t){"use strict";t.r(e);var o={};t.r(o),t.d(o,"userId",function(){return _n}),t.d(o,"name",function(){return Tn}),t.d(o,"permissions",function(){return Sn}),t.d(o,"isDark",function(){return kn}),t.d(o,"isLight",function(){return Pn}),t.d(o,"isAuthenticated",function(){return wn}),t.d(o,"getModuleAccess",function(){return Un}),t.d(o,"getModuleColor",function(){return Vn}),t.d(o,"getPageAccess",function(){return yn});var r={};t.r(r),t.d(r,"authUser",function(){return Mn}),t.d(r,"clearAuthData",function(){return Fn}),t.d(r,"isDark",function(){return Nn}),t.d(r,"role",function(){return Hn});var a={};t.r(a),t.d(a,"login",function(){return Wn}),t.d(a,"tryAutoLogin",function(){return $n}),t.d(a,"logout",function(){return qn}),t.d(a,"isDark",function(){return Gn}),t.d(a,"setAxiosHeader",function(){return Jn}),t.d(a,"setPrimaryColor",function(){return zn});var s={};t.r(s),t.d(s,"consoleLog",function(){return Yn}),t.d(s,"updaterData",function(){return Zn}),t.d(s,"updater",function(){return ne}),t.d(s,"progress",function(){return ee});var i={};t.r(i),t.d(i,"consoleLog",function(){return te}),t.d(i,"updater",function(){return oe}),t.d(i,"progress",function(){return re}),t.d(i,"clearConsoleLog",function(){return ae});var u={};t.r(u),t.d(u,"connectSocket",function(){return ie}),t.d(u,"clearConsoleLog",function(){return ue});var c={};t.r(c),t.d(c,"activeSession",function(){return le}),t.d(c,"coachOutFilter",function(){return pe}),t.d(c,"coachRetFilter",function(){return de});var f={};t.r(f),t.d(f,"setActiveSession",function(){return he}),t.d(f,"setCoachOutFilter",function(){return me}),t.d(f,"setCoachRetFilter",function(){return be});t("5b54"),t("3b86"),t("cb5f"),t("f850"),t("0afc"),t("564f");var l=t("e832"),p=t("2c52"),d=t("c66d"),h=t("36d4"),m=t("272c"),b=t("cfb1"),g=t("5418"),v=t("3f02"),E=t("99be"),Q=t("f416"),R=t("1340"),A=t("d9b0"),L=t("a8f5"),D=t("d7f5"),O=t("af77"),I=t("7bf7"),_=t("03e6"),T=t("0ffe"),S=t("6e6d"),k=t("fb08"),P=t("86fd"),w=t("85e5"),U=t("48d9"),V=t("6af1"),y=t("8bd5"),C=t("4b12"),x=t("22d0"),M=t("d6c5"),F=t("22ba"),N=t("9bbe"),H=t("4e8c"),j=t("992b"),B=t("aa8e"),W=t("3a46"),$=t("0e36"),q=t("a261"),G=t("af8a"),J=t("a90c"),z=t("619e"),K=t("1785"),X=t("5ab6"),Y=t("6377"),Z=t("b6d6"),nn=t("baef"),en=t("fa7b"),tn=t("5e9f"),on=t("a529"),rn=t("ffa7"),an=t("bc7b"),sn=t("4742"),un=t("0ad0"),cn=t("e49d"),fn=t("4ad8"),ln=t("4336"),pn=t("2f0f");l["a"].use(d["a"],{config:{},iconSet:p["a"],components:{QLayout:h["a"],QLayoutHeader:m["a"],QLayoutDrawer:b["a"],QPageContainer:g["a"],QScrollArea:v["a"],QPage:E["a"],QToolbar:Q["a"],QToolbarTitle:R["a"],QBtn:A["a"],QBtnGroup:L["a"],QIcon:D["a"],QList:O["a"],QListHeader:I["a"],QItem:_["a"],QItemMain:T["a"],QItemSide:S["a"],QField:k["a"],QInput:P["a"],QBtnDropdown:w["a"],QItemTile:U["a"],QTabs:V["a"],QTab:y["a"],QTabPane:C["a"],QCheckbox:x["a"],QRouteTab:M["a"],QTable:F["a"],QTh:N["a"],QTr:H["a"],QTd:j["a"],QTableColumns:B["a"],QSearch:W["a"],QSelect:$["a"],QPopupEdit:q["a"],QPopover:G["a"],QFab:J["a"],QFabAction:z["a"],QColorPicker:K["a"],QAjaxBar:X["a"],QSpinner:Y["a"],QSpinnerGears:Z["a"],QSpinnerAudio:nn["a"],QTree:en["a"],QTooltip:tn["a"],QDialog:on["a"],QToggle:rn["a"],QModal:an["a"]},directives:{Ripple:sn["a"],CloseOverlay:un["a"]},plugins:{Notify:cn["a"],Dialog:fn["a"],LocalStorage:ln["a"],AppFullscreen:pn["a"]}});var dn=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("q-ajax-bar",{attrs:{color:"primary"}})],1)},hn=[];dn._withStripped=!0;var mn=t("baa9"),bn=mn["a"],gn=(t("1c72"),t("a6c2")),vn=Object(gn["a"])(bn,dn,hn,!1,null,null,null);vn.options.__file="App.vue";var En=vn.exports,Qn=t("94ea"),Rn={},An=t("40e4"),Ln=t("476c"),Dn=t("cd45"),On={namespaced:!0,state:Rn,getters:An,mutations:Ln,actions:Dn},In={userId:null,auth:null,firstname:null,lastname:null,permissions:{},roles:[],isDark:!0,isLight:!1},_n=function(n){return n.userId},Tn=function(n){var e={firstname:n.firstname,lastname:n.lastname};return e},Sn=function(n){return n.permissions},kn=function(n){return n.isDark},Pn=function(n){return n.isLight},wn=function(n){return null!==n.auth},Un=function(n){return function(e){return!!n.permissions[e]&&n.permissions[e].hasAccess}},Vn=function(n){return function(e){return n.permissions[e]?n.permissions[e].color:"#4fc08d"}},yn=function(n){return function(e,t){if(!n.permissions[e])return!1;var o=n.permissions[e];return!!o.pages[t]&&o.pages[t].hasAccess}},Cn=(t("8ade"),t("9f14")),xn=t.n(Cn),Mn=(t("2bf3"),t("baa4"),function(n,e){n.auth=e.auth,n.userId=e.userId,n.permissions=e.permissions,n.roles=e.roles}),Fn=function(n){n.auth=null,n.userId=null,n.permissions={},n.roles=[]},Nn=function(n,e){n.isDark=e,n.isLight=!e},Hn=function(n,e){var t=e[0].data,o=e[0].roleId;Object.entries(t).forEach(function(e){var r=xn()(e,2),a=r[0],s=r[1];if(n.permissions[a]){!0===t[a].hasAccess&&(n.permissions[a].hasAccess=!0,n.permissions[a].fromRoles.find(function(n){return n===o})||n.permissions[a].fromRoles.push(o)),!1===t[a].hasAccess&&1===n.permissions[a].fromRoles.length&&(n.permissions[a].fromRoles=[],n.permissions[a].hasAccess=!1);var i=s.pages;Object.entries(i).forEach(function(e){var t=xn()(e,2),r=t[0],s=t[1];n.permissions[a].pages[r]?n.permissions[a].pages[r].fromRoles.find(function(n){return n===o})?1===n.permissions[a].pages[r].fromRoles.length&&l["a"].set(n.permissions[a].pages,r,s):!0===s.hasAccess&&(n.permissions[a].pages[r].hasAccess=!0,n.permissions[a].pages[r].fromRoles.push(o)):l["a"].set(n.permissions[a].pages,r,s)})}else l["a"].set(n.permissions,a,s)})},jn=(t("0dbc"),t("5516")),Bn=t("7233"),Wn=function(n,e){var t=n.commit,o=n.dispatch;return console.log(e),new Promise(function(n,r){jn["a"].post("/auth/login",{login:e.login,password:e.password}).then(function(e){var r=e.data;t("authUser",{auth:r.auth,userId:r.userId,permissions:r.permissions,roles:r.roles}),ln["a"].set("auth",r.auth),ln["a"].set("userId",r.userId),ln["a"].set("permissions",r.permissions),ln["a"].set("roles",r.roles),o("setAxiosHeader",e.data.auth),o("sockets/connectSocket",r.auth,{root:!0}),n(e)}).catch(function(n){r(n)})})},$n=function(n){var e=n.commit,t=n.dispatch,o=ln["a"].get.item("auth");return null!==o&&(e("authUser",{auth:o,userId:ln["a"].get.item("userId"),permissions:ln["a"].get.item("permissions"),roles:ln["a"].get.item("roles")}),t("setAxiosHeader",o),t("sockets/connectSocket",o,{root:!0}),!0)},qn=function(n){var e=n.commit,t=n.dispatch;ln["a"].clear(),e("clearAuthData"),t("setAxiosHeader","")},Gn=function(n,e){var t=n.commit;t("isDark",e)},Jn=function(n,e){jn["a"].defaults.headers.common["Authorization"]=e},zn=function(n,e){n.commit;return e===Bn["a"]},Kn={namespaced:!0,state:In,getters:o,mutations:r,actions:a},Xn={consoleLog:[],updaters:{},updaterData:{},progress:{},progressIsComplete:{}},Yn=(t("d946"),function(n){return n.consoleLog.slice().reverse()}),Zn=function(n){return function(e){return n.updaterData[e]}},ne=function(n){return function(e,t){if(!n.updaters[e])return t;var o=n.updaters[e],r=o.key,a=o.data[r],s=t.findIndex(function(n){return n[r]===a});return s>-1&&l["a"].set(t,s,o.data),t}},ee=function(n){return function(e){return n.progress[e]?n.progress[e]:0}},te=(t("67c8"),function(n,e){if(!0===e.replace){for(var t=n.consoleLog.length,o=t-1;o>=0;o--)if(!1===n.consoleLog[o].isError){n.consoleLog[o].message=e.message;break}}else n.consoleLog.push(e),console.log(e.message)}),oe=function(n,e){var t=e[0].updaterId;l["a"].set(n.updaters,t,e[0])},re=function(n,e){var t=e[0].progressId;l["a"].set(n.progress,t,e[0].progress),l["a"].set(n.progressIsComplete,t,e[0].isComplete)},ae=function(n){n.consoleLog=[]},se=t("68c4"),ie=function(n,e){var t=n.commit,o=n.rootState;l["a"].use(se["a"],{debug:!0,url:"ws://localhost:9090",realm:"realm1",onopen:function(n,e){console.log("WAMP connected",n,e)},onclose:function(n,e){console.log("WAMP closed: "+n,e)}}),l["a"].Wamp.subscribe("console_"+e,function(n,e,o){t("consoleLog",n[0])},{acknowledge:!0}).then(function(n){}),l["a"].Wamp.subscribe("updater_"+e,function(n,e,o){t("updater",n)},{acknowledge:!0}).then(function(n){}),l["a"].Wamp.subscribe("progress_"+e,function(n,e,o){t("progress",n)},{acknowledge:!0}).then(function(n){}),o.user.roles.forEach(function(n,e){console.log(n),l["a"].Wamp.subscribe("role_"+n,function(n,e,o){t("user/role",n,{root:!0})},{acknowledge:!0}).then(function(n){})})},ue=function(n){var e=n.commit;e("clearConsoleLog")},ce={namespaced:!0,state:Xn,getters:s,mutations:i,actions:u},fe={activeSession:null,activeSessionName:null,coachOutFilter:[],coachRetFilter:[]},le=function(n){return n.activeSession},pe=function(n){return n.coachOutFilter},de=function(n){return n.coachRetFilter},he=function(n,e){n.activeSession=e},me=function(n,e){n.coachOutFilter=e},be=function(n,e){n.coachRetFilter=e},ge=t("f8a3"),ve={namespaced:!0,state:fe,getters:c,mutations:f,actions:ge};l["a"].use(Qn["a"]);var Ee=new Qn["a"].Store({modules:{example:On,user:Kn,sockets:ce,transport:ve}}),Qe=Ee,Re=t("4af9"),Ae={path:"admin",component:function(){return t.e("4c7193ff").then(t.bind(null,"b21c"))},children:[{path:"",component:function(){return t.e("2d0bce42").then(t.bind(null,"2a52"))}},{path:"active",component:function(){return t.e("37a11f7e").then(t.bind(null,"2fc1"))}},{path:"sync",component:function(){return t.e("7e53232d").then(t.bind(null,"0470"))}},{path:"access",component:function(){return t.e("6a9b0564").then(t.bind(null,"ef5a"))}}]},Le={path:"transport",component:function(){return t.e("0bacbe55").then(t.bind(null,"9f04"))},children:[{path:"",component:function(){return t.e("460b2ba8").then(t.bind(null,"594b"))}}]},De={path:"students",component:function(){return t.e("61258ee6").then(t.bind(null,"62e6"))},children:[{path:"profile",component:function(){return t.e("57c3081c").then(t.bind(null,"d97c"))}},{path:"list",component:function(){return t.e("ef124a26").then(t.bind(null,"e3af"))}}]},Oe=[{path:"/",component:function(){return t.e("9651a5da").then(t.bind(null,"38b2"))},children:[{path:"",component:function(){return t.e("0cf2d9c2").then(t.bind(null,"9a8f"))}},{path:"exams",component:function(){return t.e("664b2db7").then(t.bind(null,"570e"))},children:[{path:"",component:function(){return t.e("2d217361").then(t.bind(null,"c680"))}},{path:"gcse",component:function(){return Promise.all([t.e("c1b50d58"),t.e("4f2cf20a")]).then(t.bind(null,"8c49"))}},{path:"alevel",component:function(){return Promise.all([t.e("c1b50d58"),t.e("4d0a35d2")]).then(t.bind(null,"3be1"))}}]},{path:"locations",component:function(){return t.e("0a0af224").then(t.bind(null,"6d20"))},children:[{path:"chapel",component:function(){return t.e("97da3858").then(t.bind(null,"ef64"))}}]},{path:"user",component:function(){return t.e("272570c2").then(t.bind(null,"3896"))}},Ae,Le,De]},{path:"/login",name:"login",component:function(){return t.e("92316bba").then(t.bind(null,"c4ea"))},children:[{path:"",component:function(){return t.e("59aa3c98").then(t.bind(null,"91c9"))}}]},{path:"*",component:function(){return t.e("5e880c35").then(t.bind(null,"4258"))}}],Ie=Oe;l["a"].use(Re["a"]);var _e=new Re["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Ie}),Te=_e,Se=function(){var n="function"===typeof Qe?Qe():Qe,e="function"===typeof Te?Te({store:n}):Te;n.$router=e;var t={el:"#q-app",router:e,store:n,render:function(n){return n(En)}};return{app:t,store:n,router:e}},ke=function(n){var e=n.router;n.store,n.Vue;e.beforeEach(function(n,e,t){t()})},Pe=(t("54d6"),t("c46e"),function(n){n.app,n.router,n.Vue}),we=t("79a0"),Ue=t.n(we),Ve=function(n){n.app,n.router;var e=n.Vue;e.use(Ue.a)},ye=Se(),Ce=ye.app,xe=ye.store,Me=ye.router;[jn["b"],ke,Pe,Ve].forEach(function(n){n({app:Ce,router:Me,store:xe,Vue:l["a"],ssrContext:null})}),new l["a"](Ce)},a2a5:function(n,e){n.exports=function(n,e){return Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"})[n]||e}},baa9:function(n,e,t){"use strict";(function(n){t("67c8");e["a"]={name:"App",data:function(){return{dark:!1}},methods:{},created:function(){var e=this;console.info(Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"})),console.log(n("API_URL")),this.$store.dispatch("user/tryAutoLogin").then(function(n){!0===n||e.$router.replace("/login")})}}}).call(this,t("a2a5"))},cd45:function(n,e){},f8a3:function(n,e){},ff1e:function(n,e,t){}},[[0,"runtime","vendor"]]]);